<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [S3d-svn] r905 - in trunk/extras/distro/gentoo/media-libs/libg3d: .	files
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/s3d-svn/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:s3d-svn%40lists.berlios.de?Subject=Re%3A%20%5BS3d-svn%5D%20r905%20-%20in%20trunk/extras/distro/gentoo/media-libs/libg3d%3A%20.%0A%09files&In-Reply-To=%3C200801112136.m0BLaM4Z026524%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000897.html">
   <LINK REL="Next"  HREF="000899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[S3d-svn] r905 - in trunk/extras/distro/gentoo/media-libs/libg3d: .	files</H1>
    <B>lazhur at BerliOS</B> 
    <A HREF="mailto:s3d-svn%40lists.berlios.de?Subject=Re%3A%20%5BS3d-svn%5D%20r905%20-%20in%20trunk/extras/distro/gentoo/media-libs/libg3d%3A%20.%0A%09files&In-Reply-To=%3C200801112136.m0BLaM4Z026524%40sheep.berlios.de%3E"
       TITLE="[S3d-svn] r905 - in trunk/extras/distro/gentoo/media-libs/libg3d: .	files">lazhur at mail.berlios.de
       </A><BR>
    <I>Fri Jan 11 22:36:22 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000897.html">[S3d-svn] r904 - in trunk/extras/distro/gentoo: media-gfx/s3d	media-gfx/s3d/files media-gfx/s3d-svn media-libs/libg3d	media-libs/libg3d/files
</A></li>
        <LI>Next message: <A HREF="000899.html">[S3d-svn] r906 - trunk/server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#898">[ date ]</a>
              <a href="thread.html#898">[ thread ]</a>
              <a href="subject.html#898">[ subject ]</a>
              <a href="author.html#898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: lazhur
Date: 2008-01-11 22:36:21 +0100 (Fri, 11 Jan 2008)
New Revision: 905

Added:
   trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.3-link_math.patch
   trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.6-link_math.patch
Modified:
   trunk/extras/distro/gentoo/media-libs/libg3d/ChangeLog
   trunk/extras/distro/gentoo/media-libs/libg3d/Manifest
   trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.3.ebuild
   trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.5.ebuild
   trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.6.ebuild
Log:
Force libg3d to link against math library


Modified: trunk/extras/distro/gentoo/media-libs/libg3d/ChangeLog
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/ChangeLog	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/ChangeLog	2008-01-11 21:36:21 UTC (rev 905)
@@ -1,5 +1,11 @@
 # ChangeLog for media-gfx/libg3d
 
+  23 Dec 2006; Sven Eckelmann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/s3d-svn">sven.eckelmann at gmx.de</A>&gt; libg3d-0.0.3.ebuild,
+  libg3d-0.0.5.ebuild, libg3d-0.0.6.ebuild, +libg3d-0.0.3-link_math.patch,
+  +libg3d-0.0.6-link_math.patch:
+  Force direct linking against math library to protect against errors
+  in conjunktion with ld's &quot;--as-needed&quot;.
+
   23 Dec 2006; Sven Eckelmann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/s3d-svn">sven.eckelmann at gmx.de</A>&gt; libg3d-0.0.6.ebuild:
   Mark amd64 as stable.
 

Modified: trunk/extras/distro/gentoo/media-libs/libg3d/Manifest
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/Manifest	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/Manifest	2008-01-11 21:36:21 UTC (rev 905)
@@ -1,18 +1,24 @@
+AUX libg3d-0.0.3-link_math.patch 690 SHA1 6f877c85df8e44f69ad1de96188457ecc83f8b3a SHA256 937b958723aac82489a9363db90474e131fa0aca0be7a8c1c46446c33fb2fc9d
+MD5 99a08582f303f2813a479020a12cdf87 files/libg3d-0.0.3-link_math.patch 690
+SHA256 937b958723aac82489a9363db90474e131fa0aca0be7a8c1c46446c33fb2fc9d files/libg3d-0.0.3-link_math.patch 690
+AUX libg3d-0.0.6-link_math.patch 683 SHA1 b512f5603ef9c01b1cefb63b12ad7676b4c375e0 SHA256 46315c654f634ff68e149657257f49a0e40bac1b1e244ad15c7f02fb7ce397c1
+MD5 a84e68703a64a2f5c52a1b03357f6a73 files/libg3d-0.0.6-link_math.patch 683
+SHA256 46315c654f634ff68e149657257f49a0e40bac1b1e244ad15c7f02fb7ce397c1 files/libg3d-0.0.6-link_math.patch 683
 DIST libg3d-0.0.3.tar.gz 438414 SHA1 768608dfc78d88f53ffb4d520bd434fe8c362c44 SHA256 d8c08448586b4d6f70c5933c89877f81e8f31d7eea8f3497b0d12357134a71e0
 DIST libg3d-0.0.5.tar.gz 475879 SHA1 3c1453fe41d60fb4d8ffa69fbb41aa6df2faa50a SHA256 4d19ea782ef71d862fae99291b6355b1331a309f68674ae301a9e1fd68c8c32a
 DIST libg3d-0.0.6.tar.gz 490091 SHA1 7fba70067fe32e4eacda0ada1d7fee073422e76e SHA256 d3ea0037e56cee9d38ed55d81416d22ec960e65a85b9166f2b25bab8e7d22884
-EBUILD libg3d-0.0.3.ebuild 707 SHA1 5bda4c7ba209004b7acbc7a792e1cd628a3b612f SHA256 f54462ab71a82749ba3d5669461314333aead258ecdce2efb7ef525589379f14
-MD5 fdf3c87fe169098d5edc4d9dc5d1b2c6 libg3d-0.0.3.ebuild 707
-SHA256 f54462ab71a82749ba3d5669461314333aead258ecdce2efb7ef525589379f14 libg3d-0.0.3.ebuild 707
-EBUILD libg3d-0.0.5.ebuild 768 SHA1 7be98b9ca97e5be6d520ea7ca5427c268b4e5669 SHA256 2ff33c2ceca87f795f508caf3197ba65484681958d5622b07b7a2decccb3a10b
-MD5 2a717f2c173706d8b9aff10e4c924838 libg3d-0.0.5.ebuild 768
-SHA256 2ff33c2ceca87f795f508caf3197ba65484681958d5622b07b7a2decccb3a10b libg3d-0.0.5.ebuild 768
-EBUILD libg3d-0.0.6.ebuild 774 SHA1 811a790deb68bc4477eeff5291d389ff13a30f57 SHA256 d456849f73a5d0c1d783f3abaa6016db6354c604f9997b654f393cd7f97ef152
-MD5 b06058d9f78982e4e0292ce46bd74e7d libg3d-0.0.6.ebuild 774
-SHA256 d456849f73a5d0c1d783f3abaa6016db6354c604f9997b654f393cd7f97ef152 libg3d-0.0.6.ebuild 774
-MISC ChangeLog 835 SHA1 793fc91993282fe848cda93290aa30f89bfd53cc SHA256 ab9068b8c43c89667261596ad3cbab278ddcbb6ad72d8bc07af47b55a3180f34
-MD5 0b4ef44260884042fdb448c4a4616a38 ChangeLog 835
-SHA256 ab9068b8c43c89667261596ad3cbab278ddcbb6ad72d8bc07af47b55a3180f34 ChangeLog 835
+EBUILD libg3d-0.0.3.ebuild 773 SHA1 e93f85795c0bb809d0a43e365a8b9a88de5c6793 SHA256 91097dc950c84801b7596c33c74d4dd42a962e7ddf55b69b3431a6f5be1d2060
+MD5 cf5eb095c4ea6bfc1eb1561b157c11aa libg3d-0.0.3.ebuild 773
+SHA256 91097dc950c84801b7596c33c74d4dd42a962e7ddf55b69b3431a6f5be1d2060 libg3d-0.0.3.ebuild 773
+EBUILD libg3d-0.0.5.ebuild 835 SHA1 a0c272a5c5390221cf8d3ba1132c7562903ef394 SHA256 fea18cb3409c1c3bf060bde5f423239e8cb3dacdc9c405054f7019b4141828c9
+MD5 847988b7c07c4965a2ab151946942103 libg3d-0.0.5.ebuild 835
+SHA256 fea18cb3409c1c3bf060bde5f423239e8cb3dacdc9c405054f7019b4141828c9 libg3d-0.0.5.ebuild 835
+EBUILD libg3d-0.0.6.ebuild 841 SHA1 153ab83b97e3c4f8b4abed87755ac62c0f4db8f0 SHA256 6243d8874925ca98426dd0c64444985687c11eb4f15cee53af720a450147989d
+MD5 09f9dfd0a29a8e6b58881af0bb09d7de libg3d-0.0.6.ebuild 841
+SHA256 6243d8874925ca98426dd0c64444985687c11eb4f15cee53af720a450147989d libg3d-0.0.6.ebuild 841
+MISC ChangeLog 1131 SHA1 2b0c4db8b2d5bd1a4a2719b1599daf7298fac130 SHA256 df3951de540cb85bc4c366c118bf8d5f9deebcc0179de450bd0f49d873d7cbe7
+MD5 5fd08a71baac4207fa5f7a6e0e52c0a8 ChangeLog 1131
+SHA256 df3951de540cb85bc4c366c118bf8d5f9deebcc0179de450bd0f49d873d7cbe7 ChangeLog 1131
 MISC metadata.xml 239 SHA1 76f167e3abff81e9535c16a637fd1e7f91d4fda3 SHA256 c0f08f1f0c1ce07df414cd87bf028a15cae639c89b2d636714d50d8aa77c370f
 MD5 261031c8b7aca6f50babf7e44b35deb1 metadata.xml 239
 SHA256 c0f08f1f0c1ce07df414cd87bf028a15cae639c89b2d636714d50d8aa77c370f metadata.xml 239

Added: trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.3-link_math.patch
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.3-link_math.patch	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.3-link_math.patch	2008-01-11 21:36:21 UTC (rev 905)
@@ -0,0 +1,23 @@
+diff -ruN libg3d-0.0.3.orig/src/Makefile.am libg3d-0.0.3/src/Makefile.am
+--- libg3d-0.0.3.orig/src/Makefile.am	2008-01-11 21:21:55.000000000 +0000
++++ libg3d-0.0.3/src/Makefile.am	2008-01-11 21:22:23.000000000 +0000
+@@ -26,4 +26,5 @@
+ 	-version-number &quot;$(subst .,:<A HREF="https://lists.berlios.de/mailman/listinfo/s3d-svn">, at VERSION</A>@)&quot;
+ 
+ libg3d_la_LIBADD = \
+-	@GLIB_LIBS@
++	@GLIB_LIBS@ \
++	-lm
+diff -ruN libg3d-0.0.3.orig/src/Makefile.in libg3d-0.0.3/src/Makefile.in
+--- libg3d-0.0.3.orig/src/Makefile.in	2008-01-11 21:21:55.000000000 +0000
++++ libg3d-0.0.3/src/Makefile.in	2008-01-11 21:22:14.000000000 +0000
+@@ -183,7 +183,8 @@
+ 
+ 
+ libg3d_la_LIBADD = \
+-	@GLIB_LIBS@
++	@GLIB_LIBS@ \
++	-lm
+ 
+ subdir = src
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4

Added: trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.6-link_math.patch
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.6-link_math.patch	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/files/libg3d-0.0.6-link_math.patch	2008-01-11 21:36:21 UTC (rev 905)
@@ -0,0 +1,24 @@
+diff -ruN libg3d-0.0.6.orig/src/Makefile.am libg3d-0.0.6/src/Makefile.am
+--- libg3d-0.0.6.orig/src/Makefile.am	2008-01-11 20:56:28.000000000 +0000
++++ libg3d-0.0.6/src/Makefile.am	2008-01-11 20:58:57.000000000 +0000
+@@ -28,5 +28,6 @@
+ 
+ libg3d_la_LIBADD = \
+ 	@GLIB_LIBS@ \
+-	@MAGIC_LIBS@
++	@MAGIC_LIBS@ \
++	-lm
+ 
+diff -ruN libg3d-0.0.6.orig/src/Makefile.in libg3d-0.0.6/src/Makefile.in
+--- libg3d-0.0.6.orig/src/Makefile.in	2008-01-11 20:56:28.000000000 +0000
++++ libg3d-0.0.6/src/Makefile.in	2008-01-11 20:58:57.000000000 +0000
+@@ -200,7 +200,8 @@
+ 
+ libg3d_la_LIBADD = \
+ 	@GLIB_LIBS@ \
+-	@MAGIC_LIBS@
++	@MAGIC_LIBS@ \
++	-lm
+ 
+ subdir = src
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4

Modified: trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.3.ebuild
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.3.ebuild	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.3.ebuild	2008-01-11 21:36:21 UTC (rev 905)
@@ -1,6 +1,8 @@
 # Copyright 2004-2008 S3D Team
 # Distributed under the terms of the GNU General Public License v2
 
+inherit eutils
+
 DESCRIPTION=&quot;library for loading 3D models of many file types&quot;
 HOMEPAGE=&quot;<A HREF="https://gna.org/projects/libg3d/">https://gna.org/projects/libg3d/</A>&quot;
 SRC_URI=&quot;<A HREF="http://download.gna.org/${PN">http://download.gna.org/${PN</A>}/${P}.tar.gz&quot;
@@ -23,6 +25,8 @@
 	&quot;
 
 src_compile() {
+	epatch &quot;${FILESDIR}&quot;/${PN}-0.0.3-link_math.patch
+
 	econf \
 		$(use_enable gtk gtktest) \
 		--prefix=/usr/ \
@@ -34,4 +38,3 @@
 src_install() {
 	emake DESTDIR=&quot;${D}&quot; install || die
 }
-

Modified: trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.5.ebuild
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.5.ebuild	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.5.ebuild	2008-01-11 21:36:21 UTC (rev 905)
@@ -1,6 +1,8 @@
 # Copyright 2004-2008 S3D Team
 # Distributed under the terms of the GNU General Public License v2
 
+inherit eutils
+
 DESCRIPTION=&quot;library for loading 3D models of many file types&quot;
 HOMEPAGE=&quot;<A HREF="https://gna.org/projects/libg3d/">https://gna.org/projects/libg3d/</A>&quot;
 SRC_URI=&quot;<A HREF="http://download.gna.org/${PN">http://download.gna.org/${PN</A>}/${P}.tar.gz&quot;
@@ -24,6 +26,8 @@
 	&quot;
 
 src_compile() {
+	epatch &quot;${FILESDIR}&quot;/${PN}-0.0.3-link_math.patch
+
 	econf \
 		$(use_enable gtk gtktest) \
 		$(use_enable xml xmltest) \

Modified: trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.6.ebuild
===================================================================
--- trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.6.ebuild	2008-01-11 20:27:58 UTC (rev 904)
+++ trunk/extras/distro/gentoo/media-libs/libg3d/libg3d-0.0.6.ebuild	2008-01-11 21:36:21 UTC (rev 905)
@@ -1,6 +1,8 @@
 # Copyright 2004-2008 S3D Team
 # Distributed under the terms of the GNU General Public License v2
 
+inherit eutils
+
 DESCRIPTION=&quot;library for loading 3D models of many file types&quot;
 HOMEPAGE=&quot;<A HREF="https://gna.org/projects/libg3d/">https://gna.org/projects/libg3d/</A>&quot;
 SRC_URI=&quot;<A HREF="http://download.gna.org/${PN">http://download.gna.org/${PN</A>}/${P}.tar.gz&quot;
@@ -24,6 +26,8 @@
 	&quot;
 
 src_compile() {
+	epatch &quot;${FILESDIR}&quot;/${PN}-0.0.6-link_math.patch
+
 	econf \
 		$(use_enable gtk gtktest) \
 		$(use_enable xml xmltest) \


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000897.html">[S3d-svn] r904 - in trunk/extras/distro/gentoo: media-gfx/s3d	media-gfx/s3d/files media-gfx/s3d-svn media-libs/libg3d	media-libs/libg3d/files
</A></li>
	<LI>Next message: <A HREF="000899.html">[S3d-svn] r906 - trunk/server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#898">[ date ]</a>
              <a href="thread.html#898">[ thread ]</a>
              <a href="subject.html#898">[ subject ]</a>
              <a href="author.html#898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/s3d-svn">More information about the S3d-svn
mailing list</a><br>
</body></html>
