From lazhur at mail.berlios.de  Sun Aug 17 00:03:24 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sun, 17 Aug 2008 00:03:24 +0200
Subject: [S3d-svn] r945 - in trunk: apps/s3dfm apps/s3dosm example
	experimental/comptest experimental/olsrs3d libs3d libs3dw server
Message-ID: <200808162203.m7GM3OFS001087@sheep.berlios.de>

Author: lazhur
Date: 2008-08-17 00:03:23 +0200 (Sun, 17 Aug 2008)
New Revision: 945

Modified:
   trunk/apps/s3dfm/focus.c
   trunk/apps/s3dfm/parse.c
   trunk/apps/s3dosm/kismet.c
   trunk/apps/s3dosm/osm.c
   trunk/example/filebrowser.c
   trunk/experimental/comptest/comptest.c
   trunk/experimental/comptest/x11.c
   trunk/experimental/olsrs3d/search.c
   trunk/libs3d/sei_construct.c
   trunk/libs3dw/input.c
   trunk/server/graphics.c
Log:
Remove dead stores

Modified: trunk/apps/s3dfm/focus.c
===================================================================
--- trunk/apps/s3dfm/focus.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/apps/s3dfm/focus.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -32,9 +32,8 @@
 	float scale, s;
 	if (f->disp == D_DIR) {
 		s = 0.2;
-		scale = 1 / s;
 		if (f->parent != NULL)
-			scale = 1 / s * focus_get_scale(f->parent);
+			scale = 1.f / s * focus_get_scale(f->parent);
 		else
 			return(1.0);
 		root.px -= f->px;

Modified: trunk/apps/s3dfm/parse.c
===================================================================
--- trunk/apps/s3dfm/parse.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/apps/s3dfm/parse.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -44,7 +44,7 @@
 	for (i = 0;i < dir->n_sub;i++) {
 		dir->sub[i]->check = 1;
 	}
-	n = i = scandir(path, &namelist, NULL, alphasort);
+	n = scandir(path, &namelist, NULL, alphasort);
 	if (n < 0) {
 		window_fs_errno(path);
 		return(-1);

Modified: trunk/apps/s3dosm/kismet.c
===================================================================
--- trunk/apps/s3dosm/kismet.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/apps/s3dosm/kismet.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -35,7 +35,6 @@
 	xmlNodePtr kids, gpskids;
 
 	node_init(&node);
-	attr = cur->properties;
 
 	node.base.layerid = layerid;
 	node.base.id = 0;  /* let database decide */

Modified: trunk/apps/s3dosm/osm.c
===================================================================
--- trunk/apps/s3dosm/osm.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/apps/s3dosm/osm.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -92,7 +92,6 @@
 	xmlAttrPtr attr;
 
 	node_init(&node);
-	attr = cur->properties;
 
 	node.base.layerid = layerid;
 	for (attr = cur->properties;attr;attr = attr->next) {

Modified: trunk/example/filebrowser.c
===================================================================
--- trunk/example/filebrowser.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/example/filebrowser.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -140,17 +140,13 @@
 				break;
 			}
 
-			px = posx;
-			py = posy;
-			pz = posz;
 			alpha = ((360.0f * n) / ((float)i));
-			radius = ((n_item * 10) / ((float)M_PI * 4));
 			if (n_item < 5)
 				radius = ((50) / ((float)M_PI * 4));
 			else
 				radius = ((n_item * 10) / ((float)M_PI * 4));
 			px = posx - sinf(DEG2RAD(alpha)) * radius;
-			pz = posy;
+			py = posy;
 			pz = posz - cosf(DEG2RAD(alpha)) * radius;
 
 			item[n].pie_oid = s3d_new_object();

Modified: trunk/experimental/comptest/comptest.c
===================================================================
--- trunk/experimental/comptest/comptest.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/experimental/comptest/comptest.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -40,12 +40,9 @@
 static void mainloop(void)
 {
 	struct timeval start, stop;
-	float secs;
 	gettimeofday(&start, NULL);
 	event();
 	gettimeofday(&stop, NULL);
-	secs = (stop.tv_sec - start.tv_sec) + (stop.tv_usec - start.tv_usec)/1e6;
-/*	printf("msecs to process events: %3.3f\n", secs*1e3);*/
 	nanosleep(&t, NULL);
 }
 

Modified: trunk/experimental/comptest/x11.c
===================================================================
--- trunk/experimental/comptest/x11.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/experimental/comptest/x11.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -47,10 +47,9 @@
 	case UnmapNotify:		name = "Unmap";				break;
 	case ReparentNotify:	name = "Reparent";			break;
 	case CirculateNotify:	name = "Circulate";			break;
-	case PropertyNotify:	name = "PropertyNotify";	return(0);	break;
+	case PropertyNotify:	return(0);
 	}
 	if (event->type == xdamage.event + XDamageNotify) {
-		name = "Damage";
 		return(0); /* don't report this. */
 	} else if (event->type == ConfigureNotify) {
 		name = "Configure";

Modified: trunk/experimental/olsrs3d/search.c
===================================================================
--- trunk/experimental/olsrs3d/search.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/experimental/olsrs3d/search.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -156,7 +156,7 @@
 /* public */
 void move_to_search_widget(float cam_position_t[], float cam_position_r[])
 {
-	float target, current;
+	float target;
 
 	set_search_status(WIDGET);
 	cam_position_t[0] = (cam_position_t[0] * 4 + _search_widget->x) / 5;
@@ -164,30 +164,21 @@
 	cam_position_t[2] = (cam_position_t[2] * 4 + (_search_widget->z - 10)) / 5;
 
 	target = _search_widget->arx;
-	current = cam_position_r[0];
 
 	if (_search_widget->arx - cam_position_r[0] > 180)
 		target -= 360;
-	if (_search_widget->arx - cam_position_r[0] < -180)
-		current -= 360;
 	cam_position_r[0] = (cam_position_r[0] * 4 + target) / 5;
 
 	target = _search_widget->ary;
-	current = cam_position_r[1];
 
 	if (_search_widget->ary - cam_position_r[1] > 180)
 		target -= 360;
-	if (_search_widget->ary - cam_position_r[1] < -180)
-		current -= 360;
 	cam_position_r[1] = (cam_position_r[1] * 4 + target) / 5;
 
 	target = _search_widget->arz;
-	current = cam_position_r[2];
 
 	if (_search_widget->arz - cam_position_r[2] > 180)
 		target -= 360;
-	if (_search_widget->arz - cam_position_r[2] < -180)
-		current -= 360;
 	cam_position_r[2] = (cam_position_r[2] * 4 + target) / 5;
 
 	s3d_translate(0, cam_position_t[0], cam_position_t[1], cam_position_t[2]);
@@ -204,37 +195,28 @@
 /* public */
 void move_to_return_point(float cam_position_t[], float cam_position_r[])
 {
-	float target, current;
+	float target;
 
 	cam_position_t[0] = (cam_position_t[0] * 4 + _return_point[0][0]) / 5;
 	cam_position_t[1] = (cam_position_t[1] * 4 + _return_point[0][1]) / 5;
 	cam_position_t[2] = (cam_position_t[2] * 4 + _return_point[0][2]) / 5;
 
 	target = _return_point[1][0];
-	current = cam_position_r[0];
 
 	if (_return_point[1][0] - cam_position_r[0] > 180)
 		target -= 360;
-	if (_return_point[1][0] - cam_position_r[0] < -180)
-		current -= 360;
 	cam_position_r[0] = (cam_position_r[0] * 4 + target) / 5;
 
 	target = _return_point[1][1];
-	current = cam_position_r[1];
 
 	if (_return_point[1][1] - cam_position_r[1] > 180)
 		target -= 360;
-	if (_return_point[1][1] - cam_position_r[1] < -180)
-		current -= 360;
 	cam_position_r[1] = (cam_position_r[1] * 4 + target) / 5;
 
 	target = _return_point[1][2];
-	current = cam_position_r[2];
 
 	if (_return_point[1][2] - cam_position_r[2] > 180)
 		target -= 360;
-	if (_return_point[1][2] - cam_position_r[2] < -180)
-		current -= 360;
 	cam_position_r[2] = (cam_position_r[2] * 4 + target) / 5;
 
 	s3d_translate(0, cam_position_t[0], cam_position_t[1], cam_position_t[2]);

Modified: trunk/libs3d/sei_construct.c
===================================================================
--- trunk/libs3d/sei_construct.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/libs3d/sei_construct.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -733,11 +733,6 @@
 			if (FP_EQUAL(tr[t].lo.y, tr[tlast].lo.y) &&
 			                FP_EQUAL(tr[t].lo.x, tr[tlast].lo.x) && tribot) {  /* bottom forms a triangle */
 
-				if (is_swapped)
-					tmptriseg = seg[segnum].prev;
-				else
-					tmptriseg = seg[segnum].next;
-
 				if ((tmpseg > 0) && is_left_of(tmpseg, &s.v0)) {
 					/* L-R downward cusp */
 					tr[tr[t].d1].u0 = t;

Modified: trunk/libs3dw/input.c
===================================================================
--- trunk/libs3dw/input.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/libs3dw/input.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -196,7 +196,6 @@
 	s3dprintf(MED, "edit field got key %d!!", key);
 	switch (keys->keysym) {
 	case S3DK_BACKSPACE:
-		len = strlen(input->text);
 		if ((len = strlen(input->text)) > 0) {
 			newtext = (char *)malloc(len + 0); /* +1 for the terminating byte, -1 for the deleted character */
 			strncpy(newtext, input->text, len);

Modified: trunk/server/graphics.c
===================================================================
--- trunk/server/graphics.c	2008-08-16 22:03:16 UTC (rev 944)
+++ trunk/server/graphics.c	2008-08-16 22:03:23 UTC (rev 945)
@@ -300,7 +300,6 @@
 			s3dprintf(VLOW, "[HIT %d] names %d [z1:%f|z2:%f] mcp_o=%d, o=%d ", i, names, z1, z2, mcp_o, o);
 		}
 		s3dprintf(VLOW, "mcp_o= %d, o= %d", mcp_o, o);
-		ptr = select_buf;
 		if (mcp_o == -1) { /* it's an mcp object */
 			s3dprintf(LOW, "clicked on mcp-object no. %d", o);
 			event_obj_click(p, o);



From lazhur at mail.berlios.de  Fri Aug 15 15:08:47 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 15 Aug 2008 15:08:47 +0200
Subject: [S3d-svn] r941 - in trunk: . cmake/modules
Message-ID: <200808151308.m7FD8lrD017103@sheep.berlios.de>

Author: lazhur
Date: 2008-08-15 15:08:47 +0200 (Fri, 15 Aug 2008)
New Revision: 941

Modified:
   trunk/CMakeLists.txt
   trunk/ConfigureChecks.cmake
   trunk/cmake/modules/FindBluetooth.cmake
   trunk/cmake/modules/FindCWiid.cmake
   trunk/cmake/modules/FindFREETYPE.cmake
   trunk/cmake/modules/FindFontconfig.cmake
   trunk/cmake/modules/FindG3D.cmake
   trunk/cmake/modules/FindGLIB.cmake
   trunk/cmake/modules/FindGPS.cmake
   trunk/cmake/modules/FindPThreads.cmake
   trunk/cmake/modules/FindSQLite3.cmake
   trunk/cmake/modules/FindXcomposite.cmake
   trunk/cmake/modules/FindXdamage.cmake
   trunk/cmake/modules/FindXfixes.cmake
   trunk/cmake/modules/FindXrender.cmake
   trunk/cmake/modules/FindXtst.cmake
Log:
Find libraries with pkg_search_module in cmake modules

Modified: trunk/CMakeLists.txt
===================================================================
--- trunk/CMakeLists.txt	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/CMakeLists.txt	2008-08-15 13:08:47 UTC (rev 941)
@@ -2,8 +2,13 @@
 set(VERSION 0.2.1)
 
 # we require cmake 2.4.4 or higher
-cmake_minimum_required(VERSION 2.4.4)
+cmake_minimum_required(VERSION 2.4.7)
 
+# set cmake policies
+if(COMMAND cmake_policy)
+	cmake_policy(SET CMP0003 NEW)
+endif(COMMAND cmake_policy)
+
 # Add directory with library checks to search path
 list(APPEND CMAKE_MODULE_PATH "${s3d_SOURCE_DIR}/cmake/modules")
 

Modified: trunk/ConfigureChecks.cmake
===================================================================
--- trunk/ConfigureChecks.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/ConfigureChecks.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -5,7 +5,7 @@
 # find required lib and add include dir for FREETYPE
 find_package(FREETYPE)
 if (FREETYPE_FOUND)
-	include_directories(${FREETYPE_INCLUDE_DIR})
+	include_directories(${FREETYPE_INCLUDE_DIRS})
 else (FREETYPE_FOUND)
 	PkgError_Later("Could not find FreeType (pkg name: libfreetype6-dev)")
 endif (FREETYPE_FOUND)
@@ -14,7 +14,7 @@
 # find required lib and add include dir for FONTCONFIG
 find_package(Fontconfig)
 if (FONTCONFIG_FOUND)
-	include_directories(${FONTCONFIG_INCLUDE_DIR})
+	include_directories(${FONTCONFIG_INCLUDE_DIRS})
 else (FONTCONFIG_FOUND)
 	PkgError_Later("Could not find Fontconfig (pkg name: libfontconfig-dev)")
 endif (FONTCONFIG_FOUND)
@@ -23,7 +23,7 @@
 # find required lib and add include dir for GLIB
 find_package(GLIB)
 if (GLIB2_FOUND)
-	include_directories(${GLIB2_INCLUDE_DIR})
+	include_directories(${GLIB2_INCLUDE_DIRS})
 	add_definitions(${GLIB2_DEFINITIONS})
 else (GLIB2_FOUND)
 	PkgError_Later("Could not find GLIB2 (pkg name: libglib2.0-dev)")
@@ -33,7 +33,7 @@
 # find required lib and add include dir for G3D
 find_package(G3D)
 if (G3D_FOUND)
-	include_directories(${G3D_INCLUDE_DIR})
+	include_directories(${G3D_INCLUDE_DIRS})
 	add_definitions(${G3D_DEFINITIONS})
 else (G3D_FOUND)
 	PkgError_Later("Could not find G3D (pkg name: libg3d-dev)")
@@ -51,7 +51,7 @@
 # find required lib and add include dir for OPENGL
 find_package(OpenGL)
 if (OPENGL_FOUND)
-	include_directories(${OPENGL_INCLUDE_DIR})
+	include_directories(${OPENGL_INCLUDE_DIRS})
 else (OPENGL_FOUND)
 	PkgError_Later("Could not find OpenGL libs and headers")
 endif (OPENGL_FOUND)
@@ -70,7 +70,7 @@
 # find lib and add include dir for CWiid
 find_package(CWiid)
 if (CWIID_FOUND)
-	include_directories(${CWIID_INCLUDE_DIR})
+	include_directories(${CWIID_INCLUDE_DIRS})
 endif (CWIID_FOUND)
 
 
@@ -88,7 +88,7 @@
 # try to find lib and add include dir for PThreads
 find_package(PThreads)
 if (PTHREADS_FOUND)
-	include_directories(${PTHREADS_INCLUDE_DIR})
+	include_directories(${PTHREADS_INCLUDE_DIRS})
 endif (PTHREADS_FOUND)
 
 
@@ -102,7 +102,7 @@
 # try to find lib and add include dir for LibXml2
 find_package(LibXml2)
 if (LIBXML2_FOUND)
-	include_directories(${LIBXML2_INCLUDE_DIR})
+	include_directories(${LIBXML2_INCLUDE_DIRS})
 	add_definitions(${LIBXML2_DEFINITIONS})
 endif (LIBXML2_FOUND)
 

Modified: trunk/cmake/modules/FindBluetooth.cmake
===================================================================
--- trunk/cmake/modules/FindBluetooth.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindBluetooth.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,14 +1,14 @@
 # Try to find Bluetooth
 #  BLUETOOTH_FOUND - If false, do not try to use Bluetooth.
-#  BLUETOOTH_INCLUDE_DIR - where to find bluetooth/bluetooth.h
+#  BLUETOOTH_INCLUDE_DIRS - where to find bluetooth/bluetooth.h
 #  BLUETOOTH_LIBRARIES - the libraries to link against
 
 
-if (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIR)
+if (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(BLUETOOTH_FOUND TRUE)
-else (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIR)
-	find_path(BLUETOOTH_INCLUDE_DIR
+else (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIRS)
+	find_path(BLUETOOTH_INCLUDE_DIRS
 		NAMES bluetooth/bluetooth.h
 	)
 
@@ -16,9 +16,9 @@
 		NAMES bluetooth
 	)
 
-	if (BLUETOOTH_INCLUDE_DIR AND BLUETOOTH_LIBRARIES)
+	if (BLUETOOTH_INCLUDE_DIRS AND BLUETOOTH_LIBRARIES)
 		set(BLUETOOTH_FOUND TRUE)
-	endif (BLUETOOTH_INCLUDE_DIR AND BLUETOOTH_LIBRARIES)
+	endif (BLUETOOTH_INCLUDE_DIRS AND BLUETOOTH_LIBRARIES)
 
 	if (BLUETOOTH_FOUND)
 		if (NOT BLUETOOTH_FIND_QUIETLY)
@@ -31,6 +31,6 @@
 	endif (BLUETOOTH_FOUND)
 
 	# set visibility in cache
-	mark_as_advanced(BLUETOOTH_INCLUDE_DIR BLUETOOTH_LIBRARIES)
+	mark_as_advanced(BLUETOOTH_INCLUDE_DIRS BLUETOOTH_LIBRARIES)
 
-endif (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIR)
+endif (BLUETOOTH_LIBRARIES AND BLUETOOTH_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindCWiid.cmake
===================================================================
--- trunk/cmake/modules/FindCWiid.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindCWiid.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,15 +1,15 @@
 # Try to find CWiid
 #  CWIID_FOUND - If false, do not try to use CWiid.
-#  CWIID_INCLUDE_DIR - where to find cwiid.h
+#  CWIID_INCLUDE_DIRS - where to find cwiid.h
 #  CWIID_LIBRARIES - the libraries to link against
 
 find_package(Bluetooth)
 
-if (CWIID_LIBRARIES AND CWIID_INCLUDE_DIR AND BLUETOOTH_FOUND)
+if (CWIID_LIBRARIES AND CWIID_INCLUDE_DIRS AND BLUETOOTH_FOUND)
 	# path set by user or was found in the past
 	set(CWIID_FOUND TRUE)
-else (CWIID_LIBRARIES AND CWIID_INCLUDE_DIR AND BLUETOOTH_FOUND)
-	find_path(CWIID_INCLUDE_DIR
+else (CWIID_LIBRARIES AND CWIID_INCLUDE_DIRS AND BLUETOOTH_FOUND)
+	find_path(CWIID_INCLUDE_DIRS
 		NAMES cwiid.h
 	)
 
@@ -19,9 +19,9 @@
 
 	set(CWIID_LIBRARIES ${BLUETOOTH_LIBRARIES} ${CWIID_LIBRARY})
 
-	if (CWIID_INCLUDE_DIR AND CWIID_LIBRARIES AND BLUETOOTH_FOUND)
+	if (CWIID_INCLUDE_DIRS AND CWIID_LIBRARIES AND BLUETOOTH_FOUND)
 		set(CWIID_FOUND TRUE)
-	endif (CWIID_INCLUDE_DIR AND CWIID_LIBRARIES AND BLUETOOTH_FOUND)
+	endif (CWIID_INCLUDE_DIRS AND CWIID_LIBRARIES AND BLUETOOTH_FOUND)
 
 	if (CWIID_FOUND)
 		if (NOT CWIID_FIND_QUIETLY)
@@ -38,6 +38,6 @@
 	endif (CWIID_FOUND)
 
 	# set visibility in cache
-	mark_as_advanced(CWIID_INCLUDE_DIR CWIID_LIBRARY CWIID_LIBRARIES)
+	mark_as_advanced(CWIID_INCLUDE_DIRS CWIID_LIBRARY CWIID_LIBRARIES)
 
-endif (CWIID_LIBRARIES AND CWIID_INCLUDE_DIR AND BLUETOOTH_FOUND)
+endif (CWIID_LIBRARIES AND CWIID_INCLUDE_DIRS AND BLUETOOTH_FOUND)

Modified: trunk/cmake/modules/FindFREETYPE.cmake
===================================================================
--- trunk/cmake/modules/FindFREETYPE.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindFREETYPE.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,64 +1,15 @@
-# Try to find FreeType
+# # Try to find FreeType
 #  FREETYPE_FOUND - If false, do not try to use FREETYPE.
-#  FREETYPE_INCLUDE_DIR - where to find freetype/config/ftheader.h and ft2build.h, etc.
+#  FREETYPE_INCLUDE_DIRS - where to find freetype/config/ftheader.h and ft2build.h, etc.
 #  FREETYPE_LIBRARIES - the libraries to link against
 #  FREETYPE_DEFINITIONS - switches required for FREETYPE
 
 
-if (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIR)
+if (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(FREETYPE_FOUND TRUE)
-else (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIR)
-	include(UsePkgConfig)
+else (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIRS)
+	find_package(PkgConfig)
 
-	pkgconfig(freetype2 _IncDir _LinkDir _LinkFlags _CFlags)
-	set(FREETYPE_DEFINITIONS ${_CFlags})
-
-	find_path(FREETYPE_INCLUDE_DIR
-		NAMES freetype/config/ftheader.h
-		PATHS
-			${_IncDir}
-			${_IncDir}/freetype2
-	)
-
-	find_path(FREETYPECONFIG_INCLUDE_DIR
-		NAMES ft2build.h
-		PATHS
-			${_IncDir}
-	)
-
-	find_library(FREETYPE_LIBRARIES
-		NAMES freetype
-		PATHS ${_LinkDir}
-	)
-
-	if (FREETYPE_INCLUDE_DIR AND FREETYPECONFIG_INCLUDE_DIR)
-		list(APPEND FREETYPE_INCLUDE_DIR ${FREETYPECONFIG_INCLUDE_DIR})
-	else (FREETYPE_INCLUDE_DIR AND FREETYPECONFIG_INCLUDE_DIR)
-		set(FREETYPE_INCLUDE_DIR)
-	endif (FREETYPE_INCLUDE_DIR AND FREETYPECONFIG_INCLUDE_DIR)
-
-	if (FREETYPE_INCLUDE_DIR AND FREETYPE_LIBRARIES)
-		set(FREETYPE_FOUND TRUE)
-	endif (FREETYPE_INCLUDE_DIR AND FREETYPE_LIBRARIES)
-
-	if (FREETYPE_FOUND)
-		if (NOT FREETYPE_FIND_QUIETLY)
-			message(STATUS "Found FREETYPE: ${FREETYPE_LIBRARIES}")
-		endif (NOT FREETYPE_FIND_QUIETLY)
-	else (FREETYPE_FOUND)
-		if (FREETYPE_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find FREETYPE")
-		endif (FREETYPE_FIND_REQUIRED)
-	endif (FREETYPE_FOUND)
-
-	# set visibility in cache
-	set(FREETYPE_INCLUDE_DIR ${FREETYPE_INCLUDE_DIR} CACHE PATH "Path to a file." FORCE)
-	set(FREETYPE_LIBRARIES ${FREETYPE_LIBRARIES} CACHE FILEPATH "Path to a library." FORCE)
-	set(FREETYPE_DEFINITIONS ${FREETYPE_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(FREETYPE_INCLUDE_DIR FREETYPE_LIBRARIES FREETYPE_DEFINITIONS)
-
-	# mark as internal
-	set(FREETYPECONFIG_INCLUDE_DIR ${FREETYPECONFIG_INCLUDE_DIR} CACHE INTERNAL "Path to a config file." FORCE)
-
-endif (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIR)
+	pkg_search_module(FREETYPE freetype2)
+endif (FREETYPE_LIBRARIES AND FREETYPE_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindFontconfig.cmake
===================================================================
--- trunk/cmake/modules/FindFontconfig.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindFontconfig.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,46 +1,15 @@
 # Try to find Fontconfig
 #  FONTCONFIG_FOUND - If false, do not try to use FONTCONFIG.
-#  FONTCONFIG_INCLUDE_DIR - where to find fontconfig/fontconfig.h
+#  FONTCONFIG_INCLUDE_DIRS - where to find fontconfig/fontconfig.h
 #  FONTCONFIG_LIBRARIES - the libraries to link against
 #  FONTCONFIG_DEFINITIONS - switches required for FONTCONFIG
 
 
-if (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIR)
+if (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(FONTCONFIG_FOUND TRUE)
-else (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIR)
-	include(UsePkgConfig)
+else (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIRS)
+	find_package(PkgConfig)
 
-	pkgconfig(fontconfig _IncDir _LinkDir _LinkFlags _CFlags)
-	set(FONTCONFIG_DEFINITIONS ${_CFlags})
-
-	find_path(FONTCONFIG_INCLUDE_DIR
-		NAMES fontconfig/fontconfig.h
-		PATHS
-			${_IncDir}
-	)
-
-	find_library(FONTCONFIG_LIBRARIES
-		NAMES fontconfig
-		PATHS ${_LinkDir}
-	)
-
-	if (FONTCONFIG_INCLUDE_DIR AND FONTCONFIG_LIBRARIES)
-		set(FONTCONFIG_FOUND TRUE)
-	endif (FONTCONFIG_INCLUDE_DIR AND FONTCONFIG_LIBRARIES)
-
-	if (FONTCONFIG_FOUND)
-		if (NOT FONTCONFIG_FIND_QUIETLY)
-			message(STATUS "Found FONTCONFIG: ${FONTCONFIG_LIBRARIES}")
-		endif (NOT FONTCONFIG_FIND_QUIETLY)
-	else (FONTCONFIG_FOUND)
-		if (FONTCONFIG_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find FONTCONFIG")
-		endif (FONTCONFIG_FIND_REQUIRED)
-	endif (FONTCONFIG_FOUND)
-
-	# set visibility in cache
-	set(FONTCONFIG_DEFINITIONS ${FONTCONFIG_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(FONTCONFIG_INCLUDE_DIR FONTCONFIG_LIBRARIES FONTCONFIG_DEFINITIONS)
-
-endif (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIR)
+	pkg_search_module(FONTCONFIG fontconfig)
+endif (FONTCONFIG_LIBRARIES AND FONTCONFIG_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindG3D.cmake
===================================================================
--- trunk/cmake/modules/FindG3D.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindG3D.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,46 +1,15 @@
 # Try to find G3D
 #  G3D_FOUND - If false, do not try to use G3D.
-#  G3D_INCLUDE_DIR - where to find g3d/g3d.h
+#  G3D_INCLUDE_DIRS - where to find g3d/g3d.h
 #  G3D_LIBRARIES - the libraries to link against
 #  G3D_DEFINITIONS - switches required for G3D
 
 
-if (G3D_LIBRARIES AND G3D_INCLUDE_DIR)
+if (G3D_LIBRARIES AND G3D_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(G3D_FOUND TRUE)
-else (G3D_LIBRARIES AND G3D_INCLUDE_DIR)
-	include(UsePkgConfig)
+else (G3D_LIBRARIES AND G3D_INCLUDE_DIRS)
+	find_package(PkgConfig)
 
-	pkgconfig(libg3d _IncDir _LinkDir _LinkFlags _CFlags)
-	set(G3D_DEFINITIONS ${_CFlags})
-
-	find_path(G3D_INCLUDE_DIR
-		NAMES g3d/g3d.h
-		PATHS
-			${_IncDir}
-	)
-
-	find_library(G3D_LIBRARIES
-		NAMES g3d
-		PATHS ${_LinkDir}
-	)
-
-	if (G3D_INCLUDE_DIR AND G3D_LIBRARIES)
-		set(G3D_FOUND TRUE)
-	endif (G3D_INCLUDE_DIR AND G3D_LIBRARIES)
-
-	if (G3D_FOUND)
-		if (NOT G3D_FIND_QUIETLY)
-			message(STATUS "Found G3D: ${G3D_LIBRARIES}")
-		endif (NOT G3D_FIND_QUIETLY)
-	else (G3D_FOUND)
-		if (G3D_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find G3D")
-		endif (G3D_FIND_REQUIRED)
-	endif (G3D_FOUND)
-
-	# set visibility in cache
-	set(G3D_DEFINITIONS ${G3D_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(G3D_INCLUDE_DIR G3D_LIBRARIES G3D_DEFINITIONS)
-
-endif (G3D_LIBRARIES AND G3D_INCLUDE_DIR)
+	pkg_search_module(G3D libg3d>=0.0.6)
+endif (G3D_LIBRARIES AND G3D_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindGLIB.cmake
===================================================================
--- trunk/cmake/modules/FindGLIB.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindGLIB.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,69 +1,15 @@
 # Try to find GLIB2
 #  GLIB2_FOUND - If false, do not try to use GLIB2.
-#  GLIB2_INCLUDE_DIR - where to find glib.h and glibconfig.h, etc.
+#  GLIB2_INCLUDE_DIRS - where to find glib.h and glibconfig.h, etc.
 #  GLIB2_LIBRARIES - the libraries to link against
 #  GLIB2_DEFINITIONS - switches required for GLIB2
 
 
-if (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIR)
+if (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(GLIB2_FOUND TRUE)
-else (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIR)
-	include(UsePkgConfig)
+else (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIRS)
+	find_package(PkgConfig)
 
-	pkgconfig(glib-2.0 _IncDir _LinkDir _LinkFlags _CFlags)
-	set(GLIB2_DEFINITIONS ${_CFlags})
-
-	find_path(GLIB2_INCLUDE_DIR
-		NAMES glib.h
-		PATHS
-			${_IncDir}
-			${_IncDir}/glib-2.0
-			${_IncDir}/glib-2.0/include
-	)
-
-	find_path(GLIBCONFIG_INCLUDE_DIR
-		NAMES glibconfig.h
-		PATHS
-			${_IncDir}
-			${_IncDir}/glib-2.0
-			${_IncDir}/glib-2.0/include
-			${_LinkDir}/glib-2.0
-			${_LinkDir}/glib-2.0/include
-	)
-
-	find_library(GLIB2_LIBRARIES
-		NAMES glib-2.0
-		PATHS ${_LinkDir}
-	)
-
-	if (GLIB2_INCLUDE_DIR AND GLIBCONFIG_INCLUDE_DIR)
-		list(APPEND GLIB2_INCLUDE_DIR ${GLIBCONFIG_INCLUDE_DIR})
-	else (GLIB2_INCLUDE_DIR AND GLIBCONFIG_INCLUDE_DIR)
-		set(GLIB2_INCLUDE_DIR)
-	endif (GLIB2_INCLUDE_DIR AND GLIBCONFIG_INCLUDE_DIR)
-
-	if (GLIB2_INCLUDE_DIR AND GLIB2_LIBRARIES)
-		set(GLIB2_FOUND TRUE)
-	endif (GLIB2_INCLUDE_DIR AND GLIB2_LIBRARIES)
-
-	if (GLIB2_FOUND)
-		if (NOT GLIB2_FIND_QUIETLY)
-			message(STATUS "Found GLIB2: ${GLIB2_LIBRARIES}")
-		endif (NOT GLIB2_FIND_QUIETLY)
-	else (GLIB2_FOUND)
-		if (GLIB2_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find GLIB2")
-		endif (GLIB2_FIND_REQUIRED)
-	endif (GLIB2_FOUND)
-
-	# set visibility in cache
-	set(GLIB2_INCLUDE_DIR ${GLIB2_INCLUDE_DIR} CACHE PATH "Path to a file." FORCE)
-	set(GLIB2_LIBRARIES ${GLIB2_LIBRARIES} CACHE FILEPATH "Path to a library." FORCE)
-	set(GLIB2_DEFINITIONS ${GLIB2_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(GLIB2_INCLUDE_DIR GLIB2_LIBRARIES GLIB2_DEFINITIONS)
-
-	# mark as internal
-	set(GLIBCONFIG_INCLUDE_DIR ${GLIBCONFIG_INCLUDE_DIR} CACHE INTERNAL "Path to a config file." FORCE)
-
-endif (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIR)
+	pkg_search_module(GLIB2 glib-2.0)
+endif (GLIB2_LIBRARIES AND GLIB2_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindGPS.cmake
===================================================================
--- trunk/cmake/modules/FindGPS.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindGPS.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,14 +1,14 @@
 # Try to find GPS
 #  GPS_FOUND - If false, do not try to use GPS.
-#  GPS_INCLUDE_DIR - where to find gps.h
+#  GPS_INCLUDE_DIRS - where to find gps.h
 #  GPS_LIBRARIES - the libraries to link against
 
 
-if (GPS_LIBRARIES AND GPS_INCLUDE_DIR)
+if (GPS_LIBRARIES AND GPS_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(GPS_FOUND TRUE)
-else (GPS_LIBRARIES AND GPS_INCLUDE_DIR)
-	find_path(GPS_INCLUDE_DIR
+else (GPS_LIBRARIES AND GPS_INCLUDE_DIRS)
+	find_path(GPS_INCLUDE_DIRS
 		NAMES gps.h
 	)
 
@@ -16,9 +16,9 @@
 		NAMES gps
 	)
 
-	if (GPS_INCLUDE_DIR AND GPS_LIBRARIES)
+	if (GPS_INCLUDE_DIRS AND GPS_LIBRARIES)
 		set(GPS_FOUND TRUE)
-	endif (GPS_INCLUDE_DIR AND GPS_LIBRARIES)
+	endif (GPS_INCLUDE_DIRS AND GPS_LIBRARIES)
 
 	if (GPS_FOUND)
 		if (NOT GPS_FIND_QUIETLY)
@@ -31,6 +31,6 @@
 	endif (GPS_FOUND)
 
 	# set visibility in cache
-	mark_as_advanced(GPS_INCLUDE_DIR GPS_LIBRARIES)
+	mark_as_advanced(GPS_INCLUDE_DIRS GPS_LIBRARIES)
 
-endif (GPS_LIBRARIES AND GPS_INCLUDE_DIR)
+endif (GPS_LIBRARIES AND GPS_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindPThreads.cmake
===================================================================
--- trunk/cmake/modules/FindPThreads.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindPThreads.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,14 +1,14 @@
 # Try to find PThreads
 #  PTHREADS_FOUND - If false, do not try to use PThreads.
-#  PTHREADS_INCLUDE_DIR - where to find pthreads.h
+#  PTHREADS_INCLUDE_DIRS - where to find pthreads.h
 #  PTHREADS_LIBRARIES - the libraries to link against
 
 
-if (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIR)
+if (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(PTHREADS_FOUND TRUE)
-else (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIR)
-	find_path(PTHREADS_INCLUDE_DIR
+else (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIRS)
+	find_path(PTHREADS_INCLUDE_DIRS
 		NAMES pthread.h
 	)
 
@@ -22,9 +22,9 @@
 		)
 	endif (NOT PTHREADS_LIBRARIES)
 
-	if (PTHREADS_INCLUDE_DIR AND PTHREADS_LIBRARIES)
+	if (PTHREADS_INCLUDE_DIRS AND PTHREADS_LIBRARIES)
 		set(PTHREADS_FOUND TRUE)
-	endif (PTHREADS_INCLUDE_DIR AND PTHREADS_LIBRARIES)
+	endif (PTHREADS_INCLUDE_DIRS AND PTHREADS_LIBRARIES)
 
 	if (PTHREADS_FOUND)
 		if (NOT PTHREADS_FIND_QUIETLY)
@@ -37,6 +37,6 @@
 	endif (PTHREADS_FOUND)
 
 	# set visibility in cache
-	mark_as_advanced(PTHREADS_INCLUDE_DIR PTHREADS_LIBRARIES)
+	mark_as_advanced(PTHREADS_INCLUDE_DIRS PTHREADS_LIBRARIES)
 
-endif (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIR)
+endif (PTHREADS_LIBRARIES AND PTHREADS_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindSQLite3.cmake
===================================================================
--- trunk/cmake/modules/FindSQLite3.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindSQLite3.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -1,46 +1,15 @@
 # Try to find Sqlite3
 #  SQLITE3_FOUND - If false, do not try to use SQLITE3.
-#  SQLITE3_INCLUDE_DIR - where to find sqlite3.h
+#  SQLITE3_INCLUDE_DIRS - where to find sqlite3.h
 #  SQLITE3_LIBRARIES - the libraries to link against
 #  SQLITE3_DEFINITIONS - switches required for SQLite3
 
 
-if (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIR)
+if (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIRS)
 	# path set by user or was found in the past
 	set(SQLITE3_FOUND TRUE)
-else (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIR)
-	include(UsePkgConfig)
+else (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIRS)
+	find_package(PkgConfig)
 
-	pkgconfig(sqlite3 _IncDir _LinkDir _LinkFlags _CFlags)
-	set(SQLITE3_DEFINITIONS ${_CFlags})
-
-	find_path(SQLITE3_INCLUDE_DIR
-		NAMES sqlite3.h
-		PATHS
-			${_IncDir}
-	)
-
-	find_library(SQLITE3_LIBRARIES
-		NAMES sqlite3
-		PATHS ${_LinkDir}
-	)
-
-	if (SQLITE3_INCLUDE_DIR AND SQLITE3_LIBRARIES)
-		set(SQLITE3_FOUND TRUE)
-	endif (SQLITE3_INCLUDE_DIR AND SQLITE3_LIBRARIES)
-
-	if (SQLITE3_FOUND)
-		if (NOT SQLITE3_FIND_QUIETLY)
-			message(STATUS "Found SQLITE3: ${SQLITE3_LIBRARIES}")
-		endif (NOT SQLITE3_FIND_QUIETLY)
-	else (SQLITE3_FOUND)
-		if (SQLITE3_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find SQLite3")
-		endif (SQLITE3_FIND_REQUIRED)
-	endif (SQLITE3_FOUND)
-
-	# set visibility in cache
-	set(SQLITE3_DEFINITIONS ${SQLITE3_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(SQLITE3_INCLUDE_DIR SQLITE3_LIBRARIES SQLITE3_DEFINITIONS)
-
-endif (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIR)
+	pkg_search_module(SQLITE3 sqlite3)
+endif (SQLITE3_LIBRARIES AND SQLITE3_INCLUDE_DIRS)

Modified: trunk/cmake/modules/FindXcomposite.cmake
===================================================================
--- trunk/cmake/modules/FindXcomposite.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindXcomposite.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -8,32 +8,7 @@
 	# path set by user or was found in the past
 	set(XCOMPOSITE_FOUND TRUE)
 else (XCOMPOSITE_LIBRARIES)
-	include(UsePkgConfig)
+	find_package(PkgConfig)
 
-	pkgconfig(xcomposite _IncDir _LinkDir _LinkFlags _CFlags)
-	set(XCOMPOSITE_DEFINITIONS ${_CFlags})
-
-	find_library(XCOMPOSITE_LIBRARIES
-		NAMES Xcomposite
-		PATHS ${_LinkDir}
-	)
-
-	if (XCOMPOSITE_LIBRARIES)
-		set(XCOMPOSITE_FOUND TRUE)
-	endif (XCOMPOSITE_LIBRARIES)
-
-	if (XCOMPOSITE_FOUND)
-		if (NOT XCOMPOSITE_FIND_QUIETLY)
-			message(STATUS "Found Xcomposite: ${XCOMPOSITE_LIBRARIES}")
-		endif (NOT XCOMPOSITE_FIND_QUIETLY)
-	else (XCOMPOSITE_FOUND)
-		if (XCOMPOSITE_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find Xcomposite")
-		endif (XCOMPOSITE_FIND_REQUIRED)
-	endif (XCOMPOSITE_FOUND)
-
-	# set visibility in cache
-	set(XCOMPOSITE_DEFINITIONS ${XCOMPOSITE_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(XCOMPOSITE_LIBRARIES XCOMPOSITE_DEFINITIONS)
-
+	pkg_search_module(XCOMPOSITE xcomposite)
 endif (XCOMPOSITE_LIBRARIES)

Modified: trunk/cmake/modules/FindXdamage.cmake
===================================================================
--- trunk/cmake/modules/FindXdamage.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindXdamage.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -8,14 +8,11 @@
 	# path set by user or was found in the past
 	set(XDAMAGE_FOUND TRUE)
 else (XDAMAGE_LIBRARIES)
-	include(UsePkgConfig)
+	set(XDAMAGE_DEFINITIONS "")
 
-	pkgconfig(xdamage _IncDir _LinkDir _LinkFlags _CFlags)
-	set(XDAMAGE_DEFINITIONS ${_CFlags})
-
 	find_library(XDAMAGE_LIBRARIES
 		NAMES Xdamage
-		PATHS ${_LinkDir}
+		PATHS
 	)
 
 	if (XDAMAGE_LIBRARIES)

Modified: trunk/cmake/modules/FindXfixes.cmake
===================================================================
--- trunk/cmake/modules/FindXfixes.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindXfixes.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -8,32 +8,7 @@
 	# path set by user or was found in the past
 	set(XFIXES_FOUND TRUE)
 else (XFIXES_LIBRARIES)
-	include(UsePkgConfig)
+	find_package(PkgConfig)
 
-	pkgconfig(xfixes _IncDir _LinkDir _LinkFlags _CFlags)
-	set(XFIXES_DEFINITIONS ${_CFlags})
-
-	find_library(XFIXES_LIBRARIES
-		NAMES Xfixes
-		PATHS ${_LinkDir}
-	)
-
-	if (XFIXES_LIBRARIES)
-		set(XFIXES_FOUND TRUE)
-	endif (XFIXES_LIBRARIES)
-
-	if (XFIXES_FOUND)
-		if (NOT XFIXES_FIND_QUIETLY)
-			message(STATUS "Found Xfixes: ${XFIXES_LIBRARIES}")
-		endif (NOT XFIXES_FIND_QUIETLY)
-	else (XFIXES_FOUND)
-		if (XFIXES_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find Xfixes")
-		endif (XFIXES_FIND_REQUIRED)
-	endif (XFIXES_FOUND)
-
-	# set visibility in cache
-	set(XFIXES_DEFINITIONS ${XFIXES_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(XFIXES_LIBRARIES XFIXES_DEFINITIONS)
-
+	pkg_search_module(XFIXES xfixes)
 endif (XFIXES_LIBRARIES)

Modified: trunk/cmake/modules/FindXrender.cmake
===================================================================
--- trunk/cmake/modules/FindXrender.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindXrender.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -8,32 +8,7 @@
 	# path set by user or was found in the past
 	set(XRENDER_FOUND TRUE)
 else (XRENDER_LIBRARIES)
-	include(UsePkgConfig)
+	find_package(PkgConfig)
 
-	pkgconfig(xrender _IncDir _LinkDir _LinkFlags _CFlags)
-	set(XRENDER_DEFINITIONS ${_CFlags})
-
-	find_library(XRENDER_LIBRARIES
-		NAMES Xrender
-		PATHS ${_LinkDir}
-	)
-
-	if (XRENDER_LIBRARIES)
-		set(XRENDER_FOUND TRUE)
-	endif (XRENDER_LIBRARIES)
-
-	if (XRENDER_FOUND)
-		if (NOT XRENDER_FIND_QUIETLY)
-			message(STATUS "Found Xrender: ${XRENDER_LIBRARIES}")
-		endif (NOT XRENDER_FIND_QUIETLY)
-	else (XRENDER_FOUND)
-		if (XRENDER_FIND_REQUIRED)
-			message(FATAL_ERROR "Could not find Xrender")
-		endif (XRENDER_FIND_REQUIRED)
-	endif (XRENDER_FOUND)
-
-	# set visibility in cache
-	set(XRENDER_DEFINITIONS ${XRENDER_DEFINITIONS} CACHE STRING "Defines for compilation." FORCE)
-	mark_as_advanced(XRENDER_LIBRARIES XRENDER_DEFINITIONS)
-
+	pkg_search_module(XRENDER xrender)	
 endif (XRENDER_LIBRARIES)

Modified: trunk/cmake/modules/FindXtst.cmake
===================================================================
--- trunk/cmake/modules/FindXtst.cmake	2008-08-10 20:44:15 UTC (rev 940)
+++ trunk/cmake/modules/FindXtst.cmake	2008-08-15 13:08:47 UTC (rev 941)
@@ -8,14 +8,11 @@
 	# path set by user or was found in the past
 	set(XTST_FOUND TRUE)
 else (XTST_LIBRARIES)
-	include(UsePkgConfig)
+	set(XTST_DEFINITIONS "")
 
-	pkgconfig(xtst _IncDir _LinkDir _LinkFlags _CFlags)
-	set(XTST_DEFINITIONS ${_CFlags})
-
 	find_library(XTST_LIBRARIES
 		NAMES Xtst
-		PATHS ${_LinkDir}
+		PATHS
 	)
 
 	if (XTST_LIBRARIES)



From lazhur at mail.berlios.de  Sat Aug 16 01:28:31 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sat, 16 Aug 2008 01:28:31 +0200
Subject: [S3d-svn] r943 - in trunk: libs3d libs3dw
Message-ID: <200808152328.m7FNSVGU032286@sheep.berlios.de>

Author: lazhur
Date: 2008-08-16 01:28:29 +0200 (Sat, 16 Aug 2008)
New Revision: 943

Modified:
   trunk/libs3d/s3d.h
   trunk/libs3dw/s3dw.h
Log:
Allow to link C++ applications against s3d(w) C library

Modified: trunk/libs3d/s3d.h
===================================================================
--- trunk/libs3d/s3d.h	2008-08-15 23:08:15 UTC (rev 942)
+++ trunk/libs3d/s3d.h	2008-08-15 23:28:29 UTC (rev 943)
@@ -86,6 +86,10 @@
 	uint16_t state;  /* 0 = pressed, 1 = released */
 };
 
+#if defined(__cplusplus) || defined(c_plusplus)
+extern "C" {
+#endif
+
 /* framework functions */
 S3DEXPORT void s3d_usage(void);
 S3DEXPORT int s3d_init(int *argc, char ***argv, const char *name);
@@ -190,4 +194,8 @@
 /* for apps which don't employ s3d_mainloop() */
 S3DEXPORT int s3d_net_check(void);
 
+#if defined(__cplusplus) || defined(c_plusplus)
+} /* extern "C" */
 #endif
+
+#endif

Modified: trunk/libs3dw/s3dw.h
===================================================================
--- trunk/libs3dw/s3dw.h	2008-08-15 23:08:15 UTC (rev 942)
+++ trunk/libs3dw/s3dw.h	2008-08-15 23:28:29 UTC (rev 943)
@@ -165,6 +165,11 @@
 	float title_mat[12];  /* material for the title bar */
 	float title_text_mat[12]; /* material for the text on the title bar */
 };
+
+#if defined(__cplusplus) || defined(c_plusplus)
+extern "C" {
+#endif
+
 /* button.c */
 S3DWEXPORT s3dw_button   *s3dw_button_new(s3dw_surface *surface, const char *text, float posx, float posy);
 S3DWEXPORT s3dw_label    *s3dw_label_new(s3dw_surface *surface, const char *text, float posx, float posy);
@@ -194,4 +199,8 @@
 
 S3DWEXPORT void      s3dw_ani_mate(void);
 
+#if defined(__cplusplus) || defined(c_plusplus)
+} /* extern "C" */
 #endif
+
+#endif



From dotslash at mail.berlios.de  Sun Aug 17 00:12:13 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Sun, 17 Aug 2008 00:12:13 +0200
Subject: [S3d-svn] r948 - trunk/server
Message-ID: <200808162212.m7GMCDMh001785@sheep.berlios.de>

Author: dotslash
Date: 2008-08-17 00:12:12 +0200 (Sun, 17 Aug 2008)
New Revision: 948

Modified:
   trunk/server/object.c
Log:
remove segfault, try to free rest of object even if tree is broken


Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-16 22:03:37 UTC (rev 947)
+++ trunk/server/object.c	2008-08-16 22:12:12 UTC (rev 948)
@@ -2040,7 +2040,7 @@
 		link_delete(p, o->lsub);
 		if (i == o->lsub) {
 			s3dprintf(HIGH, "something is wrong!!");
-			o = NULL; /* segfault */
+			o->lsub = -1;
 		}
 	}
 



From lazhur at mail.berlios.de  Sun Aug 17 00:03:17 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sun, 17 Aug 2008 00:03:17 +0200
Subject: [S3d-svn] r944 - in trunk: apps/s3dvt libs3d libs3dw server
Message-ID: <200808162203.m7GM3Hj5001068@sheep.berlios.de>

Author: lazhur
Date: 2008-08-17 00:03:16 +0200 (Sun, 17 Aug 2008)
New Revision: 944

Modified:
   trunk/apps/s3dvt/terminal.c
   trunk/libs3d/shm_ringbuf.c
   trunk/libs3dw/arrange.c
   trunk/server/shm_ringbuf.c
Log:
Remove some dead initialisations

Modified: trunk/apps/s3dvt/terminal.c
===================================================================
--- trunk/apps/s3dvt/terminal.c	2008-08-15 23:28:29 UTC (rev 943)
+++ trunk/apps/s3dvt/terminal.c	2008-08-16 22:03:16 UTC (rev 944)
@@ -78,7 +78,7 @@
 
 static t_line* line_is_full(void)
 {
-	t_line *pcurline = (t_line*) & line + cy;
+	t_line *pcurline;
 	cy++;
 	if (cy >= MAX_LINES) {     /*  damn it ... our display is filled ... let's move everything upwards */
 		cy = MAX_LINES - 1;

Modified: trunk/libs3d/shm_ringbuf.c
===================================================================
--- trunk/libs3d/shm_ringbuf.c	2008-08-15 23:28:29 UTC (rev 943)
+++ trunk/libs3d/shm_ringbuf.c	2008-08-16 22:03:16 UTC (rev 944)
@@ -75,7 +75,7 @@
 unsigned int shm_read(struct buf_t *rb, char *buf, unsigned int n)
 {
 	int wrap = 0;
-	unsigned int mn = n;
+	unsigned int mn;
 	unsigned int rs;
 	uint32_t e, s, size;
 	char *data;

Modified: trunk/libs3dw/arrange.c
===================================================================
--- trunk/libs3dw/arrange.c	2008-08-15 23:28:29 UTC (rev 943)
+++ trunk/libs3dw/arrange.c	2008-08-16 22:03:16 UTC (rev 944)
@@ -53,7 +53,7 @@
 
 void s3dw_arr_normdir(float *dir)
 {
-	float dirlen = s3d_vector_length(dir);
+	float dirlen;
 	while ((dirlen = s3d_vector_length(dir)) == 0) {
 		/* make up some random direction if they're exactly the same position */
 		dir[0] = ((float)rand() - RAND_MAX / 2.0) / RAND_MAX;

Modified: trunk/server/shm_ringbuf.c
===================================================================
--- trunk/server/shm_ringbuf.c	2008-08-15 23:28:29 UTC (rev 943)
+++ trunk/server/shm_ringbuf.c	2008-08-16 22:03:16 UTC (rev 944)
@@ -74,7 +74,7 @@
 int shm_read(struct buf_t *rb, char *buf, int n)
 {
 	int wrap = 0;
-	int mn = n;
+	int mn;
 	int rs;
 	int32_t e, s, size;
 	char *data;



From lazhur at mail.berlios.de  Sun Aug 17 00:03:30 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sun, 17 Aug 2008 00:03:30 +0200
Subject: [S3d-svn] r946 - trunk/apps/s3dosm
Message-ID: <200808162203.m7GM3UFP001107@sheep.berlios.de>

Author: lazhur
Date: 2008-08-17 00:03:30 +0200 (Sun, 17 Aug 2008)
New Revision: 946

Modified:
   trunk/apps/s3dosm/osm.c
Log:
s3dosm: Only build segments between nodes with references (<nd ref="..." />)

Modified: trunk/apps/s3dosm/osm.c
===================================================================
--- trunk/apps/s3dosm/osm.c	2008-08-16 22:03:23 UTC (rev 945)
+++ trunk/apps/s3dosm/osm.c	2008-08-16 22:03:30 UTC (rev 946)
@@ -52,10 +52,9 @@
 	way_t way;
 	xmlNodePtr kids;
 	xmlAttrPtr attr, kattr;
-	int nd, last_nd;
+	int nd = 0, last_nd = 0;
 	segment_t segment;
 	static int seg = 0;
-	last_nd = 0;
 
 	way_init(&way);
 
@@ -82,7 +81,9 @@
 
 				db_insert_way_seg(&way, seg);
 			}
-			last_nd = nd;
+			if (nd != 0) {
+				last_nd = nd;
+			}
 		}
 	}
 }



From lazhur at mail.berlios.de  Sat Aug 16 01:08:31 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sat, 16 Aug 2008 01:08:31 +0200
Subject: [S3d-svn] r942 - in trunk: apps/dot_mcp apps/kism3d apps/meshs3d
	apps/s3d_x11gate apps/s3dfm apps/s3dosm apps/s3dvt example
	experimental/comptest experimental/olsrs3d
	experimental/testvis experimental/wiitest libs3d libs3dw server
Message-ID: <200808152308.m7FN8V0G005162@sheep.berlios.de>

Author: lazhur
Date: 2008-08-16 01:08:15 +0200 (Sat, 16 Aug 2008)
New Revision: 942

Modified:
   trunk/apps/dot_mcp/main.c
   trunk/apps/dot_mcp/menu.c
   trunk/apps/kism3d/client.c
   trunk/apps/kism3d/gui.c
   trunk/apps/kism3d/kism3d.c
   trunk/apps/kism3d/list.h
   trunk/apps/kism3d/network.c
   trunk/apps/meshs3d/allocate.c
   trunk/apps/meshs3d/hash.c
   trunk/apps/meshs3d/main.c
   trunk/apps/meshs3d/process.c
   trunk/apps/s3d_x11gate/s3d_x11gate.c
   trunk/apps/s3dfm/dialog.c
   trunk/apps/s3dfm/fly.c
   trunk/apps/s3dfm/fs.c
   trunk/apps/s3dfm/node.c
   trunk/apps/s3dfm/parse.c
   trunk/apps/s3dfm/s3dfm.h
   trunk/apps/s3dosm/db.c
   trunk/apps/s3dosm/draw.c
   trunk/apps/s3dosm/gps.c
   trunk/apps/s3dosm/http_fetcher.c
   trunk/apps/s3dosm/io.c
   trunk/apps/s3dosm/kismet.c
   trunk/apps/s3dosm/object.c
   trunk/apps/s3dosm/osm.c
   trunk/apps/s3dosm/s3dosm.h
   trunk/apps/s3dosm/tag.c
   trunk/apps/s3dosm/ui.c
   trunk/apps/s3dvt/main.c
   trunk/example/filebrowser.c
   trunk/example/texturetest.c
   trunk/example/widgets.c
   trunk/example/wiresphere.c
   trunk/experimental/comptest/window.c
   trunk/experimental/comptest/x11.c
   trunk/experimental/olsrs3d/main.c
   trunk/experimental/olsrs3d/olsrs3d.h
   trunk/experimental/olsrs3d/process.c
   trunk/experimental/testvis/testvis.c
   trunk/experimental/wiitest/wiitest.c
   trunk/libs3d/error.c
   trunk/libs3d/event.c
   trunk/libs3d/fontselect.c
   trunk/libs3d/freetype.c
   trunk/libs3d/hash.c
   trunk/libs3d/io.c
   trunk/libs3d/modelread.c
   trunk/libs3d/network.c
   trunk/libs3d/object_queue.c
   trunk/libs3d/proto_in.c
   trunk/libs3d/s3d.h
   trunk/libs3d/s3dlib.h
   trunk/libs3d/shm.c
   trunk/libs3d/tcp.c
   trunk/libs3d/texture.c
   trunk/libs3dw/button.c
   trunk/libs3dw/input.c
   trunk/libs3dw/label.c
   trunk/libs3dw/root.c
   trunk/libs3dw/s3dw.h
   trunk/libs3dw/s3dw_int.h
   trunk/libs3dw/surface.c
   trunk/libs3dw/textbox.c
   trunk/libs3dw/widget.c
   trunk/server/allocate.c
   trunk/server/error.c
   trunk/server/event.c
   trunk/server/global.h
   trunk/server/main.c
   trunk/server/network.c
   trunk/server/object.c
   trunk/server/process.c
   trunk/server/shm.c
Log:
Make it compile with stricter (c++ like) compilers

Modified: trunk/apps/dot_mcp/main.c
===================================================================
--- trunk/apps/dot_mcp/main.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/dot_mcp/main.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -195,7 +195,7 @@
 	return(0);
 }
 
-static void* find_app(int oid)
+static struct app* find_app(int oid)
 {
 	struct app *a = apps;
 	while (a != NULL) {
@@ -271,7 +271,7 @@
 	mo = (struct mcp_object *)hrmz->buf;
 	if (NULL == (a = find_app(mo->object))) {
 		printf("adding new object ......");
-		a = malloc(sizeof(struct app));
+		a = (struct app*)malloc(sizeof(struct app));
 		a->oid = mo->object;
 		a->r = mo->r;
 		strncpy(a->name, mo->name, 256);

Modified: trunk/apps/dot_mcp/menu.c
===================================================================
--- trunk/apps/dot_mcp/menu.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/dot_mcp/menu.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -30,7 +30,7 @@
 #include <stdlib.h> /* exit() */
 #include <string.h> /* strlen(),strncpy(), strncat() */
 struct menu_entry {
-	char *icon, *name, *path;
+	const char *icon, *name, *path;
 	int icon_oid, str_oid;
 };
 

Modified: trunk/apps/kism3d/client.c
===================================================================
--- trunk/apps/kism3d/client.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/kism3d/client.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -46,7 +46,7 @@
 
 
 	/* we reached the end of the list and must create a new wlan_network */
-	wlan_client = alloc_memory(sizeof(struct wlan_client));
+	wlan_client = (struct wlan_client*)alloc_memory(sizeof(struct wlan_client));
 
 	INIT_LIST_HEAD(&wlan_client->list);
 

Modified: trunk/apps/kism3d/gui.c
===================================================================
--- trunk/apps/kism3d/gui.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/kism3d/gui.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -58,9 +58,9 @@
 	unsigned int *l; /* lines */
 	num_v = (stacks + 1) * slices;
 	num_l = stacks * slices + (stacks - 1) * slices; /* vertical + horizontal */
-	v = malloc(sizeof(float) * 3 * num_v);
-	n = malloc(sizeof(float) * 6 * num_l);
-	l = malloc(sizeof(unsigned int) * 3 * num_l);
+	v = (float*)malloc(sizeof(float) * 3 * num_v);
+	n = (float*)malloc(sizeof(float) * 6 * num_l);
+	l = (unsigned int*)malloc(sizeof(unsigned int) * 3 * num_l);
 	i = 0;
 	for (x = 0;x < slices;x++) {
 		alpha = (x * 360.0 / slices) * M_PI / 180.0;

Modified: trunk/apps/kism3d/kism3d.c
===================================================================
--- trunk/apps/kism3d/kism3d.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/kism3d/kism3d.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -233,7 +233,7 @@
 				if (wlan_network->ssid != NULL)
 					free(wlan_network->ssid);
 
-				wlan_network->ssid = alloc_memory(strlen(ssid));
+				wlan_network->ssid = (char*)alloc_memory(strlen(ssid));
 				strcpy(wlan_network->ssid, ssid);
 
 				pthread_mutex_unlock(&Network_list_mutex);
@@ -356,7 +356,7 @@
 
 	while (argc > found_args) {
 
-		kismet_src = alloc_memory(sizeof(struct kismet_src));
+		kismet_src = (struct kismet_src*)alloc_memory(sizeof(struct kismet_src));
 
 		INIT_LIST_HEAD(&kismet_src->list);
 		kismet_src->enable_level = 0;
@@ -404,7 +404,7 @@
 		kismet_src->kismet_addr.sin_port = htons(kismet_src->port);
 		kismet_src->kismet_addr.sin_addr.s_addr = kismet_src->ip;
 
-		kismet_src->kismet_ip = alloc_memory(16);
+		kismet_src->kismet_ip = (char*)alloc_memory(16);
 		inet_ntop(AF_INET, &kismet_src->ip, kismet_src->kismet_ip, 16);
 
 
@@ -431,7 +431,7 @@
 		}
 
 
-		kismet_src->recv_buff = alloc_memory(1500);
+		kismet_src->recv_buff = (char*)alloc_memory(1500);
 
 		FD_SET(kismet_src->sock, &wait_sockets);
 		if (kismet_src->sock > max_sock)

Modified: trunk/apps/kism3d/list.h
===================================================================
--- trunk/apps/kism3d/list.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/kism3d/list.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -21,8 +21,8 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
  */
 
+#include <stdlib.h>
 
-
 struct list_head {
 	struct list_head *next, *prev;
 };
@@ -75,29 +75,29 @@
  * This is only for internal list manipulation where we know
  * the prev/next entries already!
  */
-static inline void __list_add(struct list_head *new,
+static inline void __list_add(struct list_head *n,
                               struct list_head *prev,
                               struct list_head *next)
 {
-	next->prev = new;
-	new->next = next;
-	new->prev = prev;
-	prev->next = new;
+	next->prev = n;
+	n->next = next;
+	n->prev = prev;
+	prev->next = n;
 }
 
 
 
 /**
  * list_add_tail - add a new entry
- * @new: new entry to be added
+ * @n: new entry to be added
  * @head: list head to add it before
  *
  * Insert a new entry before the specified head.
  * This is useful for implementing queues.
  */
-static inline void list_add_tail(struct list_head *new, struct list_head *head)
+static inline void list_add_tail(struct list_head *n, struct list_head *head)
 {
-	__list_add(new, head->prev, head);
+	__list_add(n, head->prev, head);
 }
 
 
@@ -125,7 +125,7 @@
 static inline void list_del(struct list_head *entry)
 {
 	__list_del(entry->prev, entry->next);
-	entry->next = (void *) 0;
-	entry->prev = (void *) 0;
+	entry->next = NULL;
+	entry->prev = NULL;
 }
 

Modified: trunk/apps/kism3d/network.c
===================================================================
--- trunk/apps/kism3d/network.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/kism3d/network.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -41,7 +41,7 @@
 
 
 	/* we reached the end of the list and must create a new wlan_network */
-	wlan_network = alloc_memory(sizeof(struct wlan_network));
+	wlan_network = (struct wlan_network*)alloc_memory(sizeof(struct wlan_network));
 
 	INIT_LIST_HEAD(&wlan_network->list);
 

Modified: trunk/apps/meshs3d/allocate.c
===================================================================
--- trunk/apps/meshs3d/allocate.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/meshs3d/allocate.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -84,7 +84,7 @@
 
 	if (walker == NULL) {
 
-		walker = malloc(sizeof(struct memoryUsage));
+		walker = (struct memoryUsage*)malloc(sizeof(struct memoryUsage));
 
 		walker->length = length;
 		walker->tag = tag;
@@ -192,7 +192,7 @@
 
 	/* printf("sizeof(struct chunkHeader) = %u, sizeof (struct chunkTrailer) = %u\n", sizeof (struct chunkHeader), sizeof (struct chunkTrailer)); */
 
-	memory = malloc(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer));
+	memory = (unsigned char*)malloc(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer));
 
 	if (memory == NULL) {
 		fprintf(stderr, "Cannot allocate %u bytes, malloc tag = %d\n", (unsigned int)(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer)), tag);
@@ -230,7 +230,7 @@
 	uint32_t copyLength;
 
 	if (memoryParameter) { /* if memoryParameter==NULL, realloc() should work like malloc() !! */
-		memory = memoryParameter;
+		memory = (unsigned char*)memoryParameter;
 		chunkHeader = (struct chunkHeader *)(memory - sizeof(struct chunkHeader));
 
 		if (chunkHeader->magicNumber != MAGIC_NUMBER) {
@@ -247,7 +247,7 @@
 	}
 
 
-	result = debugMalloc(length, tag);
+	result = (unsigned char*)debugMalloc(length, tag);
 	if (memoryParameter) {
 		copyLength = length;
 
@@ -270,7 +270,7 @@
 	struct chunkHeader *walker;
 	struct chunkHeader *previous;
 
-	memory = memoryParameter;
+	memory = (unsigned char*)memoryParameter;
 	chunkHeader = (struct chunkHeader *)(memory - sizeof(struct chunkHeader));
 
 	if (chunkHeader->magicNumber != MAGIC_NUMBER) {

Modified: trunk/apps/meshs3d/hash.c
===================================================================
--- trunk/apps/meshs3d/hash.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/meshs3d/hash.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -85,7 +85,7 @@
 	struct hash_it_t *iter;
 
 	if (iter_in == NULL) {
-		iter = debugMalloc(sizeof(struct hash_it_t), 301);
+		iter = (struct hash_it_t*)debugMalloc(sizeof(struct hash_it_t), 301);
 		iter->index =  -1;
 		iter->bucket = NULL;
 		iter->prev_bucket = NULL;
@@ -154,12 +154,12 @@
 struct hashtable_t *hash_new(int size, hashdata_compare_cb compare, hashdata_choose_cb choose) {
 	struct hashtable_t *hash;
 
-	hash = debugMalloc(sizeof(struct hashtable_t) , 302);
+	hash = (struct hashtable_t*)debugMalloc(sizeof(struct hashtable_t) , 302);
 	if (hash == NULL)      /* could not allocate the hash control structure */
 		return (NULL);
 
 	hash->size = size;
-	hash->table = debugMalloc(sizeof(struct element_t *) * size, 303);
+	hash->table = (struct element_t**)debugMalloc(sizeof(struct element_t *) * size, 303);
 	if (hash->table == NULL) {   /* could not allocate the table */
 		debugFree(hash, 1305);
 		return(NULL);
@@ -189,7 +189,7 @@
 	}
 
 	/* found the tail of the list, add new element */
-	if (NULL == (bucket = debugMalloc(sizeof(struct element_t), 304)))
+	if (NULL == (bucket = (struct element_t*)debugMalloc(sizeof(struct element_t), 304)))
 		return(-1); /* debugMalloc failed */
 
 	bucket->data = data;   /* init the new bucket */

Modified: trunk/apps/meshs3d/main.c
===================================================================
--- trunk/apps/meshs3d/main.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/meshs3d/main.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -159,7 +159,7 @@
 					ip[0] = max(node->ip, tmp_node->ip);
 					ip[1] = min(node->ip, tmp_node->ip);
 
-					if (NULL != (con = hash_find(con_hash, ip))) {
+					if (NULL != (con = (struct node_con*)hash_find(con_hash, ip))) {
 						s3d_del_object(con->obj_id);
 						con->obj_id = -1;
 					}
@@ -349,7 +349,7 @@
 				ip[1] = sec_node->ip;
 				distance = dirt(first_node->pos_vec, sec_node->pos_vec, tmp_mov_vec);
 
-				if ((NULL != (con = hash_find(con_hash, ip)))) {
+				if ((NULL != (con = (struct node_con*)hash_find(con_hash, ip)))) {
 
 					/* we have a connection */
 					wish_distance = ((con->etx1_sqrt + con->etx2_sqrt)) + 4;

Modified: trunk/apps/meshs3d/process.c
===================================================================
--- trunk/apps/meshs3d/process.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/meshs3d/process.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -53,7 +53,7 @@
 
 static int long_choose(void *data, int32_t size)
 {
-	unsigned char *key = data;
+	unsigned char *key = (unsigned char*)data;
 	uint32_t hash = 0;
 	size_t i;
 
@@ -77,7 +77,7 @@
 /* hash algorithm from http://en.wikipedia.org/wiki/Hash_table */
 static int orig_choose(void *data, int32_t size)
 {
-	unsigned char *key = data;
+	unsigned char *key = (unsigned char*)data;
 	uint32_t hash = 0;
 	size_t i;
 
@@ -92,7 +92,7 @@
 	return (hash % size);
 }
 
-static void exit_error(char *format, ...)
+static void exit_error(const char *format, ...)
 {
 	va_list args;
 

Modified: trunk/apps/s3d_x11gate/s3d_x11gate.c
===================================================================
--- trunk/apps/s3d_x11gate/s3d_x11gate.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3d_x11gate/s3d_x11gate.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -51,7 +51,7 @@
 static XImage *image;
 static Display *dpy = NULL;
 static int window, scr;
-static unsigned int width, height, height, depth;
+static unsigned int width, height, depth;
 static Visual *visual;
 static XShmSegmentInfo shminfo;
 static char *tex_image = NULL, *otex_image = NULL, *img1, *img2;
@@ -188,7 +188,7 @@
 }
 int main(int argc, char **argv)
 {
-	char *disp = NULL;
+	const char *disp = NULL;
 	int a, b, c, d;
 	int xt;
 	if (disp == NULL) disp = getenv("DISPLAY");
@@ -217,7 +217,7 @@
 
 		image = XShmCreateImage(dpy, visual, depth, ZPixmap, NULL, &shminfo, width, height);
 		shminfo.shmid = shmget(IPC_PRIVATE, image->bytes_per_line * image->height, IPC_CREAT | 0777);
-		shminfo.shmaddr = image->data = shmat(shminfo.shmid, NULL, 0);
+		shminfo.shmaddr = image->data = (char*)shmat(shminfo.shmid, NULL, 0);
 		shmctl(shminfo.shmid, IPC_RMID, NULL);
 		shminfo.readOnly = False;
 		if (!XShmAttach(dpy, &shminfo))
@@ -229,8 +229,8 @@
 		s3d_set_callback(S3D_EVENT_OBJ_CLICK, mouseclick);
 		s3d_set_callback(S3D_EVENT_KEY, keypress);
 		printf("screen: %dx%d\n", width, height);
-		img1 = malloc(width * height * sizeof(uint32_t));
-		img2 = malloc(width * height * sizeof(uint32_t));
+		img1 = (char*)malloc(width * height * sizeof(uint32_t));
+		img2 = (char*)malloc(width * height * sizeof(uint32_t));
 		tex_image = img1;
 		otex_image = img2;
 		oid = s3d_new_object();

Modified: trunk/apps/s3dfm/dialog.c
===================================================================
--- trunk/apps/s3dfm/dialog.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/dialog.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -55,8 +55,8 @@
 		if (dir->sub[i]->sub != NULL) get_selected(fp, dir->sub[i]); /* scan subdir */
 		if (dir->sub[i]->detached) {
 			fp->n++;
-			fp->p = realloc(fp->p, sizeof(t_file) * fp->n);
-			s = malloc(M_DIR);
+			fp->p = (struct _t_file*)realloc(fp->p, sizeof(t_file) * fp->n);
+			s = (char*)malloc(M_DIR);
 			node_path(dir->sub[i], s);
 			fp->p[fp->n - 1].name = s;
 			if ((fs_lock == TYPE_COPY) || (fs_lock == TYPE_MOVE))
@@ -114,7 +114,7 @@
 	s3dw_delete(button->parent); /* parent =surface. this means close containing window */
 
 }
-void window_fs_errno(char *errmsg)
+void window_fs_errno(const char *errmsg)
 {
 	s3dw_surface *infwin;
 	s3dw_button  *button;
@@ -165,7 +165,7 @@
 	pthread_create(&filethread, NULL, thread_start, NULL);
 	s3dw_delete(button->parent); /* parent =surface. this means close containing window */
 }
-void window_copy(char *S3DFMUNUSED(path))
+void window_copy(const char *S3DFMUNUSED(path))
 {
 	s3dw_surface *infwin;
 	s3dw_button  *okbutton, *abortbutton;
@@ -179,7 +179,7 @@
 		return;
 	}
 	fs_lock = TYPE_COPY;
-	fp = malloc(sizeof(filelist));
+	fp = (filelist*)malloc(sizeof(filelist));
 	fp->n = 0;
 	fp->p = NULL;
 	get_selected(fp, &root);
@@ -230,7 +230,7 @@
 		return;
 	}
 	fs_lock = TYPE_UNLINK;
-	fp = malloc(sizeof(filelist));
+	fp = (filelist*)malloc(sizeof(filelist));
 	fp->n = 0;
 	fp->p = NULL;
 	get_selected(fp, &root);
@@ -282,7 +282,7 @@
 	window_fs_abort(button); /* finish */
 
 }
-void window_mkdir(char *path)
+void window_mkdir(const char *path)
 {
 	s3dw_surface *infwin;
 	s3dw_button  *okbutton, *abortbutton;
@@ -309,7 +309,7 @@
 	s3dw_show(S3DWIDGET(infwin));
 }
 
-void window_move(char *S3DFMUNUSED(path))
+void window_move(const char *S3DFMUNUSED(path))
 {
 	s3dw_surface *infwin;
 	s3dw_button  *button;

Modified: trunk/apps/s3dfm/fly.c
===================================================================
--- trunk/apps/s3dfm/fly.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/fly.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -58,7 +58,7 @@
 t_node *fly_create_anode(t_node *node)
 {
 	t_node *work;
-	work = malloc(sizeof(t_node));
+	work = (t_node*)malloc(sizeof(t_node));
 	node_init(work);
 	work->parent = node->parent;
 	work->scale = node->scale;

Modified: trunk/apps/s3dfm/fs.c
===================================================================
--- trunk/apps/s3dfm/fs.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/fs.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -50,7 +50,7 @@
 	int n, i, j;
 	char *name;
 
-	fl = malloc(sizeof(filelist));
+	fl = (filelist*)malloc(sizeof(filelist));
 	fl->p = NULL;
 	fl->n = 0;
 	n = scandir(path, &namelist, NULL, alphasort);
@@ -60,11 +60,11 @@
 	} else {
 		j = 0;
 		fl->n = n - 2 ; /* ignore . and .. */
-		fl->p = malloc(sizeof(t_file) * fl->n);
+		fl->p = (struct _t_file*)malloc(sizeof(t_file) * fl->n);
 		for (i = 0;i < n;i++) {
 			name = namelist[i]->d_name;
 			if (!((strcmp(name, ".") == 0) || (strcmp(name, "..") == 0))) { /* ignore */
-				fl->p[j].name = malloc(strlen(name) + strlen(path) + 2);
+				fl->p[j].name = (char*)malloc(strlen(name) + strlen(path) + 2);
 				strcpy(fl->p[j].name, path);
 				strcat(fl->p[j].name, "/");
 				strcat(fl->p[j].name, name);
@@ -207,7 +207,7 @@
 	return(0);
 }
 /* copy the source to the destination, destination should be a directory. */
-int fs_fl_copy(filelist *fl, char *dest)
+int fs_fl_copy(filelist *fl, const char *dest)
 {
 	int i;
 	int r;
@@ -217,7 +217,7 @@
 	for (i = 0;i < fl->n;i++) {
 		fl->p[i].state = STATE_INUSE;
 		bname = basename(fl->p[i].name);
-		sdest = malloc(strlen(dest) + strlen(bname) + 2);
+		sdest = (char*)malloc(strlen(dest) + strlen(bname) + 2);
 
 		strcpy(sdest, dest);
 		strcat(sdest, "/");
@@ -291,7 +291,7 @@
 }
 
 /* moves the source to the destination */
-int fs_fl_move(filelist *fl, char *dest)
+int fs_fl_move(filelist *fl, const char *dest)
 {
 	int i;
 	int r;
@@ -301,7 +301,7 @@
 	for (i = 0;i < fl->n;i++) {
 		fl->p[i].state = STATE_INUSE;
 		bname = basename(fl->p[i].name);
-		sdest = malloc(strlen(dest) + strlen(bname) + 2);
+		sdest = (char*)malloc(strlen(dest) + strlen(bname) + 2);
 
 		strcpy(sdest, dest);
 		strcat(sdest, "/");
@@ -316,13 +316,13 @@
 }
 
 /* write an error and wait for a reaction */
-int fs_error(char *message, char *file)
+int fs_error(const char *message, char *file)
 {
 	static struct timespec t = {
 		0, 100*1000*1000
 	};
 	fs_err.err = errno;
-	fs_err.message = message;
+	fs_err.message = (char*)message;
 	fs_err.file = file;
 	fs_err.state = ESTATE_RISE;
 	printf("[FS ERROR]: %s %s %s", message, file, strerror(errno));

Modified: trunk/apps/s3dfm/node.c
===================================================================
--- trunk/apps/s3dfm/node.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/node.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -26,7 +26,7 @@
 #include <stdio.h> /* printf() */
 #include <stdlib.h> /* free() */
 /* find the node to a path, return NULL if not parsed yet */
-t_node *node_getbypath(char *path)
+t_node *node_getbypath(const char *path)
 {
 	char p[M_DIR];
 	char *s, *match;

Modified: trunk/apps/s3dfm/parse.c
===================================================================
--- trunk/apps/s3dfm/parse.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/parse.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -63,8 +63,8 @@
 					/* i now holds the right index in sub, so we use dir->sub[i]
 					 * to reference the new item now... */
 					dir->n_sub++;
-					dir->sub = realloc(dir->sub , dir->n_sub * sizeof(t_node *));
-					dir->sub[i] = malloc(sizeof(t_node));
+					dir->sub = (struct _t_node**)realloc(dir->sub , dir->n_sub * sizeof(t_node *));
+					dir->sub[i] = (struct _t_node*)malloc(sizeof(t_node));
 					node_init(dir->sub[i]);
 					strncpy(dir->sub[i]->name, nstr, M_NAME);
 					dir->sub[i]->parent = dir;
@@ -96,7 +96,7 @@
 				dir->check = 1;
 			}
 		/* if we removed something, then shrink the buffer accordingly .. */
-		if (dir->check)  dir->sub = realloc(dir->sub , dir->n_sub * sizeof(t_node *));
+		if (dir->check)  dir->sub = (struct _t_node**)realloc(dir->sub , dir->n_sub * sizeof(t_node *));
 		dir->parsed = 1;
 	}
 	return(0);

Modified: trunk/apps/s3dfm/s3dfm.h
===================================================================
--- trunk/apps/s3dfm/s3dfm.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dfm/s3dfm.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -155,12 +155,12 @@
 void    window_fs(s3dw_widget *button);
 void   window_fs_another(void);
 void   window_fs_nothing(void);
-void   window_fs_errno(char *errmsg);
+void   window_fs_errno(const char *errmsg);
 void   window_fs_abort(s3dw_widget *button);
-void   window_copy(char *path);
+void   window_copy(const char *path);
 void   window_fs_mkdir(s3dw_widget *button);
-void   window_mkdir(char *path);
-void   window_move(char *path);
+void   window_mkdir(const char *path);
+void   window_move(const char *path);
 void   window_info(char *path);
 void   window_fsani(void);
 void    window_unlink(void);
@@ -176,20 +176,20 @@
 filelist  *fl_new(char *path);
 void   fl_del(filelist *fl);
 void    fs_fl_approx(filelist *fl, int *files, int *dirs, int *bytes);
-int    fs_fl_copy(filelist *fl, char *dest);
-int    fs_fl_move(filelist *fl, char *dest);
+int    fs_fl_copy(filelist *fl, const char *dest);
+int    fs_fl_move(filelist *fl, const char *dest);
 int    fs_fl_unlink(filelist *fl);
 void    fs_approx(char *source, int *files, int *dirs, int *bytes);
 int    fs_copy(char *source, char *dest);
 int    fs_move(char *source, char *dest);
 int    fs_unlink(char *dest);
-int    fs_error(char *message, char *file);
+int    fs_error(const char *message, char *file);
 /* icon.c */
 int    icon_draw(t_node *dir);
 int    icon_undisplay(t_node *dir);
 void    icon_focus_color(t_node *dir, int on);
 /* node.c */
-t_node   *node_getbypath(char *path);
+t_node   *node_getbypath(const char *path);
 void    node_path(t_node *dir, char *path);
 t_node   *node_getbyoid(t_node *t, int oid);
 int    node_init(t_node *dir);

Modified: trunk/apps/s3dosm/db.c
===================================================================
--- trunk/apps/s3dosm/db.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/db.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -33,16 +33,15 @@
 
 static sqlite3 *db;
 static char *dbFile = NULL;
-int db_exec(const char *query, sqlite3_callback callback, void *arg);
 
 /* TODO: remove '' for security reasons */
-static void clean_string(char *clean, char *dirty, int n)
+static void clean_string(char *clean, const char *dirty, int n)
 {
 	strncpy(clean, dirty, n);
 	clean[n-1] = 0;
 }
 
-int db_add_tag(object_t *obj, char *key, char *val)
+int db_add_tag(object_t *obj, const char *key, const char *val)
 {
 	char tagquery[MAXQ];
 	char mkey[MAXQ], mval[MAXQ];
@@ -104,7 +103,7 @@
 	return(0);
 }
 
-int db_insert_layer(char *layer_name)
+int db_insert_layer(const char *layer_name)
 {
 	char findquery[MAXQ];
 	char addquery[MAXQ];
@@ -126,7 +125,7 @@
 #define MAGIC 1337 /* just to elevate the nodes a little bit */
 static int found = 0;
 /* tries to find node coordinates of ip, returns 1 if has found something */
-int db_olsr_check(char *ip, float *pos)
+int db_olsr_check(const char *ip, float *pos)
 {
 	char findquery[MAXQ];
 	char clean_ip[16];
@@ -164,7 +163,7 @@
 int db_getpoint(void *data, int argc, char **argv, char **azColName)
 {
 	float lo = 0.0, la = 0.0, alt = 0.0;
-	float *p = data;
+	float *p = (float*)data;
 	int i;
 	for (i = 0; i < argc; i++) {
 		if (argv[i]) {
@@ -208,7 +207,7 @@
 
 /* get the value for a a certain tagid and keyvalue (field). Write into target, which has to be allocated with MAXQ bytes of space.
  * Nothing is written when nothing is found. */
-int db_gettag(int tagid, char *field, char *target)
+int db_gettag(int tagid, const char *field, char *target)
 {
 	char query[MAXQ];
 	target[0] = 0;
@@ -227,11 +226,11 @@
 	return 0;
 }
 
-static int db_really_exec(const char *query, sqlite3_callback callback, void *arg)
+static int db_really_exec(const char *query, sqlite3_callback callback, const void *arg)
 {
 	char *zErrMsg = NULL;
 	int rc;
-	if (SQLITE_OK != (rc = sqlite3_exec(db, query, callback, arg, &zErrMsg))) {
+	if (SQLITE_OK != (rc = sqlite3_exec(db, query, callback, (void*)arg, &zErrMsg))) {
 		fprintf(stderr, "query: %s\n", query);
 		fprintf(stderr, "SQL error: %s\n", zErrMsg);
 		exit(-1);
@@ -248,7 +247,7 @@
 	qlen = 0;
 }
 
-int db_exec(const char *query, sqlite3_callback callback, void *arg)
+int db_exec(const char *query, sqlite3_callback callback, const void *arg)
 {
 	int ret;
 #ifdef DB_STACK
@@ -269,7 +268,7 @@
 	return(ret);
 }
 
-int db_init(char *dbFile)
+int db_init(const char *dbFile)
 {
 	int rc;
 	tagid = 1;

Modified: trunk/apps/s3dosm/draw.c
===================================================================
--- trunk/apps/s3dosm/draw.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/draw.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -125,7 +125,7 @@
 /* just fetches node information and puts in the nodelist */
 static int insert_node(void *data, int argc, char **argv, char **azColName)
 {
-	struct nodelist *np = data; /* get the nodepointer */
+	struct nodelist *np = (struct nodelist *)data; /* get the nodepointer */
 	int i;
 	for (i = 0; i < argc; i++) {
 		if (argv[i]) {
@@ -151,7 +151,7 @@
 	return(0);
 }
 /* draw waylist, clear the queue */
-static void waylist_draw(char *filter)
+static void waylist_draw(const char *filter)
 {
 	float len;
 	char query[MAXQ];
@@ -364,9 +364,9 @@
 {
 	if (waylist_n >= waylist_bufn) {
 		waylist_bufn += 64;
-		waylist_p = realloc(waylist_p, sizeof(struct waylist) * waylist_bufn);
-		nodelist_p = realloc(nodelist_p, sizeof(struct nodelist) * waylist_bufn * 2); /* we can have twice as many nodes as there are segments in a graph. */
-		adjlist_p = realloc(adjlist_p, sizeof(struct nodelist) * waylist_bufn * 2);
+		waylist_p = (struct waylist *)realloc(waylist_p, sizeof(struct waylist) * waylist_bufn);
+		nodelist_p = (struct nodelist *)realloc(nodelist_p, sizeof(struct nodelist) * waylist_bufn * 2); /* we can have twice as many nodes as there are segments in a graph. */
+		adjlist_p = (struct adjlist *)realloc(adjlist_p, sizeof(struct nodelist) * waylist_bufn * 2);
 	}
 	waylist_p[waylist_n].node_to = p->node_to;
 	waylist_p[waylist_n].node_from = p->node_from;
@@ -412,7 +412,7 @@
 	s3d_rotate(user_icon, (90 - la), lo, 0);
 }
 
-static void draw_ways(char *filter)
+static void draw_ways(const char *filter)
 {
 	char query[MAXQ];
 	num_done = 0;

Modified: trunk/apps/s3dosm/gps.c
===================================================================
--- trunk/apps/s3dosm/gps.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/gps.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -174,10 +174,10 @@
 	lon_old = lo;
 	lastfix = fix;
 }
-int gps_init(char *gpshost)
+int gps_init(const char *gpshost)
 {
 	int sock_opts;
-	char *err_str;
+	const char *err_str;
 	dgps = gps_open(gpshost, "2947");
 	if (dgps == NULL) {
 		switch (errno) {
@@ -263,7 +263,7 @@
 }
 #else
 
-int gps_init(char *S3DOSMUNUSED(gpshost))
+int gps_init(const char *S3DOSMUNUSED(gpshost))
 {
 	printf("GPS support not compiled in!\n");
 	return(0);

Modified: trunk/apps/s3dosm/http_fetcher.c
===================================================================
--- trunk/apps/s3dosm/http_fetcher.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/http_fetcher.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -75,7 +75,7 @@
 	}
 
 	/* Copy the url passed in into a buffer we can work with, change, etc. */
-	url = malloc(strlen(url_tmp) + 1);
+	url = (char*)malloc(strlen(url_tmp) + 1);
 	if (url == NULL) {
 		errorSource = ERRNO;
 		return -1;
@@ -379,7 +379,7 @@
 
 	snprintf((char *)plain, 1024, "%s:%s", user, pass);
 	len = strlen((char *)plain);
-	b64 = malloc(len * 4 + 1);
+	b64 = (char*)malloc(len * 4 + 1);
 	i = j = c = 0;
 	while (i < len || c != 0) {
 		switch (c) {

Modified: trunk/apps/s3dosm/io.c
===================================================================
--- trunk/apps/s3dosm/io.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/io.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -31,7 +31,7 @@
 #include <errno.h>   /* errno */
 #include <s3d.h>   /* s3d_usage() */
 
-char *read_file(char *fname, int *fsize)
+char *read_file(const char *fname, int *fsize)
 {
 	FILE *fp;
 	char *buf = NULL;
@@ -47,7 +47,7 @@
 		return(NULL);
 	}
 	filesize = bf.st_size;
-	if ((buf = malloc(filesize)) == NULL)  {
+	if ((buf = (char*)malloc(filesize)) == NULL)  {
 		fprintf(stderr, "read_file( %s ):malloc(): %s", fname, strerror(errno));
 		return(NULL);
 	}

Modified: trunk/apps/s3dosm/kismet.c
===================================================================
--- trunk/apps/s3dosm/kismet.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/kismet.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -74,7 +74,7 @@
 }
 
 /* parse the osm input file */
-layer_t *parse_kismet(char *buf, int length)
+layer_t *parse_kismet(const char *buf, int length)
 {
 	xmlDocPtr doc;
 	xmlNodePtr cur, c;
@@ -109,7 +109,7 @@
 	xmlFreeDoc(doc);
 	return(layer);
 }
-layer_t *load_kismet_file(char *filename)
+layer_t *load_kismet_file(const char *filename)
 {
 	int length;
 	char *file;

Modified: trunk/apps/s3dosm/object.c
===================================================================
--- trunk/apps/s3dosm/object.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/object.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -48,7 +48,7 @@
 
 object_t* object_new(int key)
 {
-	object_t *nobj = malloc(sizeof(object_t));
+	object_t *nobj = (object_t*)malloc(sizeof(object_t));
 	object_init(nobj);
 	nobj->id = key;
 	return (nobj);
@@ -68,7 +68,7 @@
 }
 node_t* node_new(void)
 {
-	node_t *nnode = malloc(sizeof(node_t));
+	node_t *nnode = (node_t*)malloc(sizeof(node_t));
 	node_init(nnode);
 	return(nnode);
 }
@@ -87,7 +87,7 @@
 }
 segment_t* segment_new(void)
 {
-	segment_t *nsegment = malloc(sizeof(segment_t));
+	segment_t *nsegment = (segment_t*)malloc(sizeof(segment_t));
 	segment_init(nsegment);
 	return(nsegment);
 }
@@ -106,7 +106,7 @@
 }
 way_t* way_new(void)
 {
-	way_t *nway = malloc(sizeof(way_t));
+	way_t *nway = (way_t*)malloc(sizeof(way_t));
 	way_init(nway);
 	return(nway);
 }
@@ -119,7 +119,7 @@
 /* ########### layer  ############### */
 layer_t* layer_new(void)
 {
-	layer_t *nlayer = malloc(sizeof(layer_t));
+	layer_t *nlayer = (layer_t*)malloc(sizeof(layer_t));
 	nlayer->tree = NULL;
 	nlayer->visible = 0;
 	return(nlayer);
@@ -131,6 +131,6 @@
 {
 	if (layer == NULL) return;
 	layerset.n++;
-	layerset.p = realloc(layerset.p, sizeof(layer_t *) * layerset.n);
+	layerset.p = (layer_t**)realloc(layerset.p, sizeof(layer_t *) * layerset.n);
 	layerset.p[layerset.n-1] = layer;
 }

Modified: trunk/apps/s3dosm/osm.c
===================================================================
--- trunk/apps/s3dosm/osm.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/osm.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -108,7 +108,7 @@
 	}
 }
 /* parse the osm input file */
-layer_t *parse_osm(char *buf, int length)
+layer_t *parse_osm(const char *buf, int length)
 {
 	xmlDocPtr doc;
 	xmlNodePtr cur, c;
@@ -161,7 +161,7 @@
 	free(fileBuf);
 	return layer;
 }
-layer_t *load_osm_file(char *filename)
+layer_t *load_osm_file(const char *filename)
 {
 	int length;
 	char *file;

Modified: trunk/apps/s3dosm/s3dosm.h
===================================================================
--- trunk/apps/s3dosm/s3dosm.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/s3dosm.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -47,7 +47,7 @@
 };
 
 struct _icon_t {
-	char *path;
+	const char *path;
 	int oid;
 };
 enum {
@@ -141,12 +141,12 @@
 void mainloop(void);
 /* osm.c */
 void debug_obj(object_t *obj, void *dummy);
-layer_t *parse_osm(char *buf, int length);
-layer_t *load_osm_file(char *filename);
+layer_t *parse_osm(const char *buf, int length);
+layer_t *load_osm_file(const char *filename);
 layer_t *load_osm_web(float minlon, float minlat, float maxlon, float maxlat);
 /* kismet.c */
-layer_t *parse_kismet(char *buf, int length);
-layer_t *load_kismet_file(char *filename);
+layer_t *parse_kismet(const char *buf, int length);
+layer_t *load_kismet_file(const char *filename);
 /* draw.c */
 void draw_all_layers(void);
 int draw_layer(layer_t *layer);
@@ -161,18 +161,18 @@
 float get_heading(float la1, float lo1, float la2, float lo2);
 extern int oidy;
 /* tag.c */
-void tag_add(object_t *obj, char *k, char *v);
-tag_t *tag_get(object_t *obj, char *k);
+void tag_add(object_t *obj, const char *k, char *v);
+tag_t *tag_get(object_t *obj, const char *k);
 void tag_free(tag_t *tag);
 /* io.c */
-char *read_file(char *fname, int *fsize);
+char *read_file(const char *fname, int *fsize);
 int process_args(int argc, char **argv);
 /* db.c */
 int db_olsr_node_init(float *pos);
-int db_olsr_check(char *ip, float *pos);
-int db_exec(const char *query, sqlite3_callback callback, void *arg);
-int db_add_tag(object_t *obj, char *key, char *val);
-int db_gettag(int tagid, char *field, char *target);
+int db_olsr_check(const char *ip, float *pos);
+int db_exec(const char *query, sqlite3_callback callback, const void *arg);
+int db_add_tag(object_t *obj, const char *key, const char *val);
+int db_gettag(int tagid, const char *field, char *target);
 int db_getint(void *tagid, int argc, char **argv, char **azColName);
 int db_getpoint(void *data, int argc, char **argv, char **azColName);
 int db_insert_node(node_t *node);
@@ -180,19 +180,19 @@
 int db_insert_way_only(way_t *way);
 int db_insert_way_seg(way_t *way, int seg_n);
 int db_insert_object(object_t *obj);
-int db_init(char *dbFile);
+int db_init(const char *dbFile);
 int db_quit(void);
 int db_create(void);
-int db_insert_layer(char *layer_name);
+int db_insert_layer(const char *layer_name);
 void db_flush(void);
 int callback(void *NotUsed, int argc, char **argv, char **azColName);
 /* gps.c */
-int gps_init(char *gpshost);
+int gps_init(const char *gpshost);
 int gps_main(void);
 int gps_quit(void);
 /* ui.c */
 int ui_init(void);
-int load_window(char *text);
+int load_window(const char *text);
 int load_window_remove(void);
 int load_update_status(float percent);
 /* olsrs3d.c */

Modified: trunk/apps/s3dosm/tag.c
===================================================================
--- trunk/apps/s3dosm/tag.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/tag.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -24,11 +24,11 @@
 #include <stdio.h> /* printf() */
 #include <string.h> /* strcmp() */
 #include <stdlib.h> /* realloc() */
-void tag_add(object_t *obj, char *k, char *v)
+void tag_add(object_t *obj, const char *k, char *v)
 {
 	tag_t *t;
 	obj->tag_n++;
-	obj->tag_p = realloc(obj->tag_p, obj->tag_n * sizeof(tag_t));
+	obj->tag_p = (tag_t*)realloc(obj->tag_p, obj->tag_n * sizeof(tag_t));
 	if (k != NULL && v != NULL) {
 		t = &(obj->tag_p[obj->tag_n-1]);
 		t->ttype = TAG_UNKNOWN;
@@ -38,7 +38,7 @@
 		if (0 == strcmp(k, "name")) t->ttype = TAG_NAME;
 	}
 }
-tag_t *tag_get(object_t *obj, char *k)
+tag_t *tag_get(object_t *obj, const char *k)
 {
 	int i;
 	for (i = 0;i < obj->tag_n;i++) {

Modified: trunk/apps/s3dosm/ui.c
===================================================================
--- trunk/apps/s3dosm/ui.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dosm/ui.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -138,7 +138,7 @@
 }
 
 /* initialize the loadwindow or change its caption text */
-int load_window(char *text)
+int load_window(const char *text)
 {
 	if (loadwindow == NULL) { /* create it */
 		loadwindow = s3dw_surface_new("Now loading ...", 20, 5);

Modified: trunk/apps/s3dvt/main.c
===================================================================
--- trunk/apps/s3dvt/main.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/apps/s3dvt/main.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -184,8 +184,8 @@
 static int pipe_init_terminal(void)
 {
 	int uid = 0, gid = 0;
-	char *exe = "/bin/bash";
-	char *args = "-i";
+	const char *exe = "/bin/bash";
+	const char *args = "-i";
 
 	term_mode = M_PIPE;
 	if ((pipe(mpipe_in) == -1) || (pipe(mpipe_out) == -1)) {

Modified: trunk/example/filebrowser.c
===================================================================
--- trunk/example/filebrowser.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/example/filebrowser.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -58,7 +58,7 @@
 };
 static struct t_item *item;
 static int n_item = 0;
-static int display_dir(char *dir, int S3DUNUSED(depth), int  posx, int posy, int posz)
+static int display_dir(const char *dir, int S3DUNUSED(depth), int  posx, int posy, int posz)
 {
 	struct dirent **namelist;
 	int n, i;
@@ -83,7 +83,7 @@
 		perror("scandir");
 		return(-1);
 	} else {
-		item = malloc(sizeof(struct t_item) * i);
+		item = (struct t_item*)malloc(sizeof(struct t_item) * i);
 		n_item = i;
 		while (n--) {
 			item[n].type = T_DUNO;

Modified: trunk/example/texturetest.c
===================================================================
--- trunk/example/texturetest.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/example/texturetest.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -45,7 +45,7 @@
 	unsigned char *data;
 
 	if (!s3d_init(&argc, &argv, "texturetest")) {
-		data = malloc(MAXX * MAXY * 4);
+		data = (unsigned char *)malloc(MAXX * MAXY * 4);
 		oid = s3d_new_object();
 		s3d_push_vertex(oid, -1, -1, 0);
 		s3d_push_vertex(oid, 1, -1, 0);

Modified: trunk/example/widgets.c
===================================================================
--- trunk/example/widgets.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/example/widgets.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -130,7 +130,7 @@
 
 	s3dw_show(S3DWIDGET(surface));
 }
-static char *text = "okay\nn2\n3\nfooobarfooobar ...\noh no\n its too loooong\n";
+static const char *text = "okay\nn2\n3\nfooobarfooobar ...\noh no\n its too loooong\n";
 int main(int argc, char **argv)
 {
 	s3dw_button *button;

Modified: trunk/example/wiresphere.c
===================================================================
--- trunk/example/wiresphere.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/example/wiresphere.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -42,9 +42,9 @@
 	unsigned int *l; /* lines */
 	num_v = (stacks + 1) * slices;
 	num_l = stacks * slices + (stacks - 1) * slices; /* vertical + horizontal */
-	v = malloc(sizeof(float) * 3 * num_v);
-	n = malloc(sizeof(float) * 6 * num_l);
-	l = malloc(sizeof(unsigned int) * 3 * num_l);
+	v = (float*)malloc(sizeof(float) * 3 * num_v);
+	n = (float*)malloc(sizeof(float) * 6 * num_l);
+	l = (unsigned int*)malloc(sizeof(unsigned int) * 3 * num_l);
 	i = 0;
 	for (x = 0;x < slices;x++) {
 		alpha = (x * 360.0f / slices) * (float)M_PI / 180.0f;

Modified: trunk/experimental/comptest/window.c
===================================================================
--- trunk/experimental/comptest/window.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/comptest/window.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -78,7 +78,7 @@
 struct window *window_add(Display *dpy, Window id)
 {
 	struct window *win;
-	win = malloc(sizeof(struct window));
+	win = (struct window *)malloc(sizeof(struct window));
 	if (!win)
 		return(NULL);
 
@@ -121,7 +121,12 @@
 /*	XSelectInput(dpy, win->id, SubstructureNotifyMask | ExposureMask | StructureNotifyMask | PropertyChangeMask);*/
 	XSelectInput(dpy, win->id, 0);
 
+#if defined(__cplusplus) || defined(c_plusplus)
+	if (win->attr.c_class != InputOnly)		/* don't create damage on these windows */
+#else
 	if (win->attr.class != InputOnly)		/* don't create damage on these windows */
+#endif 
+	
 		win->damage = XDamageCreate(dpy, win->id, XDamageReportNonEmpty);
 	if (win->next == NULL) 
 		window_restack(win, None);
@@ -292,15 +297,20 @@
 	if (win->attr.map_state == IsUnmapped)	/* not mapped images can't be grabbed */
 		return;
 
+#if defined(__cplusplus) || defined(c_plusplus)
+	if (win->attr.c_class == InputOnly)		/* can't grab image from this source */
+		return;
+#else
 	if (win->attr.class == InputOnly)		/* can't grab image from this source */
 		return;
+#endif
 
 	if (x < 0) x = 0;
 	if (y < 0) y = 0;
 	if (width > win->attr.width - x)   width = win->attr.width - x;
 	if (height > win->attr.height - y)   height = win->attr.height - y;
 
-	bitmap = malloc(TEXW * height * sizeof(uint32_t));
+	bitmap = (char*)malloc(TEXW * height * sizeof(uint32_t));
 	for (xleft = x; xleft < x + width ; xleft = xright) {
 		xright = (xleft + TEXW) & ~(TEXW - 1);
 		if (xright > (x + width))

Modified: trunk/experimental/comptest/x11.c
===================================================================
--- trunk/experimental/comptest/x11.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/comptest/x11.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -38,7 +38,7 @@
 
 int print_event(Display *COMPUNUSED(dpy), XEvent *event)
 {
-	char *name = "unknown";
+	const char *name = "unknown";
 	switch (event->type & 0x7f) {
 	case CreateNotify:		name = "Create";			break;
 	case DestroyNotify:		name = "Destroy";			break;
@@ -62,10 +62,10 @@
 
 int error(Display *COMPUNUSED(dpy), XErrorEvent *event)
 {
-	char *name;
+	const char *name;
 	char buf[256];
 	char buf_req[256];
-	char *req;
+	const char *req;
 
 	XGetErrorText(dpy, event->error_code, buf, 256);
 	name = buf;

Modified: trunk/experimental/olsrs3d/main.c
===================================================================
--- trunk/experimental/olsrs3d/main.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/olsrs3d/main.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -154,7 +154,7 @@
 }
 
 
-void window_error(char *msg)
+void window_error(const char *msg)
 {
 
 	s3dw_surface *infwin;
@@ -1007,7 +1007,7 @@
 		tmpNeighbour = tmpNeighbour->next_olsr_neigh_list;
 	}
 
-	Olsr_neighbour_label_obj = malloc(Size * sizeof(int));
+	Olsr_neighbour_label_obj = (int*)malloc(Size * sizeof(int));
 	tmpNeighbour = Olsr_node_pEtx->olsr_neigh_list;
 
 	for (i = 0; i < Size ;i++) {

Modified: trunk/experimental/olsrs3d/olsrs3d.h
===================================================================
--- trunk/experimental/olsrs3d/olsrs3d.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/olsrs3d/olsrs3d.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -80,4 +80,4 @@
 void out_of_mem(void);
 void print_etx(void);
 float dist(float p1[], float p2[]);
-void window_error(char *msg);
+void window_error(const char *msg);

Modified: trunk/experimental/olsrs3d/process.c
===================================================================
--- trunk/experimental/olsrs3d/process.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/olsrs3d/process.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -83,7 +83,7 @@
 	/* new connection */
 	if ((*olsr_con) == NULL) {
 
-		(*olsr_con) = malloc(sizeof(struct olsr_con));
+		(*olsr_con) = (struct olsr_con*)malloc(sizeof(struct olsr_con));
 		if ((*olsr_con) == NULL) out_of_mem();
 
 		/* create connection object */
@@ -133,14 +133,14 @@
 		/* add new olsr connection to olsr nodes in order to access the connection from the olsr node */
 		olsr_neigh_list = &(*olsr_con)->left_olsr_node->olsr_neigh_list;
 		while ((*olsr_neigh_list) != NULL) olsr_neigh_list = &(*olsr_neigh_list)->next_olsr_neigh_list;
-		(*olsr_neigh_list) = malloc(sizeof(struct olsr_neigh_list));
+		(*olsr_neigh_list) = (struct olsr_neigh_list*)malloc(sizeof(struct olsr_neigh_list));
 		if ((*olsr_neigh_list) == NULL) out_of_mem();
 		(*olsr_neigh_list)->olsr_con = (*olsr_con);
 		(*olsr_neigh_list)->next_olsr_neigh_list = NULL;
 
 		olsr_neigh_list = &(*olsr_con)->right_olsr_node->olsr_neigh_list;
 		while ((*olsr_neigh_list) != NULL) olsr_neigh_list = &(*olsr_neigh_list)->next_olsr_neigh_list;
-		(*olsr_neigh_list) = malloc(sizeof(struct olsr_neigh_list));
+		(*olsr_neigh_list) = (struct olsr_neigh_list*)malloc(sizeof(struct olsr_neigh_list));
 		if ((*olsr_neigh_list) == NULL) out_of_mem();
 		(*olsr_neigh_list)->olsr_con = (*olsr_con);
 		(*olsr_neigh_list)->next_olsr_neigh_list = NULL;
@@ -164,7 +164,7 @@
  *
  ***/
 
-static void* get_olsr_node(struct olsr_node **olsr_node, char *ip)
+static struct olsr_node* get_olsr_node(struct olsr_node **olsr_node, char *ip)
 {
 
 	int result;   /* result of strcmp */
@@ -210,7 +210,7 @@
 	/* if node is NULL we reached the end of the tree and must create a new olsr_node */
 	if ((*olsr_node) == NULL) {
 
-		(*olsr_node) = malloc(sizeof(struct olsr_node));
+		(*olsr_node) = (struct olsr_node*)malloc(sizeof(struct olsr_node));
 		if ((*olsr_node) == NULL) out_of_mem();
 
 		(*olsr_node)->left = NULL;
@@ -272,18 +272,18 @@
 
 void lst_add(int id, struct olsr_node **olsr_node)
 {
-	struct Obj_to_ip *new;
-	new = (struct Obj_to_ip*) malloc(sizeof(struct Obj_to_ip));
-	if (new == NULL)
+	struct Obj_to_ip *n;
+	n = (struct Obj_to_ip*) malloc(sizeof(struct Obj_to_ip));
+	if (n == NULL)
 		out_of_mem();
-	new->id = id;
-	new->olsr_node = *olsr_node;
+	n->id = id;
+	n->olsr_node = *olsr_node;
 	move_lst_ptr(&id);
-	new->prev = List_ptr;
-	new->next = List_ptr->next;
-	List_ptr->next->prev = new;
-	List_ptr->next = new;
-	/* printf("obj2ip: add object %d between %d .. %d ip %s to list\n",new->id,new->prev->id,new->next->id,new->olsr_node->ip); */
+	n->prev = List_ptr;
+	n->next = List_ptr->next;
+	List_ptr->next->prev = n;
+	List_ptr->next = n;
+	/* printf("obj2ip: add object %d between %d .. %d ip %s to list\n",n->id,n->prev->id,n->next->id,n->olsr_node->ip); */
 }
 
 /*

Modified: trunk/experimental/testvis/testvis.c
===================================================================
--- trunk/experimental/testvis/testvis.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/testvis/testvis.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -161,8 +161,8 @@
 	struct t_data t_dat;
 	pthread_t thread;
 
-	head = malloc(sizeof(*head));
-	z = malloc(sizeof(*z));
+	head = (struct data *)malloc(sizeof(*head));
+	z = (struct data *)malloc(sizeof(*z));
 
 	head->next = z;
 
@@ -177,7 +177,7 @@
 		if ((tmp_buffer = strstr(buffer, "add")) != NULL) {
 			tmp_buffer[strlen(tmp_buffer) - 1] = 0;
 			tmp_buffer += 4;
-			t = malloc(sizeof(*t));
+			t = (struct data *)malloc(sizeof(*t));
 			snprintf(t->line, LINE_SIZE, tmp_buffer);
 			t->index = ++index;
 			t->active = 1;

Modified: trunk/experimental/wiitest/wiitest.c
===================================================================
--- trunk/experimental/wiitest/wiitest.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/experimental/wiitest/wiitest.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -69,7 +69,8 @@
 	if (addr != NULL) {
 		str2ba(addr, &bdaddr);
 	} else {
-		bdaddr = *BDADDR_ANY;
+		/* BDADDR_ANY */
+		memset(&bdaddr, 0, sizeof(bdaddr_t));
 	}
 
 	/* Connect to the wiimote */

Modified: trunk/libs3d/error.c
===================================================================
--- trunk/libs3d/error.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/error.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -41,13 +41,13 @@
 		fprintf(stderr, "s3dlib: %s\n", (char *)&dbm);
 	}
 }
-void errdn(int relevance, char *func, int en)
+void errdn(int relevance, const char *func, int en)
 {
 	if (relevance >= DEBUG)
 		fprintf(stderr, "s3dlib error: %s: (%d) %s\n", func, en, strerror(en));
 }
 
-void errds(int relevance, char *func, const char *fmt, ...)
+void errds(int relevance, const char *func, const char *fmt, ...)
 {
 	char dbm[DBM_MAX];
 	va_list args;
@@ -60,11 +60,11 @@
 	}
 }
 #endif
-void errn(char *func, int en)
+void errn(const char *func, int en)
 {
 	fprintf(stderr, "s3dlib error: %s: (%d) %s\n", func, en, strerror(en));
 }
-void errs(char *func, char *msg)
+void errs(const char *func, const char *msg)
 {
 	fprintf(stderr, "s3dlib error: %s: %s\n", func, msg);
 }

Modified: trunk/libs3d/event.c
===================================================================
--- trunk/libs3d/event.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/event.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -51,7 +51,7 @@
 	}
 	newevt->next = NULL;
 	if (s3d_stack != NULL) {
-		for (p = s3d_stack;p->next != NULL;p = p->next);  /*  go to the end */
+		for (p = s3d_stack;p->next != NULL;p = p->next) { }  /*  go to the end */
 		p->next = newevt;
 	} else
 		s3d_stack = newevt;

Modified: trunk/libs3d/fontselect.c
===================================================================
--- trunk/libs3d/fontselect.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/fontselect.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -39,7 +39,7 @@
 
 
 #ifdef WITH_FONTCONFIG
-char *s3d_findfont(char *mask)
+char *s3d_findfont(const char *mask)
 {
 	FcPattern *pattern = NULL, *match = NULL;
 	FcChar8 *file = NULL;
@@ -60,7 +60,7 @@
 /*  this uses the xserver to get a font-path and scan it for ttf-fonts. */
 /*  if it matches, give it out ... it's not nice, right, and might not */
 /*  work on your place. */
-char *s3d_findfont(char *mask)
+char *(const char *mask)
 {
 	char **flist = NULL;
 	int fnum = 0;

Modified: trunk/libs3d/freetype.c
===================================================================
--- trunk/libs3d/freetype.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/freetype.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -139,7 +139,7 @@
 	norm = 1.0 / face->glyph->metrics.vertAdvance;
 	if ((face->glyph->outline.n_points > 0) && (face->glyph->outline.n_points < SEI_SS)) {
 		tess_buf[a].vn = face->glyph->outline.n_points;
-		tess_buf[a].vbuf = malloc(sizeof(float) * face->glyph->outline.n_points * 3);
+		tess_buf[a].vbuf = (float*)malloc(sizeof(float) * face->glyph->outline.n_points * 3);
 
 		j = 0;
 		ncontours = face->glyph->outline.n_contours;
@@ -234,7 +234,7 @@
 			ncntr[c] = cntr[perm[c]];
 		}
 		n = 0;
-		tess_buf[a].pbuf = malloc(sizeof(uint32_t) * 4 * (face->glyph->outline.n_points + 2 * face->glyph->outline.n_contours));
+		tess_buf[a].pbuf = (uint32_t*)malloc(sizeof(uint32_t) * 4 * (face->glyph->outline.n_points + 2 * face->glyph->outline.n_contours));
 		k = 0;
 		for (c = ncontours - 1;c >= 0;c--) {
 			n++;     /* count out and inlines ... */
@@ -268,8 +268,8 @@
 	/* only draw if it has some information in it */
 	if ((tess_buf[a].pn != 0) && (tess_buf[a].vn != 0)) {
 
-		vbuf = malloc(sizeof(float) * 3 * tess_buf[a].vn);
-		pbuf = malloc(sizeof(uint32_t) * 4 * tess_buf[a].pn);
+		vbuf = (float*)malloc(sizeof(float) * 3 * tess_buf[a].vn);
+		pbuf = (uint32_t*)malloc(sizeof(uint32_t) * 4 * tess_buf[a].pn);
 		memcpy(vbuf, tess_buf[a].vbuf, sizeof(float)*3*tess_buf[a].vn);
 		memcpy(pbuf, tess_buf[a].pbuf, sizeof(uint32_t)*4*tess_buf[a].pn);
 		/*  prepare the buffs ... */
@@ -301,7 +301,7 @@
 	*xoff += tess_buf[a].xoff;  /*  xoffset */
 	return(0);
 }
-int s3d_select_font(char *path)
+int s3d_select_font(const char *path)
 {
 	char    *oldfont = memory_font;
 	int     oldsize = memory_font_size;
@@ -338,7 +338,7 @@
 }
 
 /*  draws a simple string. */
-int s3d_draw_string(char *str, float *xlen)
+int s3d_draw_string(const char *str, float *xlen)
 {
 	int i;
 	float xoff;
@@ -367,7 +367,7 @@
 	return(f_oid);
 }
 /* get the string length before actually drawing it. */
-float s3d_strlen(char *str)
+float s3d_strlen(const char *str)
 {
 	int i;
 	float xoff;

Modified: trunk/libs3d/hash.c
===================================================================
--- trunk/libs3d/hash.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/hash.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -82,7 +82,7 @@
 	struct hash_it_t *iter;
 
 	if (iter_in == NULL) {
-		iter= malloc(sizeof(struct hash_it_t));
+		iter= (struct hash_it_t*)malloc(sizeof(struct hash_it_t));
 		iter->index =  -1;
 		iter->bucket = NULL;
 		iter->prev_bucket = NULL;
@@ -151,12 +151,12 @@
 struct hashtable_t *_s3d_hash_new(int size, hashdata_compare_cb compare, hashdata_choose_cb choose) {
 	struct hashtable_t *hash;
 
-	hash= malloc( sizeof(struct hashtable_t));
+	hash= (struct hashtable_t*)malloc( sizeof(struct hashtable_t));
 	if ( hash == NULL ) 			/* could not allocate the hash control structure */
 		return (NULL);
 
 	hash->size= size;
-	hash->table= malloc( sizeof(struct element_t *) * size);
+	hash->table= (struct element_t **)malloc( sizeof(struct element_t *) * size);
 	if ( hash->table == NULL ) {	/* could not allocate the table */
 		free(hash);
 		return(NULL);
@@ -185,7 +185,7 @@
 	}
 
 	/* found the tail of the list, add new element */
-	if (NULL == (bucket= malloc(sizeof(struct element_t))))
+	if (NULL == (bucket = (struct element_t*)malloc(sizeof(struct element_t))))
 		return(-1); /* malloc failed */
 
 	bucket->data= data;				/* init the new bucket */

Modified: trunk/libs3d/io.c
===================================================================
--- trunk/libs3d/io.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/io.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -110,7 +110,7 @@
 	return(0);
 }
 /*  external functions go here ... */
-int s3d_init(int *argc, char ***argv, char *name)
+int s3d_init(int *argc, char ***argv, const char *name)
 {
 	char     *s;
 	char      urlc[256];   /*  this should be enough for an url */
@@ -189,7 +189,7 @@
 		_queue_quit();
 		while (NULL != (ret = s3d_pop_event())) s3d_delete_event(ret);  /*  clear the stack ... */
 		cb_lock = 0; /* we don't care about old callbacks, now we just quit! */
-		ret = malloc(sizeof(struct s3d_evt));
+		ret = (struct s3d_evt *)malloc(sizeof(struct s3d_evt));
 		ret->event = S3D_EVENT_QUIT;
 		ret->length = 0;
 		s3d_push_event(ret);
@@ -210,7 +210,7 @@
 }
 /*  opens a file returning it's filesize  */
 /*  and setting *pointer to the buffer. to be freed */
-int s3d_open_file(char *fname, char **pointer)
+int s3d_open_file(const char *fname, char **pointer)
 {
 	FILE *fp;
 	char *buf = NULL;
@@ -236,7 +236,7 @@
 	}
 	filesize = bf.st_size;
 	/* s3dprintf(LOW, "opening %s, filesize is %d",fname, filesize);*/
-	if ((buf = malloc(filesize)) == NULL) {
+	if ((buf = (char *)malloc(filesize)) == NULL) {
 		errn("s3d_open_3ds_file():malloc()", errno);
 		exit(-1);
 	}

Modified: trunk/libs3d/modelread.c
===================================================================
--- trunk/libs3d/modelread.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/modelread.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -43,7 +43,7 @@
 #define MAXSTRN  20
 static int model_load(char *file);
 /*  just a helper function for reading from file instead of memory. */
-int s3d_import_model_file(char *fname)
+int s3d_import_model_file(const char *fname)
 {
 	char *buf, *ptr, *next;
 	char searchpath[1024];
@@ -80,7 +80,7 @@
 	return(-1); /* nothing in search path ... */
 }
 
-static void* get_mat2tex(struct material2texture **mat2tex, void *mat_ptr)
+static struct material2texture* get_mat2tex(struct material2texture **mat2tex, void *mat_ptr)
 {
 
 	while ((*mat2tex) != NULL) {
@@ -93,7 +93,7 @@
 
 	if ((*mat2tex) == NULL) {
 
-		(*mat2tex) = malloc(sizeof(struct material2texture));
+		(*mat2tex) = (struct material2texture *)malloc(sizeof(struct material2texture));
 
 		if ((*mat2tex) == NULL) {
 			errs("model_import()", "Sorry - you ran out of memory !\n");
@@ -184,7 +184,7 @@
 						/* reorder pixeldata - s3d wants rgba */
 						if (s3d_pixeldata != NULL) free(s3d_pixeldata);
 
-						s3d_pixeldata = malloc(sizeof(uint8_t) * face->tex_image->width * face->tex_image->height * 32);
+						s3d_pixeldata = (uint8_t*)malloc(sizeof(uint8_t) * face->tex_image->width * face->tex_image->height * 32);
 
 						if (s3d_pixeldata == NULL) {
 							errs("model_load()", "Sorry - you ran out of memory !\n");

Modified: trunk/libs3d/network.c
===================================================================
--- trunk/libs3d/network.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/network.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -73,7 +73,7 @@
 #ifdef SIGS
 		if (_s3d_sigio) {
 #endif
-			while (_s3d_net_receive());
+			while (_s3d_net_receive()) {}
 #ifdef SIGS
 			_s3d_sigio = 0;
 		}
@@ -82,7 +82,7 @@
 #endif
 #ifdef SHM
 	case CON_SHM:
-		while (_shm_net_receive());
+		while (_shm_net_receive()) {}
 		break;
 #endif
 	}

Modified: trunk/libs3d/object_queue.c
===================================================================
--- trunk/libs3d/object_queue.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/object_queue.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -54,7 +54,7 @@
 	int i;
 	queue_size = 1;
 	requested = 0;
-	queue = malloc(sizeof(unsigned int) * queue_size);
+	queue = (unsigned int*)malloc(sizeof(unsigned int) * queue_size);
 	for (i = 0;i < queue_size;i++) {
 		queue[i] = Q_UNUSED;
 	}
@@ -85,7 +85,7 @@
 	if (queue_size == 0) return(-1);  /*  already quit. */
 	/*  if we reach here, all slots all taken.  */
 	/*  s3dprintf(LOW,"no place for object, resizing stack.",i); */
-	queue = realloc(queue, sizeof(unsigned int) * (queue_size + 1));
+	queue = (unsigned int*)realloc(queue, sizeof(unsigned int) * (queue_size + 1));
 	queue_size += 1;
 	requested--;
 	queue[queue_size-1] = oid;

Modified: trunk/libs3d/proto_in.c
===================================================================
--- trunk/libs3d/proto_in.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/proto_in.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -48,7 +48,7 @@
 	case S3D_P_S_CLICK:
 		if (length == 4) {
 			oid = ntohl(*((uint32_t *)buf));
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				*((uint32_t *)buf) = oid;  /*  reuse buffer ... */
 				s3devt->event = S3D_EVENT_OBJ_CLICK;
 				s3devt->length = 4;
@@ -75,7 +75,7 @@
 		break;
 	case S3D_P_S_KEY:
 		if (length == 8) {
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				struct s3d_key_event *keyevent;
 				s3devt->length = 2;
 				keyevent = (struct s3d_key_event *)buf;
@@ -91,7 +91,7 @@
 		break;
 	case S3D_P_S_MBUTTON:
 		if (length == 2) {
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				s3devt->event = S3D_EVENT_MBUTTON;
 				s3devt->length = 2;
 				s3devt->buf = buf;
@@ -102,7 +102,7 @@
 	case S3D_P_MCP_OBJECT:
 		if (length == sizeof(struct mcp_object)) {
 			/*     oid=htonl(*((uint32_t *)buf)); */
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				/*      *((uint32_t *)buf)=oid;  / *  reuse buffer ... * / */
 				s3devt->event = S3D_MCP_OBJECT;
 				s3devt->length = length;
@@ -120,7 +120,7 @@
 	case S3D_P_S_OINFO:
 		if (length == sizeof(struct s3d_obj_info)) {
 			/*     oid=htonl(*((uint32_t *)buf)); */
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				/*      *((uint32_t *)buf)=oid;  / *  reuse buffer ... * / */
 				s3devt->event = S3D_EVENT_OBJ_INFO;
 				s3devt->length = length;
@@ -164,7 +164,7 @@
 
 	case S3D_P_MCP_DEL_OBJECT:
 		if (length == 4) {
-			if (NULL != (s3devt = malloc(sizeof(struct s3d_evt)))) {
+			if (NULL != (s3devt = (struct s3d_evt*)malloc(sizeof(struct s3d_evt)))) {
 				s3devt->event = S3D_MCP_DEL_OBJECT;
 				s3devt->length = length;
 				*((uint32_t *)buf) = ntohl(*((uint32_t *)buf));  /*  revert oid */

Modified: trunk/libs3d/s3d.h
===================================================================
--- trunk/libs3d/s3d.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/s3d.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -88,7 +88,7 @@
 
 /* framework functions */
 S3DEXPORT void s3d_usage(void);
-S3DEXPORT int s3d_init(int *argc, char ***argv, char *name);
+S3DEXPORT int s3d_init(int *argc, char ***argv, const char *name);
 S3DEXPORT int s3d_quit(void);
 S3DEXPORT int s3d_mainloop(void (*f)(void));
 
@@ -157,11 +157,11 @@
 S3DEXPORT int s3d_scale(int object, float s);
 
 /* high-level object creating */
-S3DEXPORT int s3d_import_model_file(char *fname);
-S3DEXPORT int s3d_open_file(char *fname, char **pointer);
-S3DEXPORT int s3d_select_font(char *mask);
-S3DEXPORT int s3d_draw_string(char *str, float *xlen);
-S3DEXPORT float s3d_strlen(char *str);
+S3DEXPORT int s3d_import_model_file(const char *fname);
+S3DEXPORT int s3d_open_file(const char *fname, char **pointer);
+S3DEXPORT int s3d_select_font(const char *mask);
+S3DEXPORT int s3d_draw_string(const char *str, float *xlen);
+S3DEXPORT float s3d_strlen(const char *str);
 
 /* some vector calculation helpers */
 

Modified: trunk/libs3d/s3dlib.h
===================================================================
--- trunk/libs3d/s3dlib.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/s3dlib.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -97,24 +97,24 @@
 
 #ifdef DEBUG
 S3DEXPORT void s3dprintf(int relevance, const char *fmt, ...);
-S3DEXPORT void errdn(int relevance, char *func, int en);
-S3DEXPORT void errds(int relevance, char *func, const char *fmt, ...);
+S3DEXPORT void errdn(int relevance, const char *func, int en);
+S3DEXPORT void errds(int relevance, const char *func, const char *fmt, ...);
 #else
 static __inline__ void s3dprintf(int S3DUNUSED(relevance),
                                  const char *S3DUNUSED(fmt), ...) {}
 static __inline__ void errdn(int S3DUNUSED(relevance),
-                             char *S3DUNUSED(func),
+                             const char *S3DUNUSED(func),
                              int S3DUNUSED(en)) {}
 static __inline__ void errds(int S3DUNUSED(relevance),
-                             char *S3DUNUSED(func),
+                             const char *S3DUNUSED(func),
                              const char *S3DUNUSED(fmt), ...) {}
 #endif
 
-void errn(char *func, int en);
-void errs(char *func, char *msg);
+void errn(const char *func, int en);
+void errs(const char *func, const char *msg);
 
 /*  fontselect.c */
-char *s3d_findfont(char *mask);
+char *s3d_findfont(const char *mask);
 /*  object_queue.c */
 int _queue_init(void);
 int _queue_fill(void);

Modified: trunk/libs3d/shm.c
===================================================================
--- trunk/libs3d/shm.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/shm.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -74,13 +74,13 @@
 	}
 
 	/* attach to the segment to get a pointer to it: */
-	next_key = shmat(shmid, (void *)0, 0);
+	next_key = (uint32_t*)shmat(shmid, (void *)0, 0);
 	if (next_key == (uint32_t *)(-1)) {
 		errn("shm_init():shmat()", errno);
 		return(1);
 	}
 	s3dprintf(MED, "right now, next_keys are: %08x, %08x", next_key[0], next_key[1]);
-	while ((0 == (key_in = next_key[1])) || (0 == (key_out = next_key[0])));
+	while ((0 == (key_in = next_key[1])) || (0 == (key_out = next_key[0]))) {}
 	next_key[0] = next_key[1] = 0;
 	s3dprintf(MED, "right now, next_keys are: %08x, %08x", key_in, key_out);
 	/* as we have the new key, we  can detach here now. */
@@ -179,7 +179,7 @@
 		if (1 == shm_readn(&opcode, 1)) {
 			shm_readn((char *)&length, 2);
 			length = ntohs(length);
-			buf = malloc(length);
+			buf = (char*)malloc(length);
 			shm_readn(buf, length);
 			net_prot_in(opcode, length, buf);
 			found = 1;

Modified: trunk/libs3d/tcp.c
===================================================================
--- trunk/libs3d/tcp.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/tcp.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -163,7 +163,7 @@
 				if (1 == tcp_readn(&opcode, 1)) {
 					tcp_readn((char *)&length, 2);
 					length = ntohs(length);
-					buf = malloc(length);
+					buf = (char*)malloc(length);
 					tcp_readn(buf, length);
 					net_prot_in(opcode, length, buf);
 					found = 1;

Modified: trunk/libs3d/texture.c
===================================================================
--- trunk/libs3d/texture.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3d/texture.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -37,25 +37,25 @@
 static void _s3d_free_s3dtex(void *d1);
 static struct hashtable_t *tex_hash = NULL;
 
-static int _s3d_choose_cb(void *d1, int size) 
+static int _s3d_choose_cb(void *d1, int size)
 {
-	struct s3d_texshm *t1 = d1;
+	struct s3d_texshm *t1 = (struct s3d_texshm *)d1;
 	return((t1->oid*32 + t1->tex)%size);
 }
 
-static int _s3d_compare_cb(void *d1, void *d2) 
+static int _s3d_compare_cb(void *d1, void *d2)
 {
 	struct s3d_texshm *t1, *t2;
-	t1 = d1;
-	t2 = d2;
+	t1 = (struct s3d_texshm *)d1;
+	t2 = (struct s3d_texshm *)d2;
 	if ((t1->oid == t2->oid) && (t1->tex == t2->tex))
 		return(0);
 	return(1);
 }
 
-static void _s3d_free_s3dtex(void *d1) 
+static void _s3d_free_s3dtex(void *d1)
 {
-	struct s3d_tex *tex = d1;
+	struct s3d_tex *tex = (struct s3d_tex *)d1;
 #ifdef SHM	
 	if (tex->buf != NULL) {
 		shmdt(tex->buf);
@@ -74,19 +74,19 @@
 	if (tex_hash == NULL)
 		return;
 #ifdef SHM
-	tex = _s3d_hash_remove(tex_hash, tshm);
+	tex = (struct s3d_tex *)_s3d_hash_remove(tex_hash, tshm);
 	if (tex != NULL)
 		_s3d_free_s3dtex(tex);
 	if (tshm->shmid == -1)
 		return;
 
-	tex = malloc(sizeof(*tex));
+	tex = (struct s3d_tex *)malloc(sizeof(*tex));
 	tex->tshm = *tshm;
-	tex->buf = shmat(tex->tshm.shmid, (void *)0, 0);
-    if ((key_t *)tex->buf == (key_t *)(-1)) {
-          errn("shm_init():shmat()", errno);
-		  free(tex);
-          return;
+	tex->buf = (char*)shmat(tex->tshm.shmid, (void *)0, 0);
+	if ((key_t *)tex->buf == (key_t *)(-1)) {
+		errn("shm_init():shmat()", errno);
+		free(tex);
+		return;
 	}
 	s3dprintf(HIGH, "adding new texture ...");
 	_s3d_hash_add(tex_hash, tex);
@@ -97,14 +97,14 @@
 {
 	struct s3d_texshm check;
 	struct s3d_tex *tex;
-   	int32_t i, p1, p2, m;
-    int16_t mw, mh; 
+	int32_t i, p1, p2, m;
+	int16_t mw, mh;
 
 	if (tex_hash == NULL)
 		return(-1);
 	check.oid = object;
 	check.tex = tid;
-	tex = _s3d_hash_find(tex_hash, (void *)&check);
+	tex = (struct s3d_tex *)_s3d_hash_find(tex_hash, (void *)&check);
 	if (tex == NULL)
 		return(-1); /* coudn't find */
 	s3dprintf(VLOW, "texture: oid %d, tex %d, shmid %d, tw %d, th %d, w %d, h %d ...",

Modified: trunk/libs3dw/button.c
===================================================================
--- trunk/libs3dw/button.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/button.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -87,7 +87,7 @@
 }
 
 /* create a new button in the surface */
-s3dw_button *s3dw_button_new(s3dw_surface *surface, char *text, float posx, float posy)
+s3dw_button *s3dw_button_new(s3dw_surface *surface, const char *text, float posx, float posy)
 {
 	s3dw_button *button;
 	s3dw_widget *widget;

Modified: trunk/libs3dw/input.c
===================================================================
--- trunk/libs3dw/input.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/input.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -173,7 +173,7 @@
 	free(input);
 }
 /* changes the text of the input */
-void s3dw_input_change_text(s3dw_input *input, char *text)
+void s3dw_input_change_text(s3dw_input *input, const char *text)
 {
 	s3dw_widget *widget = (s3dw_widget *)input;
 	uint32_t oid_text;
@@ -198,7 +198,7 @@
 	case S3DK_BACKSPACE:
 		len = strlen(input->text);
 		if ((len = strlen(input->text)) > 0) {
-			newtext = malloc(len + 0); /* +1 for the terminating byte, -1 for the deleted character */
+			newtext = (char *)malloc(len + 0); /* +1 for the terminating byte, -1 for the deleted character */
 			strncpy(newtext, input->text, len);
 			newtext[len-1] = 0;
 			s3dw_input_change_text(input, newtext);
@@ -209,7 +209,7 @@
 	default:
 		if (isprint(key)) {
 			len = strlen(input->text);
-			newtext = malloc(len + 2); /* +1 for the terminating byte, +1 for the new character */
+			newtext = (char *)malloc(len + 2); /* +1 for the terminating byte, +1 for the new character */
 			strcpy(newtext, input->text);
 			newtext[len] = key;
 			newtext[len+1] = 0;

Modified: trunk/libs3dw/label.c
===================================================================
--- trunk/libs3dw/label.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/label.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -50,7 +50,7 @@
 	s3d_flags_off(widget->oid, S3D_OF_VISIBLE | S3D_OF_SELECTABLE);
 }
 /* change label text */
-void s3dw_label_change_text(s3dw_label *label, char *text)
+void s3dw_label_change_text(s3dw_label *label, const char *text)
 {
 	s3dw_widget *widget = (s3dw_widget *)label;
 
@@ -65,7 +65,7 @@
 
 
 /* create a new label in the surface */
-s3dw_label *s3dw_label_new(s3dw_surface *surface, char *text, float posx, float posy)
+s3dw_label *s3dw_label_new(s3dw_surface *surface, const char *text, float posx, float posy)
 {
 	s3dw_label *label;
 	s3dw_widget *widget;

Modified: trunk/libs3dw/root.c
===================================================================
--- trunk/libs3dw/root.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/root.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -53,7 +53,7 @@
 	return(0);
 }
 
-char *s3dw_get_type_string(int type)
+const char *s3dw_get_type_string(int type)
 {
 	switch (type) {
 	case S3DW_TROOT:

Modified: trunk/libs3dw/s3dw.h
===================================================================
--- trunk/libs3dw/s3dw.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/s3dw.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -166,14 +166,14 @@
 	float title_text_mat[12]; /* material for the text on the title bar */
 };
 /* button.c */
-S3DWEXPORT s3dw_button   *s3dw_button_new(s3dw_surface *surface, char *text, float posx, float posy);
-S3DWEXPORT s3dw_label    *s3dw_label_new(s3dw_surface *surface, char *text, float posx, float posy);
+S3DWEXPORT s3dw_button   *s3dw_button_new(s3dw_surface *surface, const char *text, float posx, float posy);
+S3DWEXPORT s3dw_label    *s3dw_label_new(s3dw_surface *surface, const char *text, float posx, float posy);
 S3DWEXPORT s3dw_input    *s3dw_input_new(s3dw_surface *surface, float width, float posx, float posy);
-S3DWEXPORT s3dw_textbox   *s3dw_textbox_new(s3dw_surface *surface, char *text, float posx, float posy, float width, float height);
+S3DWEXPORT s3dw_textbox   *s3dw_textbox_new(s3dw_surface *surface, const char *text, float posx, float posy, float width, float height);
 S3DWEXPORT char     *s3dw_input_gettext(s3dw_input *input);
-S3DWEXPORT void      s3dw_input_change_text(s3dw_input *input, char *text);
-S3DWEXPORT void      s3dw_label_change_text(s3dw_label *label, char *text);
-S3DWEXPORT s3dw_surface   *s3dw_surface_new(char *title, float width, float height);
+S3DWEXPORT void      s3dw_input_change_text(s3dw_input *input, const char *text);
+S3DWEXPORT void      s3dw_label_change_text(s3dw_label *label, const char *text);
+S3DWEXPORT s3dw_surface   *s3dw_surface_new(const char *title, float width, float height);
 
 S3DWEXPORT s3dw_widget   *s3dw_getroot(void);
 S3DWEXPORT void     s3dw_moveit(s3dw_widget *widget);
@@ -186,7 +186,7 @@
 S3DWEXPORT void      s3dw_textbox_scrollleft(s3dw_textbox *textbox);
 S3DWEXPORT void      s3dw_textbox_scrollright(s3dw_textbox *textbox);
 S3DWEXPORT void      s3dw_textbox_scrollto(s3dw_textbox *textbox, int x, int y);
-S3DWEXPORT void      s3dw_textbox_change_text(s3dw_textbox *textbox, char *text);
+S3DWEXPORT void      s3dw_textbox_change_text(s3dw_textbox *textbox, const char *text);
 
 S3DWEXPORT int      s3dw_handle_click(struct s3d_evt *evt);
 S3DWEXPORT int      s3dw_handle_key(struct s3d_evt *evt);

Modified: trunk/libs3dw/s3dw_int.h
===================================================================
--- trunk/libs3dw/s3dw_int.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/s3dw_int.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -39,7 +39,7 @@
 int s3dw_click_nothing(s3dw_widget *widget, uint32_t dummy);
 int s3dw_key_nothing(s3dw_widget *widget, struct s3d_key_event *dummy);
 void s3dw_root_destroy(s3dw_widget *widget);
-char *s3dw_get_type_string(int type);
+const char *s3dw_get_type_string(int type);
 /* widget.c */
 s3dw_widget* s3dw_widget_new(s3dw_widget *widget);
 void s3dw_widget_append(s3dw_widget *parent, s3dw_widget *widget);

Modified: trunk/libs3dw/surface.c
===================================================================
--- trunk/libs3dw/surface.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/surface.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -126,7 +126,7 @@
 	s3d_flags_off(surface->oid_tbar, S3D_OF_VISIBLE | S3D_OF_SELECTABLE);
 }
 /* create a new surface */
-s3dw_surface *s3dw_surface_new(char *title, float width, float height)
+s3dw_surface *s3dw_surface_new(const char *title, float width, float height)
 {
 	s3dw_surface *surface;
 	s3dw_widget  *widget;

Modified: trunk/libs3dw/textbox.c
===================================================================
--- trunk/libs3dw/textbox.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/textbox.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -115,7 +115,7 @@
 	int x, y;
 	float width;
 	textbox->n_lineoids = widget->height - 2;
-	textbox->p_lineoids = malloc(textbox->n_lineoids * sizeof(int));
+	textbox->p_lineoids = (int*)malloc(textbox->n_lineoids * sizeof(int));
 	width = widget->width - 1.5;
 	y = -textbox->window_y;
 	x = textbox->window_x;
@@ -196,7 +196,7 @@
 }
 
 /* create a new textbox in the surface */
-s3dw_textbox *s3dw_textbox_new(s3dw_surface *surface, char *text, float posx, float posy, float width, float height)
+s3dw_textbox *s3dw_textbox_new(s3dw_surface *surface, const char *text, float posx, float posy, float width, float height)
 {
 	s3dw_textbox *textbox;
 	s3dw_widget *widget;
@@ -265,7 +265,7 @@
 	s3dw_textbox_redraw(widget);
 }
 
-void s3dw_textbox_change_text(s3dw_textbox *textbox, char *text)
+void s3dw_textbox_change_text(s3dw_textbox *textbox, const char *text)
 {
 	s3dw_widget *widget = (s3dw_widget *)textbox;
 	/* redraw the text ... */

Modified: trunk/libs3dw/widget.c
===================================================================
--- trunk/libs3dw/widget.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/libs3dw/widget.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -71,7 +71,7 @@
 void s3dw_widget_append(s3dw_widget *parent, s3dw_widget *widget)
 {
 	parent->nobj++;
-	parent->pobj = realloc(parent->pobj, sizeof(s3dw_widget **) * (parent->nobj));
+	parent->pobj = (s3dw_widget**)realloc(parent->pobj, sizeof(s3dw_widget **) * (parent->nobj));
 	parent->pobj[parent->nobj-1] = widget;
 	widget->parent = parent;
 	widget->style = parent->style;

Modified: trunk/server/allocate.c
===================================================================
--- trunk/server/allocate.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/allocate.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -97,7 +97,7 @@
 
 	/*  printf("sizeof(struct chunkHeader) = %u, sizeof (struct chunkTrailer) = %u\n", sizeof (struct chunkHeader), sizeof (struct chunkTrailer)); */
 
-	memory = malloc(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer));
+	memory = (unsigned char*)malloc(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer));
 
 	if (memory == NULL) {
 		fprintf(stderr, "Cannot allocate %u bytes, tag = %d\n", (unsigned int)(length + sizeof(struct chunkHeader) + sizeof(struct chunkTrailer)), tag);
@@ -131,7 +131,7 @@
 	checkIntegrity();
 
 	if (memoryParameter) { /* if memoryParameter==NULL, realloc() should work like malloc() !! */
-		memory = memoryParameter;
+		memory = (unsigned char*)memoryParameter;
 		chunkHeader = (struct chunkHeader *)(memory - sizeof(struct chunkHeader));
 
 		if (chunkHeader->magicNumber != MAGIC_NUMBER) {
@@ -148,7 +148,7 @@
 	}
 
 
-	result = debugMalloc(length, tag);
+	result = (unsigned char*)debugMalloc(length, tag);
 	if (memoryParameter) {
 		copyLength = length;
 
@@ -173,7 +173,7 @@
 
 	checkIntegrity();
 
-	memory = memoryParameter;
+	memory = (unsigned char*)memoryParameter;
 	chunkHeader = (struct chunkHeader *)(memory - sizeof(struct chunkHeader));
 
 	if (chunkHeader->magicNumber != MAGIC_NUMBER) {

Modified: trunk/server/error.c
===================================================================
--- trunk/server/error.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/error.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -32,31 +32,31 @@
 /*  basicly, this is for upcoming logfiles, or maybe draw error-messages into */
 /*  the 3d-space */
 /*  this is the generic failure routine ... */
-void errn(char *func, int en)
+void errn(const char *func, int en)
 {
 	fprintf(stderr, "error: %s: (%d) %s\n", func, en, strerror(en));
 }
 /*  ... and it's fatal pendant */
-void errnf(char *func, int en)
+void errnf(const char *func, int en)
 {
 	fprintf(stderr, "FATAL: %s: (%d) %s\n", func, en, strerror(en));
 	exit(-1);
 }
 
 /*  prints an error with the function and it's error-message */
-void errs(char *func, char *msg)
+void errs(const char *func, const char *msg)
 {
 	fprintf(stderr, "error: %s: %s\n", func, msg);
 }
 
-void errsf(char *func, char *msg)
+void errsf(const char *func, const char *msg)
 {
 	fprintf(stderr, "FATAL: %s: %s\n", func, msg);
 	exit(-1);
 }
 #ifdef DEBUG
 /*  printing error message */
-void errds(int relevance, char *func, const char *fmt, ...)
+void errds(int relevance, const char *func, const char *fmt, ...)
 {
 	char dbm[DBM_MAX];
 	va_list args;

Modified: trunk/server/event.c
===================================================================
--- trunk/server/event.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/event.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -130,7 +130,7 @@
 		shmtex_packet.th = htons(o->p_tex[tex].th);
 		shmtex_packet.w = htons(o->p_tex[tex].w);
 		shmtex_packet.h = htons(o->p_tex[tex].h);
-		prot_com_out(p, S3D_P_S_SHMTEX, (void *)&shmtex_packet, sizeof(shmtex_packet));
+		prot_com_out(p, S3D_P_S_SHMTEX, (uint8_t *)&shmtex_packet, sizeof(shmtex_packet));
 	}
 	return(0);
 }

Modified: trunk/server/global.h
===================================================================
--- trunk/server/global.h	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/global.h	2008-08-15 23:08:15 UTC (rev 942)
@@ -159,7 +159,7 @@
 	float    scale;
 	t_mtrx   m;
 	int    m_uptodate;
-	float r, or;     /*  radius, object radius */
+	float r, o_r;     /*  radius, object radius */
 };
 #ifdef SHM
 struct t_shmcb {
@@ -266,16 +266,16 @@
 void user_key(unsigned short key, unsigned short unicode, unsigned short mod, int state);
 
 /*  error.c */
-void errn(char *func, int en);
-void errnf(char *func, int en);
-void errs(char *func, char *msg);
-void errsf(char *func, char *msg);
+void errn(const char *func, int en);
+void errnf(const char *func, int en);
+void errs(const char *func, const char *msg);
+void errsf(const char *func, const char *msg);
 #ifdef DEBUG
-void errds(int relevance, char *func, const char *fmt, ...);
+void errds(int relevance, const char *func, const char *fmt, ...);
 void s3dprintf(int relevance, const char *msg, ...);
 #else
 static __inline__ void errds(int relevance __attribute__((unused)),
-                             char *func __attribute__((unused)),
+                             const char *func __attribute__((unused)),
                              const char *fmt __attribute__((unused)), ...) {}
 static __inline__ void s3dprintf(int relevance __attribute__((unused)),
                                  const char *msg __attribute__((unused)), ...) {}
@@ -314,7 +314,7 @@
 int process_del(int id);
 int process_init(void);
 int process_quit(void);
-struct t_process *process_protinit(struct t_process *p, char *name);
+struct t_process *process_protinit(struct t_process *p, const char *name);
 struct t_process *get_proc_by_pid(int pid);
 /*  object.c */
 int obj_debug(struct t_process *p, int32_t oid);

Modified: trunk/server/main.c
===================================================================
--- trunk/server/main.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/main.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -38,11 +38,11 @@
 static int kidpid = 0;
 static int norc = 0;
 int running;
-static char *rc = NULL;
-static char *homerc = "~/.s3drc";
-static char *etcrc = "/etc/s3drc";
+static const char *rc = NULL;
+static const char *homerc = "~/.s3drc";
+static const char *etcrc = "/etc/s3drc";
 /*static int father_done=0;*/
-static char **s3drc[] = {&rc, &homerc, &etcrc};
+static const char **s3drc[] = {&rc, &homerc, &etcrc};
 
 static void mainloop(void);
 #ifdef SIGS

Modified: trunk/server/network.c
===================================================================
--- trunk/server/network.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/network.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -100,7 +100,7 @@
 #ifdef G_SDL
 		SDL_SetTimer(50, (SDL_TimerCallback) net_turn_off);
 #endif
-		while (turn && tcp_pollproc());  /*  if there is new data, loop please. this is for testing now, and should be combined with timing later .. */
+		while (turn && tcp_pollproc()) {}  /*  if there is new data, loop please. this is for testing now, and should be combined with timing later .. */
 #ifdef G_SDL
 		SDL_SetTimer(0, NULL);
 #endif

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/object.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -86,7 +86,7 @@
 
 		m = obj->n_vertex;  /*  saving the first number of vertices */
 		px = x;    /*  movable pointer for x, later */
-		if (NULL != (p_vertex = realloc(obj->p_vertex, sizeof(struct t_vertex) * (n + (obj->n_vertex))))) {
+		if (NULL != (p_vertex = (struct t_vertex*)realloc(obj->p_vertex, sizeof(struct t_vertex) * (n + (obj->n_vertex))))) {
 			if (obj->dplist) {
 				s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 				glDeleteLists(obj->dplist, 1);
@@ -152,7 +152,7 @@
 		}
 		m = obj->n_mat;  /*  saving the first number of materials */
 		px = x;    /*  movable pointer for x, later */
-		if (NULL != (p_mat = realloc(obj->p_mat, sizeof(struct t_mat) * (n + (obj->n_mat))))) {
+		if (NULL != (p_mat = (struct t_mat*)realloc(obj->p_mat, sizeof(struct t_mat) * (n + (obj->n_mat))))) {
 			if (obj->dplist) {
 				s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 				glDeleteLists(obj->dplist, 1);
@@ -197,7 +197,7 @@
 
 		m = obj->n_poly;  /*  saving the first number of polys */
 		px = x;    /*  movable pointer for x, later */
-		if (NULL != (p_poly = realloc(obj->p_poly, sizeof(struct t_poly) * (n + (obj->n_poly))))) {
+		if (NULL != (p_poly = (struct t_poly*)realloc(obj->p_poly, sizeof(struct t_poly) * (n + (obj->n_poly))))) {
 			if (obj->dplist) {
 				s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 				glDeleteLists(obj->dplist, 1);
@@ -238,7 +238,7 @@
 
 		m = obj->n_line;  /*  saving the first number of lines */
 		px = x;    /*  movable pointer for x, later */
-		if (NULL != (p_line = realloc(obj->p_line, sizeof(struct t_line) * (n + (obj->n_line))))) {
+		if (NULL != (p_line = (struct t_line*)realloc(obj->p_line, sizeof(struct t_line) * (n + (obj->n_line))))) {
 			if (obj->dplist) {
 				s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 				glDeleteLists(obj->dplist, 1);
@@ -270,7 +270,7 @@
 		errn("texture_shm_register():shmget()", errno);
 		return(-1);
 	}
-	tex->buf = shmat(tex->shmid, (void *)0, 0);
+	tex->buf = (uint8_t*)shmat(tex->shmid, (void *)0, 0);
 	if ((key_t *)tex->buf == (key_t *)(-1)) {
 		errn("shm_init():shmat()", errno);
 		shmctl(tex->shmid, IPC_RMID, NULL);
@@ -323,7 +323,7 @@
 		}
 		m = obj->n_tex;    /*  saving the first number of textures */
 		px = x;    /*  movable pointer for x, later */
-		if (NULL != (p_tex = realloc(obj->p_tex, sizeof(struct t_tex) * (n + (obj->n_tex))))) {
+		if (NULL != (p_tex = (struct t_tex*)realloc(obj->p_tex, sizeof(struct t_tex) * (n + (obj->n_tex))))) {
 			/*   if (obj->dplist)
 			   {
 			    s3dprintf(VLOW,"freeing display list %d to get new data",obj->dplist);
@@ -339,7 +339,7 @@
 				if ((obj->p_tex[m+i].tw <= TEXTURE_MAX_W) && (obj->p_tex[m+i].th <= TEXTURE_MAX_H) &&
 				                (obj->p_tex[m+i].tw > 0) && (obj->p_tex[m+i].th > 0)) {
 					/* find the next power of 2 that can hold the width of the texture */
-					for (hm = 1; hm < obj->p_tex[m+i].tw; hm *= 2);
+					for (hm = 1; hm < obj->p_tex[m+i].tw; hm *= 2) {}
 					s3dprintf(MED, "hm %d, tw %d", hm, obj->p_tex[m+i].tw);
 					obj->p_tex[m+i].w = hm;
 					if (hm == obj->p_tex[m+i].tw)  
@@ -348,7 +348,7 @@
 						obj->p_tex[m+i].xs = (float)((double)obj->p_tex[m+i].tw) / ((double)obj->p_tex[m+i].w);
 
 					/* find the next power of 2 that can hold the height of the texture */
-					for (hm = 1; hm < obj->p_tex[m+i].th; hm *= 2);
+					for (hm = 1; hm < obj->p_tex[m+i].th; hm *= 2) {}
 					s3dprintf(MED, "hm %d, th %d", hm, obj->p_tex[m+i].th);
 
 					obj->p_tex[m+i].h = hm;
@@ -368,7 +368,7 @@
 					if (texture_shm_register(&(obj->p_tex[m+i]), bufsize) == 0) 
 						event_texshm(p, oid, m+i);
 					else
-						obj->p_tex[m+i].buf = malloc(bufsize);
+						obj->p_tex[m+i].buf = (uint8_t*)malloc(bufsize);
 					
 					memset(obj->p_tex[m+i].buf, 0, bufsize);
 
@@ -969,7 +969,7 @@
 			obj->n_vertex = 0;
 			obj->p_vertex = NULL;
 		} else if (n > 0) {
-			if (NULL != (p_vertex = realloc(obj->p_vertex, sizeof(struct t_vertex) * (m - n)))) {
+			if (NULL != (p_vertex = (struct t_vertex*)realloc(obj->p_vertex, sizeof(struct t_vertex) * (m - n)))) {
 				if (obj->dplist) {
 					s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 					glDeleteLists(obj->dplist, 1);
@@ -1005,7 +1005,7 @@
 			obj->n_mat = 0;
 			obj->p_mat = NULL;
 		} else if (n > 0)
-			if (NULL != (p_mat = realloc(obj->p_mat, sizeof(struct t_mat) * (m - n)))) {
+			if (NULL != (p_mat = (struct t_mat*)realloc(obj->p_mat, sizeof(struct t_mat) * (m - n)))) {
 				if (obj->dplist) {
 					s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 					glDeleteLists(obj->dplist, 1);
@@ -1038,7 +1038,7 @@
 			obj->n_poly = 0;
 			obj->p_poly = NULL;
 		} else if (n > 0)
-			if (NULL != (p_poly = realloc(obj->p_poly, sizeof(struct t_poly) * (m - n)))) {
+			if (NULL != (p_poly = (struct t_poly*)realloc(obj->p_poly, sizeof(struct t_poly) * (m - n)))) {
 				if (obj->dplist) {
 					s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 					glDeleteLists(obj->dplist, 1);
@@ -1071,7 +1071,7 @@
 			obj->n_line = 0;
 			obj->p_line = NULL;
 		} else if (n > 0)
-			if (NULL != (p_line = realloc(obj->p_line, sizeof(struct t_line) * (m - n)))) {
+			if (NULL != (p_line = (struct t_line*)realloc(obj->p_line, sizeof(struct t_line) * (m - n)))) {
 				if (obj->dplist) {
 					s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 					glDeleteLists(obj->dplist, 1);
@@ -1109,7 +1109,7 @@
 		} else if (n > 0) {
 			for (i = (m - n);i < m;i++) 
 				texture_delete(&(obj->p_tex[i]));
-			if (NULL != (p_tex = realloc(obj->p_tex, sizeof(struct t_tex) * (m - n)))) {
+			if (NULL != (p_tex = (struct t_tex*)realloc(obj->p_tex, sizeof(struct t_tex) * (m - n)))) {
 				if (obj->dplist) {
 					s3dprintf(VLOW, "freeing display list %d to get new data", obj->dplist);
 					glDeleteLists(obj->dplist, 1);
@@ -1246,7 +1246,7 @@
 	if (p->id == MCP) return; /*  mcp does not need that. */
 	if (OBJ_VALID(p, oid, o)) {
 		if (o->oflags&OF_SYSTEM) {
-			o->r = o->or = 0; /* we don't care about system objects */
+			o->r = o->o_r = 0; /* we don't care about system objects */
 			return;
 		}
 		vp = o->p_vertex;
@@ -1298,7 +1298,7 @@
 	o = p->object[oid];
 	if (o->oflags&OF_SYSTEM)
 		return; /* we don't care, system objects don't count. */
-	r = o->r + o->or;
+	r = o->r + o->o_r;
 	if (r > mcp_o->r) {  /*  this is now the biggest object. */
 		mcp_o->r = r;
 		p->biggest_obj = oid;
@@ -1309,7 +1309,7 @@
 			found = 0;
 			for (i = 0;i < p->n_obj;i++)
 				if (p->object[i] != NULL) {
-					if ((r2 = p->object[i]->r + p->object[i]->or) > r) { /*  this object is bigger than the old biggest one. */
+					if ((r2 = p->object[i]->r + p->object[i]->o_r) > r) { /*  this object is bigger than the old biggest one. */
 						if (!(p->object[i]->oflags&OF_SYSTEM)) {
 							p->biggest_obj = oid;
 							r = r2;
@@ -1411,7 +1411,7 @@
 		mySetMatrix(o->m);
 		myTransform3f(v);
 		/*  and get it's destination point. phew */
-		o->or = sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
+		o->o_r = sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
 	} else
 		if (o->oflags&OF_SYSTEM) /* TODO: what will we do if $sys_object is linked to another? */
 		{ /* a system object changed position? let's update the focus'ed sys-objects */
@@ -1530,7 +1530,7 @@
 	             GL_RGBA, GL_UNSIGNED_BYTE, tex->buf);
 	/* this is fairly hacky, but we only use one buffer and decrease the image left-top to right-bottom,
 	 * so we only read from elements AFTER the updated (written) elements. */
-	buf = malloc((w / 2) * (h / 2) * 4);
+	buf = (unsigned char*)malloc((w / 2) * (h / 2) * 4);
 	src = tex->buf;
 	i = 1;
 	while (w != 1 || h != 1) {
@@ -1874,7 +1874,7 @@
 {
 	struct t_obj *obj;
 	int32_t pos, reuse = 0;
-	obj = malloc(sizeof(struct t_obj));  /*  get an object and define it with our data */
+	obj = (struct t_obj*)malloc(sizeof(struct t_obj));  /*  get an object and define it with our data */
 	memset(obj, 0, sizeof(struct t_obj));
 	obj->linkid = -1;
 	obj->lsub = -1;
@@ -1886,7 +1886,7 @@
 	obj->n_vertex = obj->n_poly = obj->n_mat = obj->n_tex = 0;
 	obj->clone_ooid = 0;
 	obj->virtual_pid = 0;
-	obj->r = obj->or = 0.0F;
+	obj->r = obj->o_r = 0.0F;
 	obj->m_uptodate = 0;
 	memcpy(obj->m, Identity, sizeof(t_mtrx));
 	/*  fresh and clean ... */
@@ -1901,8 +1901,8 @@
 		}
 		if (!reuse) {
 			if (p->n_obj > 0)
-				p->object = realloc(p->object, sizeof(struct t_obj *) * (p->n_obj + 1));
-			else p->object = malloc(sizeof(struct t_obj *) * (p->n_obj + 1));
+				p->object = (struct t_obj**)realloc(p->object, sizeof(struct t_obj *) * (p->n_obj + 1));
+			else p->object = (struct t_obj**)malloc(sizeof(struct t_obj *) * (p->n_obj + 1));
 			pos = p->n_obj;    /*  add object at the end */
 			p->n_obj++;      /*  increment counter */
 		}
@@ -2002,7 +2002,7 @@
 				p->biggest_obj = -1;
 				for (i = 0;i < p->n_obj;i++)
 					if (p->object[i] != NULL) {
-						r = p->object[i]->r + p->object[i]->or;
+						r = p->object[i]->r + p->object[i]->o_r;
 						if (r > mr) {
 							if (!(p->object[i]->oflags&OF_SYSTEM)) {
 								p->biggest_obj = i;
@@ -2069,7 +2069,7 @@
 		i = oid;
 		while ((i != -1) && (p->object[i] == NULL)) i--;
 		p->n_obj = i + 1;
-		p->object = realloc(p->object, sizeof(struct t_obj *) * (p->n_obj));
+		p->object = (struct t_obj**)realloc(p->object, sizeof(struct t_obj *) * (p->n_obj));
 	}
 	return(0);
 }

Modified: trunk/server/process.c
===================================================================
--- trunk/server/process.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/process.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -35,7 +35,7 @@
 int process_sys_init(struct t_process *p);
 
 /* protocol request for process initialization */
-struct t_process *process_protinit(struct t_process *p, char *name) {
+struct t_process *process_protinit(struct t_process *p, const char *name) {
 	int con_type;
 	int32_t mcp_oid;
 	if ((strncmp(name, "sys_", 4) == 0)) { /* we don't like "sys_"-apps, kicking this */
@@ -129,7 +129,7 @@
 struct t_process *process_add(void) {
 	struct t_process *new_p;
 	procs_n++;
-	procs_p = realloc(procs_p, sizeof(struct t_process)*procs_n); /* increase the block */
+	procs_p = (struct t_process *)realloc(procs_p, sizeof(struct t_process)*procs_n); /* increase the block */
 	new_p = &procs_p[procs_n-1];
 
 	new_p->id   = procs_n - 1;
@@ -172,7 +172,7 @@
 		/* this is kind of pointer madness */
 	}
 	procs_n--;
-	procs_p = realloc(procs_p, sizeof(struct t_process) * procs_n); /* decrease the block,
+	procs_p = (struct t_process*)realloc(procs_p, sizeof(struct t_process) * procs_n); /* decrease the block,
   wipe the last one */
 	return(0);
 }

Modified: trunk/server/shm.c
===================================================================
--- trunk/server/shm.c	2008-08-15 13:08:47 UTC (rev 941)
+++ trunk/server/shm.c	2008-08-15 23:08:15 UTC (rev 942)
@@ -80,7 +80,7 @@
 	}
 
 	/* attach to the segment to get a pointer to it: */
-	data = shmat(shmid, (void *)0, 0);
+	data = (key_t *)shmat(shmid, (void *)0, 0);
 	if (data == (key_t *)(-1)) {
 		errnf("shm_init():shmat()", errno);
 		return(1);
@@ -111,7 +111,7 @@
 		errn("shm_open_comblock:shmget()", errno);
 		return(1);
 	}
-	mycb->data_ctos = shmat(mycb->shmid_ctos, (void *)0, 0);
+	mycb->data_ctos = (char*)shmat(mycb->shmid_ctos, (void *)0, 0);
 	if (mycb->data_ctos == (char *)(-1)) {
 		errn("shm_open_comblock:shmat()", errno);
 		return(1);
@@ -121,7 +121,7 @@
 		errn("shm_open_comblock:shmget()", errno);
 		return(1);
 	}
-	mycb->data_stoc = shmat(mycb->shmid_stoc, (void *)0, 0);
+	mycb->data_stoc = (char*)shmat(mycb->shmid_stoc, (void *)0, 0);
 	if (mycb->data_stoc == (char *)(-1)) {
 		errn("shm_open_comblock:shmat()", errno);
 		return(1);



From lazhur at mail.berlios.de  Sun Aug 17 00:03:37 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Sun, 17 Aug 2008 00:03:37 +0200
Subject: [S3d-svn] r947 - trunk/server
Message-ID: <200808162203.m7GM3bST001128@sheep.berlios.de>

Author: lazhur
Date: 2008-08-17 00:03:37 +0200 (Sun, 17 Aug 2008)
New Revision: 947

Modified:
   trunk/server/object.c
Log:
Fix null pointer dereferences

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-16 22:03:30 UTC (rev 946)
+++ trunk/server/object.c	2008-08-16 22:03:37 UTC (rev 947)
@@ -1909,9 +1909,6 @@
 		p->object[pos] = obj;
 		s3dprintf(VLOW, "pid %d added new object %d at %010p [pos %d]", p->id, pos, obj, pos);
 		return (pos);
-	} else {
-		s3dprintf(HIGH, "obj_new(): no such process %d", p->id);
-		return(-1);
 	}
 }
 
@@ -2044,7 +2041,6 @@
 		if (i == o->lsub) {
 			s3dprintf(HIGH, "something is wrong!!");
 			o = NULL; /* segfault */
-			o->lsub = -1;
 		}
 	}
 



From dotslash at mail.berlios.de  Sun Aug 17 00:17:05 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Sun, 17 Aug 2008 00:17:05 +0200
Subject: [S3d-svn] r949 - trunk/experimental/testvis
Message-ID: <200808162217.m7GMH5jw002022@sheep.berlios.de>

Author: dotslash
Date: 2008-08-17 00:17:05 +0200 (Sun, 17 Aug 2008)
New Revision: 949

Modified:
   trunk/experimental/testvis/testvis.c
Log:
strncpy() instead of snprintf(), format strings are not needed here


Modified: trunk/experimental/testvis/testvis.c
===================================================================
--- trunk/experimental/testvis/testvis.c	2008-08-16 22:12:12 UTC (rev 948)
+++ trunk/experimental/testvis/testvis.c	2008-08-16 22:17:05 UTC (rev 949)
@@ -178,7 +178,8 @@
 			tmp_buffer[strlen(tmp_buffer) - 1] = 0;
 			tmp_buffer += 4;
 			t = (struct data *)malloc(sizeof(*t));
-			snprintf(t->line, LINE_SIZE, tmp_buffer);
+			strncpy(t->line, tmp_buffer, LINE_SIZE);
+			t->line[LINE_SIZE - 1] = 0;	/* make sure it's terminated */
 			t->index = ++index;
 			t->active = 1;
 			t->next = head->next;



From lazhur at mail.berlios.de  Mon Aug 18 12:08:47 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 12:08:47 +0200
Subject: [S3d-svn] r950 - in trunk: apps/s3dosm experimental/comptest
	experimental/testvis extras/swig
Message-ID: <200808181008.m7IA8lar025434@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 12:08:46 +0200 (Mon, 18 Aug 2008)
New Revision: 950

Modified:
   trunk/apps/s3dosm/nav.c
   trunk/apps/s3dosm/s3dosm.h
   trunk/experimental/comptest/comptest.h
   trunk/experimental/testvis/testvis.c
   trunk/extras/swig/s3d_test.pl
   trunk/extras/swig/s3d_test.py
Log:
Add missing license headers

Modified: trunk/apps/s3dosm/nav.c
===================================================================
--- trunk/apps/s3dosm/nav.c	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/apps/s3dosm/nav.c	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,3 +1,26 @@
+/*
+ * nav.c
+ *
+ * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ *
+ * This file is part of s3dosm, a gps card application for s3d.
+ * See http://s3d.berlios.de/ for more updates.
+ *
+ * s3dosm is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * s3dosm is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with s3dosm; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
 #include "s3dosm.h"
 #include <s3d.h>
 #include <string.h> /* strcmp() */

Modified: trunk/apps/s3dosm/s3dosm.h
===================================================================
--- trunk/apps/s3dosm/s3dosm.h	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/apps/s3dosm/s3dosm.h	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,3 +1,26 @@
+/*
+ * s3dosm.h
+ *
+ * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ *
+ * This file is part of s3dosm, a gps card application for s3d.
+ * See http://s3d.berlios.de/ for more updates.
+ *
+ * s3dosm is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * s3dosm is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with s3dosm; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
 #include <sqlite3.h>
 #include <s3d.h> /* s3devt structure */
 #include <config-s3d.h>

Modified: trunk/experimental/comptest/comptest.h
===================================================================
--- trunk/experimental/comptest/comptest.h	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/experimental/comptest/comptest.h	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,3 +1,26 @@
+/*
+ * comptest.h
+ *
+ * Copyright (C) 2007 Simon Wunderlich <dotslash at packetmixer.de>
+ *
+ * This file is part of comptest, a proof-of-concept composite manager hack.
+ * See http://s3d.berlios.de/ for more updates.
+ *
+ * comptest is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * comptest is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with comptest; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
 #include <s3d.h>
 #include <X11/Xlib.h>       /* Ximage, Display, X*() */
 #include <X11/Xutil.h>       /* XDestroyImage() */

Modified: trunk/experimental/testvis/testvis.c
===================================================================
--- trunk/experimental/testvis/testvis.c	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/experimental/testvis/testvis.c	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,3 +1,26 @@
+/*
+ * testvis.c
+ *
+ * Copyright (C) 2007 Andreas Langer <andreas_lbg at gmx.de>
+ *
+ * This file is part of testvis, a simple dot drawing application.
+ * See http://s3d.berlios.de/ for more updates.
+ *
+ * testvis is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * testvis is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with testvis; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
 #include <stdio.h>
 #include <sys/types.h>
 #include <sys/socket.h>

Modified: trunk/extras/swig/s3d_test.pl
===================================================================
--- trunk/extras/swig/s3d_test.pl	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/extras/swig/s3d_test.pl	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,3 +1,23 @@
+#!/usr/bin/perl
+
+# Copyright (C) 2007 Simon Wunderlich <dotslash at packetmixer.de>
+#
+# See http://s3d.berlios.de/ for more updates.
+#
+# testvis is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# testvis is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with testvis; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+
 use s3d;
 if (0==s3d::s3dpy_init("hello perl"))
 {

Modified: trunk/extras/swig/s3d_test.py
===================================================================
--- trunk/extras/swig/s3d_test.py	2008-08-16 22:17:05 UTC (rev 949)
+++ trunk/extras/swig/s3d_test.py	2008-08-18 10:08:46 UTC (rev 950)
@@ -1,4 +1,24 @@
 #!/usr/bin/python
+# -*- coding: utf-8; -*-
+
+# Copyright (C) 2007 Simon Wunderlich <dotslash at packetmixer.de>
+#
+# See http://s3d.berlios.de/ for more updates.
+#
+# testvis is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# testvis is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with testvis; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+
 from s3d import *
 from time import sleep
 if 0 == s3dpy_init("hello world"):



From lazhur at mail.berlios.de  Mon Aug 18 23:48:45 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 23:48:45 +0200
Subject: [S3d-svn] r951 - in trunk: libs3d libs3dw
Message-ID: <200808182148.m7ILmjuB008298@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 23:48:44 +0200 (Mon, 18 Aug 2008)
New Revision: 951

Modified:
   trunk/libs3d/event.c
   trunk/libs3d/proto_out.c
   trunk/libs3d/s3d.h
   trunk/libs3d/s3dlib.h
   trunk/libs3d/texture.c
   trunk/libs3d/vector.c
   trunk/libs3dw/button.c
   trunk/libs3dw/event.c
   trunk/libs3dw/input.c
   trunk/libs3dw/label.c
   trunk/libs3dw/s3dw.h
   trunk/libs3dw/textbox.c
Log:
Mark arrays/pointers of api functions as const if elements will not be changed

Modified: trunk/libs3d/event.c
===================================================================
--- trunk/libs3d/event.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/event.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -72,7 +72,7 @@
 	}
 	return(NULL);
 }
-int s3d_delete_event(struct s3d_evt *devt)
+int s3d_delete_event(const struct s3d_evt *devt)
 {
 	struct s3d_evt *previous = NULL;
 	struct s3d_evt *p = s3d_stack;

Modified: trunk/libs3d/proto_out.c
===================================================================
--- trunk/libs3d/proto_out.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/proto_out.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -113,7 +113,7 @@
 }
 /*  like vertex add, but you can add a lot of vertices with this. */
 /*  it's to be used for file readers or fast coders :) */
-int s3d_push_vertices(int object, float *vbuf, uint16_t n)
+int s3d_push_vertices(int object, const float *vbuf, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 4 * 3;
@@ -224,7 +224,7 @@
 	return(0);  /*  nothing yet */
 }
 /*  push a material array (with alpha information!) */
-int s3d_push_materials_a(int object, float *mbuf, uint16_t n)
+int s3d_push_materials_a(int object, const float *mbuf, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 4 * 12;
@@ -287,10 +287,11 @@
 
 /*  this is the polygon array version */
 /*  assumes to have a list of polys which consists of v1,v2,v3,material */
-int s3d_push_polygons(int object, uint32_t *pbuf, uint16_t n)
+int s3d_push_polygons(int object, const uint32_t *pbuf, uint16_t n)
 {
 	uint32_t  buf[(MF_LEN+4)/4];
-	uint32_t  *s, *d;
+	const uint32_t  *s;
+	uint32_t  *d;
 	int     f, i, j, len = n * 4 * 4;
 	int     flen, stepl;
 	if (n < 1)
@@ -311,10 +312,11 @@
 	}
 	return(0);
 }
-int s3d_push_lines(int object, uint32_t *lbuf, uint16_t n)
+int s3d_push_lines(int object, const uint32_t *lbuf, uint16_t n)
 {
 	uint32_t  buf[(MF_LEN+4)/4];
-	uint32_t  *s, *d;
+	const uint32_t  *s;
+	uint32_t  *d;
 	int     f, i, j, len = n * 4 * 3;
 	int     flen, stepl;
 	if (n < 1)
@@ -351,10 +353,11 @@
 	net_send(S3D_P_C_PUSH_TEX, buf, len);
 	return(0);
 }
-int s3d_push_textures(int object, uint16_t *tbuf, uint16_t n)
+int s3d_push_textures(int object, const uint16_t *tbuf, uint16_t n)
 {
 	uint32_t  buf[(MF_LEN+4)/4];
-	uint16_t  *s, *d;
+	const uint16_t  *s;
+	uint16_t *d;
 
 	int     f, i, j, len = n * 2 * 2;
 	int     flen, stepl;
@@ -515,7 +518,7 @@
 	net_send(S3D_P_C_PEP_MAT, buf, len);
 	return(0);  /*  nothing yet */
 }
-int s3d_pep_materials_a(int object, float *mbuf, uint16_t n)
+int s3d_pep_materials_a(int object, const float *mbuf, uint16_t n)
 {
 	char    buf[MF_LEN+4];
 	if ((n*12*sizeof(float) + 4) > MF_LEN) {
@@ -529,7 +532,7 @@
 }
 
 /*  adds normal information to the last n polygons. */
-int s3d_pep_polygon_normals(int object, float *nbuf, uint16_t n)
+int s3d_pep_polygon_normals(int object, const float *nbuf, uint16_t n)
 {
 	uint8_t buf[MF_LEN+4];
 	if ((n*9*sizeof(float) + 4) > MF_LEN) {
@@ -543,7 +546,7 @@
 
 }
 /*  adds normal information to the last n line. */
-int s3d_pep_line_normals(int object, float *nbuf, uint16_t n)
+int s3d_pep_line_normals(int object, const float *nbuf, uint16_t n)
 {
 	uint8_t buf[MF_LEN+4];
 	if ((n*9*sizeof(float) + 4) > MF_LEN) {
@@ -595,7 +598,7 @@
 
 
 /*  replaces the last n lines. */
-int s3d_pep_lines(int object, uint32_t *lbuf, uint16_t n)
+int s3d_pep_lines(int object, const uint32_t *lbuf, uint16_t n)
 {
 	uint32_t  buf[MF_LEN+4];
 	int    i;
@@ -611,7 +614,7 @@
 
 }
 /*  replaces the last n vertices. */
-int s3d_pep_vertices(int object, float *vbuf, uint16_t n)
+int s3d_pep_vertices(int object, const float *vbuf, uint16_t n)
 {
 	uint8_t buf[MF_LEN+4];
 	if ((n*3*sizeof(float) + 4) > MF_LEN) {
@@ -647,7 +650,7 @@
 	return(0);
 }
 /*  adds texture coordinates to the last n polygons. */
-int s3d_pep_polygon_tex_coords(int object, float *tbuf, uint16_t n)
+int s3d_pep_polygon_tex_coords(int object, const float *tbuf, uint16_t n)
 {
 	char buf[MF_LEN+4];
 	if ((n*6*sizeof(float)) > MF_LEN) {
@@ -660,7 +663,7 @@
 	return(0);
 }
 /*  adds normal information to the last n polygons. */
-int s3d_load_polygon_normals(int object, float *nbuf, uint32_t start, uint16_t n)
+int s3d_load_polygon_normals(int object, const float *nbuf, uint32_t start, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 9 * 4;
@@ -688,7 +691,7 @@
 	return(0);
 }
 /*  adds normal information to the last n polygons. */
-int s3d_load_line_normals(int object, float *nbuf, uint32_t start, uint16_t n)
+int s3d_load_line_normals(int object, const float *nbuf, uint32_t start, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 6 * 4;
@@ -716,7 +719,7 @@
 	return(0);
 }
 /*  adds texture coordinates to the last n polygons. */
-int s3d_load_polygon_tex_coords(int object, float *tbuf, uint32_t start, uint16_t n)
+int s3d_load_polygon_tex_coords(int object, const float *tbuf, uint32_t start, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 6 * 4;
@@ -744,7 +747,7 @@
 	return(0);
 }
 /*  load n materials at position start, overwriting old ones */
-int s3d_load_materials_a(int object, float *mbuf, uint32_t start, uint16_t n)
+int s3d_load_materials_a(int object, const float *mbuf, uint32_t start, uint16_t n)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     f, i, len = n * 12 * 4;
@@ -802,7 +805,7 @@
 
 }
 /*  load data (which has width w and height h) into object, texture tex at position (xpos,ypos) */
-int s3d_load_texture(int object, uint32_t tex, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, uint8_t *data)
+int s3d_load_texture(int object, uint32_t tex, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, const uint8_t *data)
 {
 	char    buf[MF_LEN+4], *ptr;
 	int     linestep, lines, i;

Modified: trunk/libs3d/s3d.h
===================================================================
--- trunk/libs3d/s3d.h	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/s3d.h	2008-08-18 21:48:44 UTC (rev 951)
@@ -98,7 +98,7 @@
 
 /* object manipulations */
 S3DEXPORT int s3d_push_vertex(int object, float x, float y, float z);
-S3DEXPORT int s3d_push_vertices(int object, float *vbuf, uint16_t n);
+S3DEXPORT int s3d_push_vertices(int object, const float *vbuf, uint16_t n);
 S3DEXPORT int s3d_push_material(int object,
                       float amb_r, float amb_g, float amb_b,
                       float spec_r, float spec_g, float spec_b,
@@ -111,39 +111,39 @@
                         float amb_r, float amb_g, float amb_b, float amb_a,
                         float spec_r, float spec_g, float spec_b, float spec_a,
                         float diff_r, float diff_g, float diff_b, float diff_a);
-S3DEXPORT int s3d_push_materials_a(int object, float *mbuf, uint16_t n);
+S3DEXPORT int s3d_push_materials_a(int object, const float *mbuf, uint16_t n);
 S3DEXPORT int s3d_pep_material_a(int object,
                        float amb_r, float amb_g, float amb_b, float amb_a,
                        float spec_r, float spec_g, float spec_b, float spec_a,
                        float diff_r, float diff_g, float diff_b, float diff_a);
 
-S3DEXPORT int s3d_pep_materials_a(int object, float *mbuf, uint16_t n);
-S3DEXPORT int s3d_load_materials_a(int object, float *mbuf, uint32_t start, uint16_t n);
+S3DEXPORT int s3d_pep_materials_a(int object, const float *mbuf, uint16_t n);
+S3DEXPORT int s3d_load_materials_a(int object, const float *mbuf, uint32_t start, uint16_t n);
 S3DEXPORT int s3d_push_polygon(int object, uint32_t v1, uint32_t v2, uint32_t v3, uint32_t material);
-S3DEXPORT int s3d_push_polygons(int object, uint32_t *pbuf, uint16_t n);
+S3DEXPORT int s3d_push_polygons(int object, const uint32_t *pbuf, uint16_t n);
 S3DEXPORT int s3d_push_line(int object, uint32_t v1, uint32_t v2, uint32_t material);
-S3DEXPORT int s3d_push_lines(int object, uint32_t *lbuf, uint16_t n);
+S3DEXPORT int s3d_push_lines(int object, const uint32_t *lbuf, uint16_t n);
 S3DEXPORT int s3d_push_texture(int object, uint16_t w, uint16_t h);
-S3DEXPORT int s3d_push_textures(int object, uint16_t *tbuf, uint16_t n);
+S3DEXPORT int s3d_push_textures(int object, const uint16_t *tbuf, uint16_t n);
 S3DEXPORT int s3d_pop_vertex(int object, uint32_t n);
 S3DEXPORT int s3d_pop_polygon(int object, uint32_t n);
 S3DEXPORT int s3d_pop_material(int object, uint32_t n);
 S3DEXPORT int s3d_pop_texture(int object, uint32_t n);
 S3DEXPORT int s3d_pop_polygon(int object, uint32_t n);
 S3DEXPORT int s3d_pop_line(int object, uint32_t n);
-S3DEXPORT int s3d_pep_line_normals(int object, float *nbuf, uint16_t n);
-S3DEXPORT int s3d_pep_polygon_normals(int object, float *nbuf, uint16_t n);
+S3DEXPORT int s3d_pep_line_normals(int object, const float *nbuf, uint16_t n);
+S3DEXPORT int s3d_pep_polygon_normals(int object, const float *nbuf, uint16_t n);
 S3DEXPORT int s3d_pep_polygon_tex_coord(int object, float x1, float y1, float x2, float y2, float x3, float y3);
-S3DEXPORT int s3d_pep_polygon_tex_coords(int object, float *tbuf, uint16_t n);
+S3DEXPORT int s3d_pep_polygon_tex_coords(int object, const float *tbuf, uint16_t n);
 S3DEXPORT int s3d_pep_material_texture(int object, uint32_t tex);
 S3DEXPORT int s3d_pep_vertex(int object, float x, float y, float z);
-S3DEXPORT int s3d_pep_vertices(int object, float *vbuf, uint16_t n);
+S3DEXPORT int s3d_pep_vertices(int object, const float *vbuf, uint16_t n);
 S3DEXPORT int s3d_pep_line(int object, int v1, int v2, int material);
-S3DEXPORT int s3d_pep_lines(int object, uint32_t *lbuf, uint16_t n);
-S3DEXPORT int s3d_load_line_normals(int object, float *nbuf, uint32_t start, uint16_t n);
-S3DEXPORT int s3d_load_polygon_normals(int object, float *nbuf, uint32_t start, uint16_t n) ;
-S3DEXPORT int s3d_load_polygon_tex_coords(int object, float *tbuf, uint32_t start, uint16_t n);
-S3DEXPORT int s3d_load_texture(int object, uint32_t tex, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, uint8_t *data);
+S3DEXPORT int s3d_pep_lines(int object, const uint32_t *lbuf, uint16_t n);
+S3DEXPORT int s3d_load_line_normals(int object, const float *nbuf, uint32_t start, uint16_t n);
+S3DEXPORT int s3d_load_polygon_normals(int object, const float *nbuf, uint32_t start, uint16_t n) ;
+S3DEXPORT int s3d_load_polygon_tex_coords(int object, const float *tbuf, uint32_t start, uint16_t n);
+S3DEXPORT int s3d_load_texture(int object, uint32_t tex, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, const uint8_t *data);
 
 S3DEXPORT int s3d_new_object(void);
 S3DEXPORT int s3d_del_object(int oid);
@@ -169,18 +169,18 @@
 
 /* some vector calculation helpers */
 
-S3DEXPORT float s3d_vector_length(float vector[]);
-S3DEXPORT float s3d_vector_dot_product(float vector1[], float vector2[]);
-S3DEXPORT void s3d_vector_subtract(float vector1[], float vector2[], float result_vector[]);
-S3DEXPORT float s3d_vector_angle(float vector1[], float vector2[]);
-S3DEXPORT float s3d_angle_to_cam(float obj_pos[], float cam_pos[], float *angle_rad);
-S3DEXPORT void s3d_vector_cross_product(float vector1[], float vector2[], float result_vector[]);
+S3DEXPORT float s3d_vector_length(const float vector[]);
+S3DEXPORT float s3d_vector_dot_product(const float vector1[], const float vector2[]);
+S3DEXPORT void s3d_vector_subtract(const float vector1[], const float vector2[], float result_vector[]);
+S3DEXPORT float s3d_vector_angle(const float vector1[], const float vector2[]);
+S3DEXPORT float s3d_angle_to_cam(const float obj_pos[], const float cam_pos[], float *angle_rad);
+S3DEXPORT void s3d_vector_cross_product(const float vector1[], const float vector2[], float result_vector[]);
 
 /* event handlers */
 S3DEXPORT void s3d_push_event(struct s3d_evt *newevt);
 S3DEXPORT struct s3d_evt *s3d_pop_event(void);
 S3DEXPORT struct s3d_evt *s3d_find_event(uint8_t event);
-S3DEXPORT int s3d_delete_event(struct s3d_evt *devt);
+S3DEXPORT int s3d_delete_event(const struct s3d_evt *devt);
 
 S3DEXPORT void s3d_set_callback(uint8_t event, s3d_cb func);
 S3DEXPORT void s3d_clear_callback(uint8_t event);

Modified: trunk/libs3d/s3dlib.h
===================================================================
--- trunk/libs3d/s3dlib.h	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/s3dlib.h	2008-08-18 21:48:44 UTC (rev 951)
@@ -170,5 +170,5 @@
 int _s3d_texture_init(void);
 int _s3d_texture_quit(void);
 void _s3d_handle_texshm(struct s3d_texshm *tshm);
-int _s3d_load_texture_shm(int object, uint32_t tid, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, uint8_t *data);
+int _s3d_load_texture_shm(int object, uint32_t tid, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, const uint8_t *data);
 

Modified: trunk/libs3d/texture.c
===================================================================
--- trunk/libs3d/texture.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/texture.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -93,7 +93,7 @@
 #endif
 	return;
 }
-int _s3d_load_texture_shm(int object, uint32_t tid, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, uint8_t *data)
+int _s3d_load_texture_shm(int object, uint32_t tid, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, const uint8_t *data)
 {
 	struct s3d_texshm check;
 	struct s3d_tex *tex;

Modified: trunk/libs3d/vector.c
===================================================================
--- trunk/libs3d/vector.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3d/vector.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -36,7 +36,7 @@
  *
  ***/
 
-float s3d_vector_length(float vector[])
+float s3d_vector_length(const float vector[])
 {
 
 	return (sqrt(vector[0] * vector[0] + vector[1] * vector[1] + vector[2] * vector[2]));
@@ -54,7 +54,7 @@
  *
  ***/
 
-void s3d_vector_subtract(float vector1[], float vector2[], float result_vector[])
+void s3d_vector_subtract(const float vector1[], const float vector2[], float result_vector[])
 {
 
 	result_vector[0] = vector2[0] - vector1[0];
@@ -74,7 +74,7 @@
  *
  ***/
 
-float s3d_vector_dot_product(float vector1[], float vector2[])
+float s3d_vector_dot_product(const float vector1[], const float vector2[])
 {
 	return (vector1[0] * vector2[0] + vector1[1] * vector2[1] + vector1[2] * vector2[2]);
 }
@@ -90,7 +90,7 @@
  *
  ***/
 
-void s3d_vector_cross_product(float vector1[], float vector2[], float result_vector[])
+void s3d_vector_cross_product(const float vector1[], const float vector2[], float result_vector[])
 {
 	result_vector[0] = vector1[1] * vector2[2] - vector1[2] * vector2[1];
 	result_vector[1] = vector1[2] * vector2[0] - vector1[0] * vector2[2];
@@ -109,7 +109,7 @@
  *
  ***/
 
-float s3d_vector_angle(float vector1[], float vector2[])
+float s3d_vector_angle(const float vector1[], const float vector2[])
 {
 
 	return (acos(s3d_vector_dot_product(vector1, vector2) / (s3d_vector_length(vector1) * s3d_vector_length(vector2))));
@@ -128,7 +128,7 @@
  *
  ***/
 
-float s3d_angle_to_cam(float obj_pos[], float cam_pos[], float *angle_rad)
+float s3d_angle_to_cam(const float obj_pos[], const float cam_pos[], float *angle_rad)
 {
 
 	float angle, tmp_mov_vec[3], desc_norm_vec[3] = { 0.0, 0.0, -1.0 };

Modified: trunk/libs3dw/button.c
===================================================================
--- trunk/libs3dw/button.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/button.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -87,7 +87,7 @@
 }
 
 /* create a new button in the surface */
-s3dw_button *s3dw_button_new(s3dw_surface *surface, const char *text, float posx, float posy)
+s3dw_button *s3dw_button_new(const s3dw_surface *surface, const char *text, float posx, float posy)
 {
 	s3dw_button *button;
 	s3dw_widget *widget;

Modified: trunk/libs3dw/event.c
===================================================================
--- trunk/libs3dw/event.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/event.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -25,12 +25,12 @@
 #include <s3dw.h>
 #include <s3dw_int.h>
 
-int s3dw_handle_click(struct s3d_evt *evt)
+int s3dw_handle_click(const struct s3d_evt *evt)
 {
 	uint32_t oid = *((uint32_t *)evt->buf);
 	return(s3dw_widget_event_click(s3dw_getroot(), oid));
 }
-int s3dw_handle_key(struct s3d_evt *evt)
+int s3dw_handle_key(const struct s3d_evt *evt)
 {
 	struct s3d_key_event *keys = (struct s3d_key_event *)evt->buf;
 	return(s3dw_widget_event_key(s3dw_getroot(), keys));

Modified: trunk/libs3dw/input.c
===================================================================
--- trunk/libs3dw/input.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/input.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -138,7 +138,7 @@
 	s3d_flags_off(input->oid_text, S3D_OF_VISIBLE | S3D_OF_SELECTABLE);
 }
 /* create a new input in the surface */
-s3dw_input *s3dw_input_new(s3dw_surface *surface, float width, float posx, float posy)
+s3dw_input *s3dw_input_new(const s3dw_surface *surface, float width, float posx, float posy)
 {
 	s3dw_input *input;
 	s3dw_widget *widget;

Modified: trunk/libs3dw/label.c
===================================================================
--- trunk/libs3dw/label.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/label.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -65,7 +65,7 @@
 
 
 /* create a new label in the surface */
-s3dw_label *s3dw_label_new(s3dw_surface *surface, const char *text, float posx, float posy)
+s3dw_label *s3dw_label_new(const s3dw_surface *surface, const char *text, float posx, float posy)
 {
 	s3dw_label *label;
 	s3dw_widget *widget;

Modified: trunk/libs3dw/s3dw.h
===================================================================
--- trunk/libs3dw/s3dw.h	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/s3dw.h	2008-08-18 21:48:44 UTC (rev 951)
@@ -171,10 +171,10 @@
 #endif
 
 /* button.c */
-S3DWEXPORT s3dw_button   *s3dw_button_new(s3dw_surface *surface, const char *text, float posx, float posy);
-S3DWEXPORT s3dw_label    *s3dw_label_new(s3dw_surface *surface, const char *text, float posx, float posy);
-S3DWEXPORT s3dw_input    *s3dw_input_new(s3dw_surface *surface, float width, float posx, float posy);
-S3DWEXPORT s3dw_textbox   *s3dw_textbox_new(s3dw_surface *surface, const char *text, float posx, float posy, float width, float height);
+S3DWEXPORT s3dw_button   *s3dw_button_new(const s3dw_surface *surface, const char *text, float posx, float posy);
+S3DWEXPORT s3dw_label    *s3dw_label_new(const s3dw_surface *surface, const char *text, float posx, float posy);
+S3DWEXPORT s3dw_input    *s3dw_input_new(const s3dw_surface *surface, float width, float posx, float posy);
+S3DWEXPORT s3dw_textbox   *s3dw_textbox_new(const s3dw_surface *surface, const char *text, float posx, float posy, float width, float height);
 S3DWEXPORT char     *s3dw_input_gettext(s3dw_input *input);
 S3DWEXPORT void      s3dw_input_change_text(s3dw_input *input, const char *text);
 S3DWEXPORT void      s3dw_label_change_text(s3dw_label *label, const char *text);
@@ -193,8 +193,8 @@
 S3DWEXPORT void      s3dw_textbox_scrollto(s3dw_textbox *textbox, int x, int y);
 S3DWEXPORT void      s3dw_textbox_change_text(s3dw_textbox *textbox, const char *text);
 
-S3DWEXPORT int      s3dw_handle_click(struct s3d_evt *evt);
-S3DWEXPORT int      s3dw_handle_key(struct s3d_evt *evt);
+S3DWEXPORT int      s3dw_handle_click(const struct s3d_evt *evt);
+S3DWEXPORT int      s3dw_handle_key(const struct s3d_evt *evt);
 S3DWEXPORT int      s3dw_object_info(struct s3d_evt *evt);
 
 S3DWEXPORT void      s3dw_ani_mate(void);

Modified: trunk/libs3dw/textbox.c
===================================================================
--- trunk/libs3dw/textbox.c	2008-08-18 10:08:46 UTC (rev 950)
+++ trunk/libs3dw/textbox.c	2008-08-18 21:48:44 UTC (rev 951)
@@ -196,7 +196,7 @@
 }
 
 /* create a new textbox in the surface */
-s3dw_textbox *s3dw_textbox_new(s3dw_surface *surface, const char *text, float posx, float posy, float width, float height)
+s3dw_textbox *s3dw_textbox_new(const s3dw_surface *surface, const char *text, float posx, float posy, float width, float height)
 {
 	s3dw_textbox *textbox;
 	s3dw_widget *widget;



From lazhur at mail.berlios.de  Mon Aug 18 23:48:51 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 23:48:51 +0200
Subject: [S3d-svn] r952 - trunk/server
Message-ID: <200808182148.m7ILmpUG008330@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 23:48:51 +0200 (Mon, 18 Aug 2008)
New Revision: 952

Modified:
   trunk/server/object.c
Log:
Return error code when obj_new fails

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-18 21:48:44 UTC (rev 951)
+++ trunk/server/object.c	2008-08-18 21:48:51 UTC (rev 952)
@@ -1909,6 +1909,8 @@
 		p->object[pos] = obj;
 		s3dprintf(VLOW, "pid %d added new object %d at %010p [pos %d]", p->id, pos, obj, pos);
 		return (pos);
+	} else {
+		return(-1);
 	}
 }
 



From lazhur at mail.berlios.de  Mon Aug 18 23:48:56 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 23:48:56 +0200
Subject: [S3d-svn] r953 - trunk/experimental/testvis
Message-ID: <200808182148.m7ILmujT008365@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 23:48:56 +0200 (Mon, 18 Aug 2008)
New Revision: 953

Modified:
   trunk/experimental/testvis/testvis.c
Log:
testvis: Mark unused parameters

Modified: trunk/experimental/testvis/testvis.c
===================================================================
--- trunk/experimental/testvis/testvis.c	2008-08-18 21:48:51 UTC (rev 952)
+++ trunk/experimental/testvis/testvis.c	2008-08-18 21:48:56 UTC (rev 953)
@@ -32,10 +32,21 @@
 #include <arpa/inet.h>
 #include <unistd.h>
 #include <signal.h>
+#include <config-s3d.h>
 
 #define BUFFER_SIZE 1000
 #define LINE_SIZE 100
 
+#ifndef VISUNUSED
+#if defined(UNUSEDPARAM_ATTRIBUTE)
+#define VISUNUSED(x) (x)__attribute__((unused))
+#elif defined(UNUSEDPARAM_OMIT)
+#define VISUNUSED(x) /* x */
+#else
+#define VISUNUSED(x) x
+#endif
+#endif
+
 struct data {
 	int index;
 	int active;
@@ -108,7 +119,7 @@
 	return;
 }
 
-static void sig(int signr)
+static void sig(int VISUNUSED(signr))
 {
 	return;
 }



From lazhur at mail.berlios.de  Mon Aug 18 23:49:02 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 23:49:02 +0200
Subject: [S3d-svn] r954 - in trunk/Documentation: libs3d libs3dw
Message-ID: <200808182149.m7ILn29o008410@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 23:49:02 +0200 (Mon, 18 Aug 2008)
New Revision: 954

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
   trunk/Documentation/libs3dw/libs3dw.docbook
Log:
Update functions definitions in Documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-18 21:48:56 UTC (rev 953)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-18 21:49:02 UTC (rev 954)
@@ -48,9 +48,9 @@
 <funcprototype>
 <funcdef>int <function>s3d_init</function></funcdef>
 <paramdef>
-int *<parameter>argc</parameter>.
-char ***<parameter>argv</parameter>
-char *<parameter>name</parameter>
+int *<parameter>argc</parameter>,
+char ***<parameter>argv</parameter>,
+const char *<parameter>name</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -153,7 +153,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_push_vertices</function></funcdef>
-<paramdef>int <parameter>object</parameter>, float *<parameter>vbuf</parameter>, unsigned short <parameter>n</parameter></paramdef>
+<paramdef>int <parameter>object</parameter>, const float *<parameter>vbuf</parameter>, uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -185,7 +185,7 @@
 float <parameter>spec_b</parameter>,
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
-float <parameter>diff_b</parameter>,
+float <parameter>diff_b</parameter>
 
 </paramdef>
 </funcprototype>
@@ -240,8 +240,8 @@
 <funcdef>int <function>s3d_push_materials_a</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>mbuf</parameter>, 
-unsigned short <parameter>n</parameter>
+const float *<parameter>mbuf</parameter>, 
+uint16_t <parameter>n</parameter>
 
 </paramdef>
 </funcprototype>
@@ -280,10 +280,10 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_polygon</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-int <parameter>v1</parameter>,
-int <parameter>v2</parameter>,
-int <parameter>v3</parameter>,
-int <parameter>material</parameter>
+uint32_t <parameter>v1</parameter>,
+uint32_t <parameter>v2</parameter>,
+uint32_t <parameter>v3</parameter>,
+uint32_t <parameter>material</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -310,8 +310,8 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_polygons</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned long <parameter>*pbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const uint32_t *<parameter>*pbuf</parameter>,
+unsigned uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -340,9 +340,9 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_line</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-int <parameter>v1</parameter>,
-int <parameter>v2</parameter>,
-int <parameter>material</parameter>
+uint32_t <parameter>v1</parameter>,
+uint32_t <parameter>v2</parameter>,
+uint32_t <parameter>material</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -360,8 +360,8 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_line</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned  long *<parameter>*lbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const uint32_t *<parameter>*lbuf</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -378,9 +378,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_push_texture</function></funcdef>
-<paramdef>int <parameter>object</parameter>, 
-int <parameter>w</parameter>,
-int <parameter>h</parameter>
+<paramdef>int <parameter>object</parameter>,
+uint16_t <parameter>w</parameter>,
+uint16_t <parameter>h</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -397,7 +397,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_vertex</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned short <parameter>n</parameter>
+uint32_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -414,7 +414,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_polygon</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned short <parameter>n</parameter>
+uint32_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -432,7 +432,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_material</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned short <parameter>n</parameter>
+uint32_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -449,7 +449,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_texture</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned short <parameter>n</parameter>
+uint32_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -466,7 +466,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_line</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-unsigned short <parameter>n</parameter>
+uint32_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -483,8 +483,8 @@
 <funcdef>int <function>s3d_pep_polygon_normals</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>nbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const float *<parameter>nbuf</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -533,8 +533,8 @@
 <funcdef>int <function>s3d_pep_polygon_tex_coords</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>tbuf</parameter>, 
-int <parameter>n</parameter>
+const float *<parameter>tbuf</parameter>, 
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -552,7 +552,7 @@
 <funcdef>int <function>s3d_pep_material_texture</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-unsigned long <parameter>tex</parameter>
+uint32_t <parameter>tex</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -590,8 +590,8 @@
 <funcdef>int <function>s3d_pep_vertices</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>vbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const float *<parameter>vbuf</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -629,8 +629,8 @@
 <funcdef>int <function>s3d_pep_lines</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-unsigned long *<parameter>lbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const uint32_t *<parameter>lbuf</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -649,8 +649,8 @@
 <funcdef>int <function>s3d_pep_line_normals</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>nbuf</parameter>,
-unsigned short <parameter>n</parameter>
+const float *<parameter>nbuf</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -672,9 +672,9 @@
 <funcdef>int <function>s3d_load_line_normals</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>nbuf</parameter>,
-int <parameter>start</parameter>,
-unsigned short <parameter>n</parameter>,
+const float *<parameter>nbuf</parameter>,
+uint32_t <parameter>start</parameter>,
+uint16_t <parameter>n</parameter>,
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -701,7 +701,7 @@
 float <parameter>spec_b</parameter>,
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
-float <parameter>diff_b</parameter>,
+float <parameter>diff_b</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -751,8 +751,8 @@
 <funcdef>int <function>s3d_pep_materials_a</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>mbuf</parameter>, 
-unsigned short <parameter>n</parameter>
+const float *<parameter>mbuf</parameter>, 
+uint16_t <parameter>n</parameter>
 
 </paramdef>
 </funcprototype>
@@ -772,9 +772,9 @@
 <funcdef>int <function>s3d_load_materials_a</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>mbuf</parameter>, 
-unsigned longs <parameter>start</parameter>,
-unsigned short <parameter>n</parameter>
+const float *<parameter>mbuf</parameter>,
+uint32_t <parameter>start</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -794,9 +794,9 @@
 <funcdef>int <function>s3d_load_polygon_normals</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>nbuf</parameter>,
-int <parameter>start</parameter>,
-unsigned short <parameter>n</parameter>,
+const float *<parameter>nbuf</parameter>,
+uint32_t <parameter>start</parameter>,
+uint16_t <parameter>n</parameter>,
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -835,12 +835,12 @@
 <funcdef>int <function>s3d_load_texture</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-unsigned long <parameter>tex</parameter>,
-unsigned short <parameter>xpos</parameter>,
-unsigned short <parameter>ypos</parameter>,
-unsigned short <parameter>w</parameter>,
-unsigned short <parameter>h</parameter>,
-unsigned char *<parameter>data</parameter>
+uint32_t <parameter>tex</parameter>,
+uint16_t <parameter>xpos</parameter>,
+uint16_t <parameter>ypos</parameter>,
+uint16_t <parameter>w</parameter>,
+uint16_t <parameter>h</parameter>,
+const uint8_t *<parameter>data</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -890,12 +890,12 @@
 </sect2>
 
 
-<sect2 id="s3d_clone_object">
-<title>s3d_clone_object</title>
+<sect2 id="s3d_clone">
+<title>s3d_clone</title>
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_clone_object</function></funcdef>
+<funcdef>int <function>s3d_clone</function></funcdef>
 <paramdef>
 int <parameter>oid</parameter>
 </paramdef>
@@ -912,11 +912,11 @@
 
 
 <sect2>
-<title>s3d_clone_object_target</title>
+<title>s3d_clone_target</title>
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_clone_object_target</function></funcdef>
+<funcdef>int <function>s3d_clone_target</function></funcdef>
 <paramdef>
 int <parameter>oid</parameter>,
 int <parameter>toid</parameter>
@@ -925,7 +925,7 @@
 </funcsynopsis>
 <para>
 Changes the clone target of oid to another object (toid). This assumes you've got
-oid from <link linkend="s3d_clone_object">s3d_clone_object</link> before.
+oid from <link linkend="s3d_clone">s3d_clone</link> before.
 </para>
 </sect2>
 
@@ -974,7 +974,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_import_model_file</function></funcdef>
 <paramdef>
-		char *<parameter>fname</parameter>
+		const char *<parameter>fname</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -993,7 +993,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_select_font</function></funcdef>
 <paramdef>
-char *<parameter>mask</parameter>
+const char *<parameter>mask</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1014,7 +1014,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_draw_string</function></funcdef>
 <paramdef>
-char *<parameter>str</parameter>,
+const char *<parameter>str</parameter>,
 float *<parameter>len</parameter>
 </paramdef>
 </funcprototype>
@@ -1042,7 +1042,7 @@
 <funcprototype>
 <funcdef>float <function>s3d_strlen</function></funcdef>
 <paramdef>
-char *<parameter>str</parameter>,
+const char *<parameter>str</parameter>,
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1060,7 +1060,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_open_file</function></funcdef>
 <paramdef>
-char *<parameter>fname</parameter>,
+const char *<parameter>fname</parameter>,
 char **<parameter>pointer</parameter>
 </paramdef>
 </funcprototype>
@@ -1082,7 +1082,7 @@
 <funcdef>int <function>s3d_flags_on</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>,
-unsigned long <parameter>flags</parameter>
+uint32_t <parameter>flags</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1101,7 +1101,7 @@
 <funcdef>int <function>s3d_flags_off</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>,
-unsigned long <parameter>flags</parameter>
+uint32_t <parameter>flags</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1229,7 +1229,7 @@
 <funcprototype>
 <funcdef>struct s3d_evt *<function>s3d_find_event</function></funcdef>
 <paramdef>
-unsigned char <parameter>event</parameter>
+uint8_t <parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1246,7 +1246,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_delete_event</function></funcdef>
 <paramdef>
-struct s3d_evt *<parameter>devt</parameter>
+const struct s3d_evt *<parameter>devt</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1263,7 +1263,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_set_callback</function></funcdef>
 <paramdef>
-unsigned char <parameter>event</parameter>
+uint8_t <parameter>event</parameter>
 s3d_cb <parameter>func</parameter>
 </paramdef>
 </funcprototype>
@@ -1293,7 +1293,7 @@
 <funcprototype>
 <funcdef>void <function>s3d_ignore_callback</function></funcdef>
 <paramdef>
-unsigned char <parameter>event</parameter>
+uint8_t <parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1312,7 +1312,7 @@
 <funcprototype>
 <funcdef>void <function>s3d_clear_callback</function></funcdef>
 <paramdef>
-unsigned char <parameter>event</parameter>
+uint8_t <parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1329,7 +1329,7 @@
 <funcprototype>
 <funcdef>s3d_cb <function>s3d_get_callback</function></funcdef>
 <paramdef>
-unsigned char <parameter>event</parameter>
+uint8_t <parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1371,7 +1371,7 @@
 <funcprototype>
 <funcdef>float <function>s3d_vector_length</function></funcdef>
 <paramdef>
-float <parameter>vector</parameter>[]
+const float <parameter>vector</parameter>[]
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1382,20 +1382,20 @@
 </sect2>
 
 <sect2>
-<title>s3d_vector_substract</title>
+<title>s3d_vector_subtract</title>
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>void <function>s3d_vector_substract</function></funcdef>
+<funcdef>void <function>s3d_vector_subtract</function></funcdef>
 <paramdef>
-float <parameter>vector1</parameter>[],
-float <parameter>vector2</parameter>[],
+const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[],
 float <parameter>result_vector</parameter>[]
 </paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
-Substracts vector1 from vector2, writing result into result_vector.
+Subtracts vector1 from vector2, writing result into result_vector.
 All vectors should have the format  float[3].
 More info <ulink url="http://en.wikipedia.org/wiki/Vector_%28spatial%29#Vector_addition_and_subtraction">on wikipedia</ulink>.
 </para>
@@ -1408,8 +1408,8 @@
 <funcprototype>
 <funcdef>float <function>s3d_vector_dot_product</function></funcdef>
 <paramdef>
-float <parameter>vector1</parameter>[],
-float <parameter>vector2</parameter>[]
+const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1427,8 +1427,8 @@
 <funcprototype>
 <funcdef>float <function>s3d_vector_cross_product</function></funcdef>
 <paramdef>
-float <parameter>vector1</parameter>[],
-float <parameter>vector2</parameter>[]
+const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1447,8 +1447,8 @@
 <funcprototype>
 <funcdef>float <function>s3d_vector_angle</function></funcdef>
 <paramdef>
-float <parameter>vector1</parameter>[],
-float <parameter>vector2</parameter>[]
+const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1467,8 +1467,8 @@
 <funcprototype>
 <funcdef>float <function>s3d_angle_to_cam</function></funcdef>
 <paramdef>
-float <parameter>obj_pos</parameter>[],
-float <parameter>cam_pos</parameter>[]
+const float <parameter>obj_pos</parameter>[],
+const float <parameter>cam_pos</parameter>[]
 float *<parameter>angle_rad</parameter>
 </paramdef>
 </funcprototype>

Modified: trunk/Documentation/libs3dw/libs3dw.docbook
===================================================================
--- trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-18 21:48:56 UTC (rev 953)
+++ trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-18 21:49:02 UTC (rev 954)
@@ -35,7 +35,7 @@
 <funcprototype>
 <funcdef>s3dw_surface *<function>s3dw_surface_new</function></funcdef>
 <paramdef>
-char         *<parameter>title</parameter>,
+const char         *<parameter>title</parameter>,
 float		  <parameter>width</parameter>,
 float		  <parameter>height</parameter>
 </paramdef>
@@ -57,8 +57,8 @@
 <funcprototype>
 <funcdef>s3dw_button *<function>s3dw_button_new</function></funcdef>
 <paramdef>
-s3dw_surface *<parameter>surface</parameter>,
-char         *<parameter>text</parameter>,
+const s3dw_surface *<parameter>surface</parameter>,
+const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
 float		  <parameter>posy</parameter>
 </paramdef>
@@ -81,7 +81,7 @@
 <funcprototype>
 <funcdef>s3dw_input *<function>s3dw_input_new</function></funcdef>
 <paramdef>
-s3dw_surface *<parameter>surface</parameter>,
+const s3dw_surface *<parameter>surface</parameter>,
 float		  <parameter>width</parameter>,
 float		  <parameter>posx</parameter>,
 float		  <parameter>posy</parameter>
@@ -106,8 +106,8 @@
 <funcprototype>
 <funcdef>s3dw_label *<function>s3dw_label_new</function></funcdef>
 <paramdef>
-s3dw_surface *<parameter>surface</parameter>,
-char         *<parameter>text</parameter>,
+const s3dw_surface *<parameter>surface</parameter>,
+const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
 float		  <parameter>posy</parameter>
 </paramdef>
@@ -130,8 +130,8 @@
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_new</function></funcdef>
 <paramdef>
-s3dw_surface *<parameter>surface</parameter>,
-char         *<parameter>text</parameter>,
+const s3dw_surface *<parameter>surface</parameter>,
+const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
 float		  <parameter>posy</parameter>,
 float		  <parameter>width</parameter>,
@@ -287,7 +287,7 @@
 <funcdef>void <function>s3dw_input_change_text</function></funcdef>
 <paramdef>
 		s3dw_input *<parameter>input</parameter>,
-		char *<parameter>text</parameter>
+const 		char *<parameter>text</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -304,7 +304,7 @@
 <funcdef>void <function>s3dw_label_change_text</function></funcdef>
 <paramdef>
 		s3dw_label *<parameter>label</parameter>,
-		char *<parameter>text</parameter>
+const 		char *<parameter>text</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -321,7 +321,7 @@
 <funcdef>void <function>s3dw_textbox_change_text</function></funcdef>
 <paramdef>
 		s3dw_textbox *<parameter>textbox</parameter>,
-		char *<parameter>text</parameter>
+const 		char *<parameter>text</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -406,7 +406,7 @@
 <funcprototype>
 <funcdef>void <function>s3dw_handle_click</function></funcdef>
 <paramdef>
-		struct s3d_evt *<parameter>event</parameter>
+const		struct s3d_evt *<parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -440,7 +440,7 @@
 <funcprototype>
 <funcdef>void <function>s3dw_handle_key</function></funcdef>
 <paramdef>
-		struct s3d_evt *<parameter>event</parameter>
+const		struct s3d_evt *<parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -473,7 +473,7 @@
 <funcprototype>
 <funcdef>void <function>s3dw_object_info</function></funcdef>
 <paramdef>
-		struct s3d_evt *<parameter>event</parameter>
+const		struct s3d_evt *<parameter>event</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>



From lazhur at mail.berlios.de  Mon Aug 18 23:49:09 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 18 Aug 2008 23:49:09 +0200
Subject: [S3d-svn] r955 - in trunk/Documentation: libs3d libs3dw
Message-ID: <200808182149.m7ILn9uZ008447@sheep.berlios.de>

Author: lazhur
Date: 2008-08-18 23:49:08 +0200 (Mon, 18 Aug 2008)
New Revision: 955

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
   trunk/Documentation/libs3dw/libs3dw.docbook
Log:
Update data definitions in Documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-18 21:49:02 UTC (rev 954)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-18 21:49:08 UTC (rev 955)
@@ -1524,15 +1524,14 @@
 <sect2 id="s3d_obj_info">
 <title>struct s3d_but_info</title>
 <programlisting>
-struct s3d_obj_info 
-{
-	unsigned long object;
-	unsigned long flags;
-	float trans_x,trans_y,trans_z;
-	float rot_x,rot_y,rot_z;
+struct s3d_obj_info {
+	uint32_t object;
+	uint32_t flags;
+	float trans_x, trans_y, trans_z;
+	float rot_x, rot_y, rot_z;
 	float scale;
 	float r;
-	char name[256]; 
+	char name[256];
 };
 </programlisting>
 <para>
@@ -1551,10 +1550,10 @@
 <sect2 id="s3d_but_info">
 <title>struct s3d_but_info</title>
 <programlisting>
-struct s3d_but_info     
-{                       
-    unsigned char button, state;
-};                      
+struct s3d_but_info {
+	uint8_t button;
+	uint8_t state;
+};
 </programlisting>
 <para>
 Can be used on the buffer of an <link linkend="s3d_evt">event</link> of type <link linkend="S3D_EVENT_MBUTTON">S3D_EVENT_MBUTTON</link>.
@@ -1565,12 +1564,11 @@
 <sect2 id="mcp_object">
 <title>struct mcp_object</title>
 <programlisting>
-struct mcp_object 
-{
-	unsigned long object;
-	float trans_x,trans_y,trans_z;
+struct mcp_object {
+	uint32_t object;
+	float trans_x, trans_y, trans_z;
 	float r;
-	char name[256]; 
+	char name[256];
 };
 
 </programlisting>
@@ -1583,7 +1581,7 @@
 <title>struct s3d_evt</title>
 <programlisting>
 struct s3d_evt {
-	unsigned char event;
+	uint8_t event;
 	int length;
 	char *buf;
 	struct s3d_evt *next;

Modified: trunk/Documentation/libs3dw/libs3dw.docbook
===================================================================
--- trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-18 21:49:02 UTC (rev 954)
+++ trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-18 21:49:08 UTC (rev 955)
@@ -522,37 +522,40 @@
 <sect2 id="s3dw_widget">
 <title>s3dw_widget</title>
 <programlisting>
-struct _s3dw_widget {   
-		/* private .. */
-		int          type;
-		<emphasis>s3dw_widget</emphasis> *parent;        
-		<link linkend="s3dw_style">s3dw_style</link>  *style;
-		int                   nobj; /* number of children objects */
-		<emphasis>s3dw_widget</emphasis>         **pobj; /* pointer to list of children objects */
-		int          focus;         /* index of the widget focused in pobj */
-		int          flags;         /* flags like visibility */
-		float        ax,ay,az;      /* current position for animation */
-		float        as;            /* current scale factor */
-		float        arx,ary,arz;   /* current rotation */
-		float        width,height;  /* width and height of the widget, outer size */
-		unsigned long oid;          /* the main object which is used for transformations etc ...*/
-		/* public */
-		void  *ptr;   				/* a pointer to a user structure, to use in callbacks etc */
-		float        x,y,z;         /* position, relative to the surface usually */
-		float        s;             /* scale factor */
-		float        rx,ry,rz;      /* rotation around the axis */
+struct _s3dw_widget {
+	/* private .. */
+	int         type;
+	s3dw_widget *parent;
+	s3dw_style  *style;
+	int         nobj;          /* number of children objects */
+	s3dw_widget **pobj;        /* pointer to list of children objects */
+	int         focus;         /* index of the widget focused in pobj */
+	int         flags;         /* flags like visibility */
+	float       ax, ay, az;    /* current position for animation */
+	float       as;            /* current scale factor */
+	float       arx, ary, arz; /* current rotation */
+	float       width, height; /* width and height of the widget, outer size */
+	uint32_t    oid;           /* the main object which is used for transformations etc ...*/
+	/* public */
+	void        *ptr;          /* a pointer to a user structure, to use in callbacks etc */
+	float       x, y, z;       /* position, relative to the surface usually */
+	float       s;             /* scale factor */
+	float       rx, ry, rz;    /* rotation around the axis */
 };
 typedef struct _s3dw_widget     s3dw_widget;
 
 /* type may be one of the following ... */		
 
 enum {
-    S3DW_TROOT,
-    S3DW_TSURFACE,
-    S3DW_TBUTTON,
-    S3DW_TLABEL,
-    S3DW_TINPUT,
-    S3DW_NTYPES
+	S3DW_TROOT,
+	S3DW_TCAM,
+	S3DW_TSURFACE,
+	S3DW_TBUTTON,
+	S3DW_TLABEL,
+	S3DW_TINPUT,
+	S3DW_TTEXTBOX,
+	S3DW_TSCROLLBAR,
+	S3DW_NTYPES
 };
 <anchor id="S3DWIDGET"/>
 #define     S3DWIDGET(x)    ((s3dw_widget *)x)
@@ -578,7 +581,7 @@
     /* private */
 	<link linkend="s3dw_widget">s3dw_widget</link>      widget;
 	char            *text;
-	unsigned long    oid_text;
+	uint32_t    oid_text;
 	/* public */
 	<link linkend="s3dw_callback">s3dw_callback</link>    onclick;
 };
@@ -597,7 +600,7 @@
     /* private */
 	<link linkend="s3dw_widget">s3dw_widget</link>      widget;
 	char            *text;
-	unsigned long    oid_text;
+	uint32_t    oid_text;
 	/* public */
 	<link linkend="s3dw_callback">s3dw_callback</link>    onclick;
 	<link linkend="s3dw_callback">s3dw_callback</link>    onedit;
@@ -678,9 +681,9 @@
 struct _s3dw_surface {
     /* private */
 	<link linkend="s3dw_widget">s3dw_widget</link>      widget;
-	unsigned long         oid_title;
-	unsigned long         oid_tbar;
-	char            *text;
+	uint32_t         oid_title;
+	uint32_t         oid_tbar;
+	char            *title;
 };
 </programlisting>
 <para>



From lazhur at mail.berlios.de  Tue Aug 19 11:56:36 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Tue, 19 Aug 2008 11:56:36 +0200
Subject: [S3d-svn] r956 - trunk/Documentation/libs3d
Message-ID: <200808190956.m7J9ua3I017917@sheep.berlios.de>

Author: lazhur
Date: 2008-08-19 11:56:35 +0200 (Tue, 19 Aug 2008)
New Revision: 956

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
Log:
Rename s3d_load_tex_coords to s3d_load_polygon_tex_coords in Documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-18 21:49:08 UTC (rev 955)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 09:56:35 UTC (rev 956)
@@ -807,17 +807,17 @@
 </sect2>
 
 
-<sect2 id="s3d_load_tex_coords">
-<title>s3d_load_tex_coords</title>
+<sect2 id="s3d_load_polygon_tex_coords">
+<title>s3d_load_polygon_tex_coords</title>
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_load_tex_coords</function></funcdef>
+<funcdef>int <function>s3d_load_polygon_tex_coords</function></funcdef>
 <paramdef>
 int <parameter>object</parameter>, 
-float *<parameter>tbuf</parameter>, 
-int <parameter>start</parameter>,
-int <parameter>n</parameter>
+const float *<parameter>tbuf</parameter>, 
+uint32_t <parameter>start</parameter>,
+uint16_t <parameter>n</parameter>
 </paramdef>
 </funcprototype>
 </funcsynopsis>



From lazhur at mail.berlios.de  Tue Aug 19 14:13:23 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Tue, 19 Aug 2008 14:13:23 +0200
Subject: [S3d-svn] r957 - trunk/Documentation/server
Message-ID: <200808191213.m7JCDNpE021767@sheep.berlios.de>

Author: lazhur
Date: 2008-08-19 14:13:22 +0200 (Tue, 19 Aug 2008)
New Revision: 957

Modified:
   trunk/Documentation/server/server.docbook
Log:
Fix documentation about keys of dot_mcp

Modified: trunk/Documentation/server/server.docbook
===================================================================
--- trunk/Documentation/server/server.docbook	2008-08-19 09:56:35 UTC (rev 956)
+++ trunk/Documentation/server/server.docbook	2008-08-19 12:13:22 UTC (rev 957)
@@ -38,7 +38,7 @@
 left mouse button is for clicking :)
 </para></listitem>
 <listitem><para>
-presse f1 to get in ego-shooter mode :D you can use w,a,s,d for movement now. f1 again to deactivate.
+presse f2 to get in ego-shooter mode :D you can use w,a,s,d for movement now. f2 again to deactivate.
 this only works with dot_mcp, the others above work out-of-the box within the server.
 </para></listitem>
 </itemizedlist>



From lazhur at mail.berlios.de  Tue Aug 19 14:13:29 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Tue, 19 Aug 2008 14:13:29 +0200
Subject: [S3d-svn] r958 - trunk/Documentation/libs3d
Message-ID: <200808191213.m7JCDTcT021791@sheep.berlios.de>

Author: lazhur
Date: 2008-08-19 14:13:29 +0200 (Tue, 19 Aug 2008)
New Revision: 958

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
Log:
Remove autohell stuff from documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 12:13:22 UTC (rev 957)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 12:13:29 UTC (rev 958)
@@ -8,7 +8,7 @@
  <para>
  Install the lib using the usual usual mechanism:
  <programlisting>
- ./configure
+ cmake .
  make
  make install
  </programlisting>



From lazhur at mail.berlios.de  Tue Aug 19 14:13:35 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Tue, 19 Aug 2008 14:13:35 +0200
Subject: [S3d-svn] r959 - in trunk/Documentation: libs3d libs3dw
Message-ID: <200808191213.m7JCDZpO021827@sheep.berlios.de>

Author: lazhur
Date: 2008-08-19 14:13:34 +0200 (Tue, 19 Aug 2008)
New Revision: 959

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
   trunk/Documentation/libs3dw/libs3dw.docbook
Log:
Fix smaller errors and styling problems in documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 12:13:29 UTC (rev 958)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 12:13:34 UTC (rev 959)
@@ -47,11 +47,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_init</function></funcdef>
-<paramdef>
-int *<parameter>argc</parameter>,
+<paramdef>int *<parameter>argc</parameter>,
 char ***<parameter>argv</parameter>,
-const char *<parameter>name</parameter>
-</paramdef>
+const char *<parameter>name</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -61,7 +59,7 @@
 <programlisting>
 int main(char argc, char **argv)
 {
-	if (!<emphasis>s3d_init(<![CDATA[&argc,&argv]]>,"Hello world")</emphasis>) 
+	if (!<emphasis>s3d_init(<![CDATA[&argc, &argv]]>, "Hello world")</emphasis>) 
 	{
 		...
 		<link linkend="s3d_quit">s3d_quit()</link>;
@@ -79,7 +77,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_quit</function></funcdef>
-<paramdef>void </paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -94,7 +92,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3d_usage</function></funcdef>
-<paramdef>void </paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -163,7 +161,7 @@
 </para>
 <programlisting>
 float vertices[] = { 0.0, 0.0, 0.0,
-                     1.0, 2.0, 3,0,
+                     1.0, 2.0, 3.0,
                      3.0, 2.0, 1.0};
 <emphasis>s3d_push_vertices</emphasis>(object, vertices, 3); /* pushing 3 vertices */
 </programlisting>
@@ -185,9 +183,7 @@
 float <parameter>spec_b</parameter>,
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
-float <parameter>diff_b</parameter>
-
-</paramdef>
+float <parameter>diff_b</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -220,9 +216,7 @@
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
 float <parameter>diff_b</parameter>,
-float <parameter>diff_a</parameter>
-
-</paramdef>
+float <parameter>diff_a</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -238,12 +232,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_push_materials_a</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>mbuf</parameter>, 
-uint16_t <parameter>n</parameter>
-
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -260,14 +251,14 @@
 <programlisting>
 /* each line has r,g,b,a value */
 float bla[24]=
-	{1,0,0,1,
-	 1,0,0,1,
-	 1,0,0,1,
-	 0,1,1,1,
-	 0,1,1,1,
-	 0,1,1,1};
+	{1, 0, 0, 1,
+	 1, 0, 0, 1,
+	 1, 0, 0, 1,
+	 0, 1, 1, 1,
+	 0, 1, 1, 1,
+	 0, 1, 1, 1};
 
-s3d_push_materials_a(object,mbuf,2); /* push a red and a cyan material */
+s3d_push_materials_a(object, mbuf, 2); /* push a red and a cyan material */
 </programlisting>
 </sect2>
 
@@ -283,8 +274,7 @@
 uint32_t <parameter>v1</parameter>,
 uint32_t <parameter>v2</parameter>,
 uint32_t <parameter>v3</parameter>,
-uint32_t <parameter>material</parameter>
-</paramdef>
+uint32_t <parameter>material</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -293,11 +283,11 @@
 </para>
 <programlisting>
 int oid=<link linkend="s3d_new_object">s3d_new_object</link>();   /* create a new object */
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,0.0,0.0,0.0);
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,0.0,1.0,0.0);
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,1.0,0.0,0.0);
-<link linkend="s3d_push_material">s3d_push_material</link>(oid,0.3,0.0,0.0, 1.0,1.0,1.0, 1.0,0.0,0.0);
-<emphasis>s3d_push_polygon</emphasis>(oid,0,1,2,0);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 0.0, 0.0, 0.0);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 0.0, 1.0, 0.0);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 1.0, 0.0, 0.0);
+<link linkend="s3d_push_material">s3d_push_material</link>(oid, 0.3, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0);
+<emphasis>s3d_push_polygon</emphasis>(oid, 0, 1, 2, 0);
 /* this will create a red polygon */
 </programlisting>
 </sect2>
@@ -311,23 +301,22 @@
 <funcdef>int <function>s3d_push_polygons</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
 const uint32_t *<parameter>*pbuf</parameter>,
-unsigned uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
 as for vertices, you can push arrays of polygons to have greater performance.
-the pbuf should contain n polygons which consist of 4 unsigned long values
+the pbuf should contain n polygons which consist of 4 uint32_t values
 of 3 vertices indeces and 1 material index.
 </para>
 <programlisting>
-unsigned long pbuf[] = { 0,1,2,0};
+uint32_t pbuf[] = { 0, 1, 2, 0};
 int oid=<link linkend="s3d_new_object">s3d_new_object</link>();   /* create a new object */
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,0.0,0.0,0.0);
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,0.0,1.0,0.0);
-<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid,1.0,0.0,0.0);
-<link linkend="s3d_push_material">s3d_push_material</link>(oid,0.3,0.0,0.0, 1.0,1.0,1.0, 1.0,0.0,0.0);
-<emphasis>s3d_push_polygons</emphasis>(oid,pbuf,1);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 0.0, 0.0, 0.0);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 0.0, 1.0, 0.0);
+<link linkend="s3d_push_vertex">s3d_push_vertex</link>(oid, 1.0, 0.0, 0.0);
+<link linkend="s3d_push_material">s3d_push_material</link>(oid, 0.3, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0);
+<emphasis>s3d_push_polygons</emphasis>(oid, pbuf, 1);
 /* push one polygon with the pbuf data */
 </programlisting>
 </sect2>
@@ -342,8 +331,7 @@
 <paramdef>int <parameter>object</parameter>, 
 uint32_t <parameter>v1</parameter>,
 uint32_t <parameter>v2</parameter>,
-uint32_t <parameter>material</parameter>
-</paramdef>
+uint32_t <parameter>material</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -358,11 +346,10 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_push_line</function></funcdef>
+<funcdef>int <function>s3d_push_lines</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-const uint32_t *<parameter>*lbuf</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+const uint32_t *<parameter>lbuf</parameter>,
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -380,8 +367,7 @@
 <funcdef>int <function>s3d_push_texture</function></funcdef>
 <paramdef>int <parameter>object</parameter>,
 uint16_t <parameter>w</parameter>,
-uint16_t <parameter>h</parameter>
-</paramdef>
+uint16_t <parameter>h</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -397,8 +383,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_vertex</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-uint32_t <parameter>n</parameter>
-</paramdef>
+uint32_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -414,8 +399,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_polygon</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-uint32_t <parameter>n</parameter>
-</paramdef>
+uint32_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -432,8 +416,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_material</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-uint32_t <parameter>n</parameter>
-</paramdef>
+uint32_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -449,8 +432,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_texture</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-uint32_t <parameter>n</parameter>
-</paramdef>
+uint32_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -466,8 +448,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_pop_line</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-uint32_t <parameter>n</parameter>
-</paramdef>
+uint32_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -481,11 +462,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_polygon_normals</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>nbuf</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -506,15 +485,13 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_polygon_tex_coord</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 float <parameter>x1</parameter>, 
 float <parameter>y1</parameter>, 
 float <parameter>x2</parameter>, 
 float <parameter>y2</parameter>, 
 float <parameter>x3</parameter>, 
-float <parameter>y3</parameter>
-</paramdef>
+float <parameter>y3</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -531,11 +508,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_polygon_tex_coords</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>tbuf</parameter>, 
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -550,10 +525,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_material_texture</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
-uint32_t <parameter>tex</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter>, 
+uint32_t <parameter>tex</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -569,12 +542,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_vertex</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 float <parameter>x</parameter>,
 float <parameter>y</parameter>,
-float <parameter>z</parameter>
-</paramdef>
+float <parameter>z</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -588,11 +559,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_vertices</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>vbuf</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -608,12 +577,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_line</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
-unsigned long <parameter>v1</parameter>,
-unsigned long <parameter>v2</parameter>,
-unsigned long <parameter>material</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter>, 
+int <parameter>v1</parameter>,
+int <parameter>v2</parameter>,
+int <parameter>material</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -627,16 +594,14 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_lines</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const uint32_t *<parameter>lbuf</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
 Alter the latest n pushed lines. lbuf holds the values which
-are used to overwrite the old data, n entries with each 3 unsigned longs
+are used to overwrite the old data, n entries with each 3 uint32_t
 specifying first, second vertex and material of each line.
 </para>
 </sect2>
@@ -647,11 +612,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_line_normals</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>nbuf</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -670,12 +633,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_load_line_normals</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>nbuf</parameter>,
 uint32_t <parameter>start</parameter>,
-uint16_t <parameter>n</parameter>,
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -691,8 +652,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_material</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 float <parameter>amb_r</parameter>,
 float <parameter>amb_g</parameter>,
 float <parameter>amb_b</parameter>,
@@ -701,8 +661,7 @@
 float <parameter>spec_b</parameter>,
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
-float <parameter>diff_b</parameter>
-</paramdef>
+float <parameter>diff_b</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -719,8 +678,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_material_a</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 float <parameter>amb_r</parameter>,
 float <parameter>amb_g</parameter>,
 float <parameter>amb_b</parameter>,
@@ -732,8 +690,7 @@
 float <parameter>diff_r</parameter>,
 float <parameter>diff_g</parameter>,
 float <parameter>diff_b</parameter>,
-float <parameter>diff_a</parameter>
-</paramdef>
+float <parameter>diff_a</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -749,12 +706,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_pep_materials_a</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>mbuf</parameter>, 
-uint16_t <parameter>n</parameter>
-
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -770,12 +724,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_load_materials_a</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>mbuf</parameter>,
 uint32_t <parameter>start</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -792,12 +744,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_load_polygon_normals</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>nbuf</parameter>,
 uint32_t <parameter>start</parameter>,
-uint16_t <parameter>n</parameter>,
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -813,12 +763,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_load_polygon_tex_coords</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 const float *<parameter>tbuf</parameter>, 
 uint32_t <parameter>start</parameter>,
-uint16_t <parameter>n</parameter>
-</paramdef>
+uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -833,15 +781,13 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_load_texture</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>, 
+<paramdef>int <parameter>object</parameter>, 
 uint32_t <parameter>tex</parameter>,
 uint16_t <parameter>xpos</parameter>,
 uint16_t <parameter>ypos</parameter>,
 uint16_t <parameter>w</parameter>,
 uint16_t <parameter>h</parameter>,
-const uint8_t *<parameter>data</parameter>
-</paramdef>
+const uint8_t *<parameter>data</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -861,9 +807,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_new_object</function></funcdef>
-<paramdef>
-void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -879,9 +823,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_del_object</function></funcdef>
-<paramdef>
-int <parameter>oid</parameter>
-</paramdef>
+<paramdef>int <parameter>oid</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -896,9 +838,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_clone</function></funcdef>
-<paramdef>
-int <parameter>oid</parameter>
-</paramdef>
+<paramdef>int <parameter>oid</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -917,10 +857,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_clone_target</function></funcdef>
-<paramdef>
-int <parameter>oid</parameter>,
-int <parameter>toid</parameter>
-</paramdef>
+<paramdef>int <parameter>oid</parameter>,
+int <parameter>toid</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -936,10 +874,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_link</function></funcdef>
-<paramdef>
-int <parameter>oid_from</parameter>,
-int <parameter>oid_to</parameter>
-</paramdef>
+<paramdef>int <parameter>oid_from</parameter>,
+int <parameter>oid_to</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -957,9 +893,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_unlink</function></funcdef>
-<paramdef>
-int <parameter>oid</parameter>
-</paramdef>
+<paramdef>int <parameter>oid</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -973,9 +907,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_import_model_file</function></funcdef>
-<paramdef>
-		const char *<parameter>fname</parameter>
-</paramdef>
+<paramdef>const char *<parameter>fname</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -992,9 +924,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_select_font</function></funcdef>
-<paramdef>
-const char *<parameter>mask</parameter>
-</paramdef>
+<paramdef>const char *<parameter>mask</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1013,10 +943,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_draw_string</function></funcdef>
-<paramdef>
-const char *<parameter>str</parameter>,
-float *<parameter>len</parameter>
-</paramdef>
+<paramdef>const char *<parameter>str</parameter>,
+float *<parameter>len</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1028,10 +956,10 @@
 	char str="hello world!";
 	float len;
 	<link linkend="s3d_select_font">s3d_select_font</link>("vera");
-	<emphasis>s3d_draw_string</emphasis>(str,len);
+	<emphasis>s3d_draw_string</emphasis>(str, len);
 
 	/* not interested in the length? do that:
-	 * <emphasis>s3d_draw_string</emphasis>(str,NULL); */
+	 * <emphasis>s3d_draw_string</emphasis>(str, NULL); */
 </programlisting>
 </sect2>
 
@@ -1041,9 +969,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_strlen</function></funcdef>
-<paramdef>
-const char *<parameter>str</parameter>,
-</paramdef>
+<paramdef>const char *<parameter>str</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1059,10 +985,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_open_file</function></funcdef>
-<paramdef>
-const char *<parameter>fname</parameter>,
-char **<parameter>pointer</parameter>
-</paramdef>
+<paramdef>const char *<parameter>fname</parameter>,
+char **<parameter>pointer</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1080,10 +1004,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_flags_on</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>,
-uint32_t <parameter>flags</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter>,
+uint32_t <parameter>flags</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1099,10 +1021,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_flags_off</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>,
-uint32_t <parameter>flags</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter>,
+uint32_t <parameter>flags</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1117,12 +1037,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_translate</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>,
+<paramdef>int <parameter>object</parameter>,
 float <parameter>x</parameter>,
 float <parameter>y</parameter>,
-float <parameter>z</parameter>
-</paramdef>
+float <parameter>z</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1131,8 +1049,8 @@
 </para>
 <important><para>Translation is absolute, not relative!</para></important>
 <programlisting>
-<emphasis>s3d_translate</emphasis>(object,2,0,0);
-<emphasis>s3d_translate</emphasis>(object,4,0,0);
+<emphasis>s3d_translate</emphasis>(object, 2, 0, 0);
+<emphasis>s3d_translate</emphasis>(object, 4, 0, 0);
 /* object will end up at 4,0,0 and not 6,0,0!! */
 </programlisting>
 </sect2>
@@ -1144,12 +1062,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_rotate</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>,
+<paramdef>int <parameter>object</parameter>,
 float <parameter>x</parameter>,
 float <parameter>y</parameter>,
-float <parameter>z</parameter>
-</paramdef>
+float <parameter>z</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1165,8 +1081,8 @@
 </para>
 <important><para>Rotate is absolute, not relative!</para></important>
 <programlisting>
-<emphasis>s3d_rotate</emphasis>(object,90,0,0);
-<emphasis>s3d_rotate</emphasis>(object,180,0,0);
+<emphasis>s3d_rotate</emphasis>(object, 90,  0, 0);
+<emphasis>s3d_rotate</emphasis>(object, 180, 0, 0);
 /* object will be rotated 180 degrees around the x-axis, not 270 degress! */
 </programlisting>
 </sect2>
@@ -1178,10 +1094,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_scale</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>,
-float <parameter>s</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter>,
+float <parameter>s</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1196,9 +1110,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_push_event</function></funcdef>
-<paramdef>
-		struct s3d_evt *<parameter>newevt</parameter>
-</paramdef>
+<paramdef>struct s3d_evt *<parameter>newevt</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1212,8 +1124,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>struct s3d_evt *<function>s3d_pop_event</function></funcdef>
-<paramdef>void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1228,9 +1139,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>struct s3d_evt *<function>s3d_find_event</function></funcdef>
-<paramdef>
-uint8_t <parameter>event</parameter>
-</paramdef>
+<paramdef>uint8_t <parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1245,9 +1154,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_delete_event</function></funcdef>
-<paramdef>
-const struct s3d_evt *<parameter>devt</parameter>
-</paramdef>
+<paramdef>const struct s3d_evt *<parameter>devt</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1262,10 +1169,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_set_callback</function></funcdef>
-<paramdef>
-uint8_t <parameter>event</parameter>
-s3d_cb <parameter>func</parameter>
-</paramdef>
+<paramdef>uint8_t <parameter>event</parameter>,
+s3d_cb <parameter>func</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1274,9 +1179,11 @@
 </para>
 <important><para>Defining callbacks will only work after calling <link linkend="s3d_init">s3d_init()</link></para></important>
 <programlisting>
+ <![CDATA[#include <inttypes.h>]]>
+
 void obj_click(<link linkend="s3d_evt">struct s3d_evt</link> event)
 {
-	printf("object id %d got clicked", *((unsigned long *)event->buf));
+	printf("object id %"PRIu32" got clicked", *((uint32_t *)event->buf));
 }
 ...
 	<link linkend="s3d_set_callback">s3d_set_callback</link>(<link linkend="S3D_EVENT_NEW_OBJECT">S3D_EVENT_NEW_OBJECT</link>, obj_click);
@@ -1292,9 +1199,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3d_ignore_callback</function></funcdef>
-<paramdef>
-uint8_t <parameter>event</parameter>
-</paramdef>
+<paramdef>uint8_t <parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1311,9 +1216,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3d_clear_callback</function></funcdef>
-<paramdef>
-uint8_t <parameter>event</parameter>
-</paramdef>
+<paramdef>uint8_t <parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1328,9 +1231,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3d_cb <function>s3d_get_callback</function></funcdef>
-<paramdef>
-uint8_t <parameter>event</parameter>
-</paramdef>
+<paramdef>uint8_t <parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1352,8 +1253,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3d_process_callback</function></funcdef>
-<paramdef>void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1370,9 +1270,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_vector_length</function></funcdef>
-<paramdef>
-const float <parameter>vector</parameter>[]
-</paramdef>
+<paramdef>const float <parameter>vector</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1387,11 +1285,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3d_vector_subtract</function></funcdef>
-<paramdef>
-const float <parameter>vector1</parameter>[],
+<paramdef>const float <parameter>vector1</parameter>[],
 const float <parameter>vector2</parameter>[],
-float <parameter>result_vector</parameter>[]
-</paramdef>
+float <parameter>result_vector</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1407,10 +1303,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_vector_dot_product</function></funcdef>
-<paramdef>
-const float <parameter>vector1</parameter>[],
-const float <parameter>vector2</parameter>[]
-</paramdef>
+<paramdef>const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1426,10 +1320,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_vector_cross_product</function></funcdef>
-<paramdef>
-const float <parameter>vector1</parameter>[],
-const float <parameter>vector2</parameter>[]
-</paramdef>
+<paramdef>const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1446,10 +1338,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_vector_angle</function></funcdef>
-<paramdef>
-const float <parameter>vector1</parameter>[],
-const float <parameter>vector2</parameter>[]
-</paramdef>
+<paramdef>const float <parameter>vector1</parameter>[],
+const float <parameter>vector2</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1466,11 +1356,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>float <function>s3d_angle_to_cam</function></funcdef>
-<paramdef>
-const float <parameter>obj_pos</parameter>[],
+<paramdef>const float <parameter>obj_pos</parameter>[],
 const float <parameter>cam_pos</parameter>[]
-float *<parameter>angle_rad</parameter>
-</paramdef>
+float *<parameter>angle_rad</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1486,9 +1374,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_mcp_focus</function></funcdef>
-<paramdef>
-int <parameter>object</parameter>
-</paramdef>
+<paramdef>int <parameter>object</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1503,9 +1389,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_net_check</function></funcdef>
-<paramdef>
-		void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1652,7 +1536,7 @@
 <term><anchor id="S3D_EVENT_OBJ_CLICK"/>S3D_EVENT_OBJ_CLICK</term>
 <listitem><para>
 An object got clicked (when you set the flag <link linkend="S3D_OF_SELECTABLE">S3D_OF_SELECTABLE</link>), buf will contain the object id
-of the object which got clicked (unsigned long, 4 byte)
+of the object which got clicked (uint32_t)
 </para></listitem>
 </varlistentry>
 

Modified: trunk/Documentation/libs3dw/libs3dw.docbook
===================================================================
--- trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-19 12:13:29 UTC (rev 958)
+++ trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-19 12:13:34 UTC (rev 959)
@@ -34,11 +34,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_surface *<function>s3dw_surface_new</function></funcdef>
-<paramdef>
-const char         *<parameter>title</parameter>,
+<paramdef>const char         *<parameter>title</parameter>,
 float		  <parameter>width</parameter>,
-float		  <parameter>height</parameter>
-</paramdef>
+float		  <parameter>height</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -56,12 +54,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_button *<function>s3dw_button_new</function></funcdef>
-<paramdef>
-const s3dw_surface *<parameter>surface</parameter>,
+<paramdef>const s3dw_surface *<parameter>surface</parameter>,
 const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
-float		  <parameter>posy</parameter>
-</paramdef>
+float		  <parameter>posy</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -80,12 +76,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_input *<function>s3dw_input_new</function></funcdef>
-<paramdef>
-const s3dw_surface *<parameter>surface</parameter>,
+<paramdef>const s3dw_surface *<parameter>surface</parameter>,
 float		  <parameter>width</parameter>,
 float		  <parameter>posx</parameter>,
-float		  <parameter>posy</parameter>
-</paramdef>
+float		  <parameter>posy</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -105,12 +99,10 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_label *<function>s3dw_label_new</function></funcdef>
-<paramdef>
-const s3dw_surface *<parameter>surface</parameter>,
+<paramdef>const s3dw_surface *<parameter>surface</parameter>,
 const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
-float		  <parameter>posy</parameter>
-</paramdef>
+float		  <parameter>posy</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -129,14 +121,12 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_new</function></funcdef>
-<paramdef>
-const s3dw_surface *<parameter>surface</parameter>,
+<paramdef>const s3dw_surface *<parameter>surface</parameter>,
 const char         *<parameter>text</parameter>,
 float		  <parameter>posx</parameter>,
 float		  <parameter>posy</parameter>,
 float		  <parameter>width</parameter>,
-float		  <parameter>height</parameter>
-</paramdef>
+float		  <parameter>height</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -157,9 +147,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_scrollup</function></funcdef>
-<paramdef>
-s3dw_textbox *<parameter>textbox</parameter>
-</paramdef>
+<paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -173,9 +161,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_scrolldown</function></funcdef>
-<paramdef>
-s3dw_textbox *<parameter>textbox</parameter>
-</paramdef>
+<paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -189,9 +175,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_scrollleft</function></funcdef>
-<paramdef>
-s3dw_textbox *<parameter>textbox</parameter>
-</paramdef>
+<paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -205,9 +189,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_scrollright</function></funcdef>
-<paramdef>
-s3dw_textbox *<parameter>textbox</parameter>
-</paramdef>
+<paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -221,11 +203,9 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>s3dw_textbox *<function>s3dw_textbox_scrollto</function></funcdef>
-<paramdef>
-s3dw_textbox *<parameter>textbox</parameter>,
+<paramdef>s3dw_textbox *<parameter>textbox</parameter>,
 int <parameter>x</parameter>,
-int <parameter>y</parameter>
-</paramdef>
+int <parameter>y</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -242,9 +222,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 	<funcdef>s3dw_widget *<function>s3dw_getroot</function></funcdef>
-<paramdef>
-		void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -269,9 +247,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>char *<function>s3dw_input_gettext</function></funcdef>
-<paramdef>
-		s3dw_input *<parameter>input</parameter>
-</paramdef>
+<paramdef>s3dw_input *<parameter>input</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -285,10 +261,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_input_change_text</function></funcdef>
-<paramdef>
-		s3dw_input *<parameter>input</parameter>,
-const 		char *<parameter>text</parameter>
-</paramdef>
+<paramdef>s3dw_input *<parameter>input</parameter>,
+const 		char *<parameter>text</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -302,10 +276,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_label_change_text</function></funcdef>
-<paramdef>
-		s3dw_label *<parameter>label</parameter>,
-const 		char *<parameter>text</parameter>
-</paramdef>
+<paramdef>s3dw_label *<parameter>label</parameter>,
+const 		char *<parameter>text</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -319,10 +291,8 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_textbox_change_text</function></funcdef>
-<paramdef>
-		s3dw_textbox *<parameter>textbox</parameter>,
-const 		char *<parameter>text</parameter>
-</paramdef>
+<paramdef>s3dw_textbox *<parameter>textbox</parameter>,
+const 		char *<parameter>text</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -337,9 +307,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_delete</function></funcdef>
-<paramdef>
-		s3dw_widget *<parameter>widget</parameter>
-</paramdef>
+<paramdef>s3dw_widget *<parameter>widget</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -353,9 +321,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_moveit</function></funcdef>
-<paramdef>
-		s3dw_widget *<parameter>widget</parameter>
-</paramdef>
+<paramdef>s3dw_widget *<parameter>widget</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -370,9 +336,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_show</function></funcdef>
-<paramdef>
-		s3dw_widget *<parameter>widget</parameter>
-</paramdef>
+<paramdef>s3dw_widget *<parameter>widget</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -386,9 +350,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_focus</function></funcdef>
-<paramdef>
-		s3dw_widget *<parameter>widget</parameter>
-</paramdef>
+<paramdef>s3dw_widget *<parameter>widget</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -405,9 +367,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_handle_click</function></funcdef>
-<paramdef>
-const		struct s3d_evt *<parameter>event</parameter>
-</paramdef>
+<paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -439,9 +399,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_handle_key</function></funcdef>
-<paramdef>
-const		struct s3d_evt *<parameter>event</parameter>
-</paramdef>
+<paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -472,9 +430,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_object_info</function></funcdef>
-<paramdef>
-const		struct s3d_evt *<parameter>event</parameter>
-</paramdef>
+<paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -490,8 +446,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_ani_mate</function></funcdef>
-<paramdef>void
-</paramdef>
+<paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>



From dotslash at mail.berlios.de  Tue Aug 19 20:34:12 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Tue, 19 Aug 2008 20:34:12 +0200
Subject: [S3d-svn] r960 - in trunk: Documentation/libs3d libs3d
Message-ID: <200808191834.m7JIYCBt016732@sheep.berlios.de>

Author: dotslash
Date: 2008-08-19 20:34:09 +0200 (Tue, 19 Aug 2008)
New Revision: 960

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
   trunk/libs3d/proto_out.c
Log:
add s3d_push_textures() to docbook, fix a copy+paste bug


Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 12:13:34 UTC (rev 959)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 18:34:09 UTC (rev 960)
@@ -307,7 +307,7 @@
 <para>
 as for vertices, you can push arrays of polygons to have greater performance.
 the pbuf should contain n polygons which consist of 4 uint32_t values
-of 3 vertices indeces and 1 material index.
+of 3 vertices indices and 1 material index.
 </para>
 <programlisting>
 uint32_t pbuf[] = { 0, 1, 2, 0};
@@ -375,7 +375,25 @@
 </para>
 </sect2>
 
+<sect2>
+<title>s3d_push_textures</title>
+<funcsynopsis>
+<funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
+<funcprototype>
+<funcdef>int <function>s3d_push_textures</function></funcdef>
+<paramdef>int <parameter>object</parameter>, 
+const uint16_t *<parameter>*tbuf</parameter>,
+uint16_t <parameter>n</parameter></paramdef>
+</funcprototype>
+</funcsynopsis>
+<para>
+As for vertices, you can push arrays of textures on the texture stack 
+to have greater performance.
+The tbuf should contain n texture sizes which consist of 2 uint16_t values
+for width and height for each texture. 
+</para>
 
+
 <sect2>
 <title>s3d_pop_vertex</title>
 <funcsynopsis>

Modified: trunk/libs3d/proto_out.c
===================================================================
--- trunk/libs3d/proto_out.c	2008-08-19 12:13:34 UTC (rev 959)
+++ trunk/libs3d/proto_out.c	2008-08-19 18:34:09 UTC (rev 960)
@@ -376,7 +376,7 @@
 		s = tbuf + i * stepl / 2;
 		for (j = 0;j < flen / 2;j++)
 			d[j] = htons(s[j]);
-		net_send(S3D_P_C_PUSH_POLY, (char *)buf, flen + 4);
+		net_send(S3D_P_C_PUSH_TEX, (char *)buf, flen + 4);
 	}
 	return(0);
 }



From lazhur at mail.berlios.de  Tue Aug 19 22:16:40 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Tue, 19 Aug 2008 22:16:40 +0200
Subject: [S3d-svn] r961 - trunk/Documentation/libs3d
Message-ID: <200808192016.m7JKGe1h026984@sheep.berlios.de>

Author: lazhur
Date: 2008-08-19 22:16:38 +0200 (Tue, 19 Aug 2008)
New Revision: 961

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
Log:
Documentation: Close <sect2> tag of s3d_push_textures

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 18:34:09 UTC (rev 960)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 20:16:38 UTC (rev 961)
@@ -392,6 +392,7 @@
 The tbuf should contain n texture sizes which consist of 2 uint16_t values
 for width and height for each texture. 
 </para>
+</sect2>
 
 
 <sect2>



From lazhur at mail.berlios.de  Wed Aug 20 00:05:53 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Wed, 20 Aug 2008 00:05:53 +0200
Subject: [S3d-svn] r962 - trunk/libs3d
Message-ID: <200808192205.m7JM5rPt004791@sheep.berlios.de>

Author: lazhur
Date: 2008-08-20 00:05:52 +0200 (Wed, 20 Aug 2008)
New Revision: 962

Modified:
   trunk/libs3d/io.c
Log:
s3dlib: Don't duplicate argv[0] when removing s3d options

This should fix all programs which depend on fixed positions of their arguments (like modelloader).

Modified: trunk/libs3d/io.c
===================================================================
--- trunk/libs3d/io.c	2008-08-19 20:16:38 UTC (rev 961)
+++ trunk/libs3d/io.c	2008-08-19 22:05:52 UTC (rev 962)
@@ -101,12 +101,12 @@
 			break;
 		}
 	}
-	optind = 0;
 	if (*argc > 0) {
 		*argc -= (optind - 1);  /*  hide s3d-options */
 		(*argv)[optind-1] = (*argv)[0]; /*  restore program path */
 		*argv += (optind - 1);  /*  set the string pointer at the right position */
 	}
+	optind = 0;
 	return(0);
 }
 /*  external functions go here ... */



From lazhur at mail.berlios.de  Wed Aug 20 10:23:21 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Wed, 20 Aug 2008 10:23:21 +0200
Subject: [S3d-svn] r963 - in trunk: Documentation/libs3d
	Documentation/libs3dw libs3d libs3dw
Message-ID: <200808200823.m7K8NLv1007256@sheep.berlios.de>

Author: lazhur
Date: 2008-08-20 10:23:20 +0200 (Wed, 20 Aug 2008)
New Revision: 963

Modified:
   trunk/Documentation/libs3d/libs3d.docbook
   trunk/Documentation/libs3dw/libs3dw.docbook
   trunk/libs3d/s3d.h
   trunk/libs3dw/s3dw.h
Log:
Merge minor differences between definition and documentation

Modified: trunk/Documentation/libs3d/libs3d.docbook
===================================================================
--- trunk/Documentation/libs3d/libs3d.docbook	2008-08-19 22:05:52 UTC (rev 962)
+++ trunk/Documentation/libs3d/libs3d.docbook	2008-08-20 08:23:20 UTC (rev 963)
@@ -107,7 +107,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>int <function>s3d_mainloop</function></funcdef>
-<paramdef>void (*<parameter>f</parameter>)()</paramdef>
+<paramdef>void (*<parameter>f</parameter>)(void)</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -300,7 +300,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_polygons</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-const uint32_t *<parameter>*pbuf</parameter>,
+const uint32_t *<parameter>pbuf</parameter>,
 uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -382,7 +382,7 @@
 <funcprototype>
 <funcdef>int <function>s3d_push_textures</function></funcdef>
 <paramdef>int <parameter>object</parameter>, 
-const uint16_t *<parameter>*tbuf</parameter>,
+const uint16_t *<parameter>tbuf</parameter>,
 uint16_t <parameter>n</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -963,12 +963,12 @@
 <funcprototype>
 <funcdef>int <function>s3d_draw_string</function></funcdef>
 <paramdef>const char *<parameter>str</parameter>,
-float *<parameter>len</parameter></paramdef>
+float *<parameter>xlen</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
 Renders the string str with in Truetype format with the height 1, returns
-the length of the rendered string in *len (or set len=NULL to disable this).
+the length of the rendered string in *xlen (or set len=NULL to disable this).
 
 </para>
 <programlisting>
@@ -1128,7 +1128,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_push_event</function></funcdef>
+<funcdef>void <function>s3d_push_event</function></funcdef>
 <paramdef>struct s3d_evt *<parameter>newevt</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1187,7 +1187,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>int <function>s3d_set_callback</function></funcdef>
+<funcdef>void <function>s3d_set_callback</function></funcdef>
 <paramdef>uint8_t <parameter>event</parameter>,
 s3d_cb <parameter>func</parameter></paramdef>
 </funcprototype>
@@ -1271,7 +1271,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>void <function>s3d_process_callback</function></funcdef>
+<funcdef>void <function>s3d_process_stack</function></funcdef>
 <paramdef>void</paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -1338,9 +1338,10 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3d.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>float <function>s3d_vector_cross_product</function></funcdef>
+<funcdef>void <function>s3d_vector_cross_product</function></funcdef>
 <paramdef>const float <parameter>vector1</parameter>[],
-const float <parameter>vector2</parameter>[]</paramdef>
+const float <parameter>vector2</parameter>[],
+float <parameter>result_vector</parameter>[]</paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -1376,7 +1377,7 @@
 <funcprototype>
 <funcdef>float <function>s3d_angle_to_cam</function></funcdef>
 <paramdef>const float <parameter>obj_pos</parameter>[],
-const float <parameter>cam_pos</parameter>[]
+const float <parameter>cam_pos</parameter>[],
 float *<parameter>angle_rad</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>

Modified: trunk/Documentation/libs3dw/libs3dw.docbook
===================================================================
--- trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-19 22:05:52 UTC (rev 962)
+++ trunk/Documentation/libs3dw/libs3dw.docbook	2008-08-20 08:23:20 UTC (rev 963)
@@ -146,7 +146,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>s3dw_textbox *<function>s3dw_textbox_scrollup</function></funcdef>
+<funcdef>void <function>s3dw_textbox_scrollup</function></funcdef>
 <paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -160,7 +160,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>s3dw_textbox *<function>s3dw_textbox_scrolldown</function></funcdef>
+<funcdef>void <function>s3dw_textbox_scrolldown</function></funcdef>
 <paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -174,7 +174,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>s3dw_textbox *<function>s3dw_textbox_scrollleft</function></funcdef>
+<funcdef>void <function>s3dw_textbox_scrollleft</function></funcdef>
 <paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -188,7 +188,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>s3dw_textbox *<function>s3dw_textbox_scrollright</function></funcdef>
+<funcdef>void <function>s3dw_textbox_scrollright</function></funcdef>
 <paramdef>s3dw_textbox *<parameter>textbox</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -202,7 +202,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>s3dw_textbox *<function>s3dw_textbox_scrollto</function></funcdef>
+<funcdef>void <function>s3dw_textbox_scrollto</function></funcdef>
 <paramdef>s3dw_textbox *<parameter>textbox</parameter>,
 int <parameter>x</parameter>,
 int <parameter>y</parameter></paramdef>
@@ -350,7 +350,7 @@
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
 <funcdef>void <function>s3dw_focus</function></funcdef>
-<paramdef>s3dw_widget *<parameter>widget</parameter></paramdef>
+<paramdef>s3dw_widget *<parameter>focus</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>
@@ -366,7 +366,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>void <function>s3dw_handle_click</function></funcdef>
+<funcdef>int <function>s3dw_handle_click</function></funcdef>
 <paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -398,7 +398,7 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>void <function>s3dw_handle_key</function></funcdef>
+<funcdef>int <function>s3dw_handle_key</function></funcdef>
 <paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
@@ -429,8 +429,8 @@
 <funcsynopsis>
 <funcsynopsisinfo><![CDATA[#include <s3dw.h>]]></funcsynopsisinfo>
 <funcprototype>
-<funcdef>void <function>s3dw_object_info</function></funcdef>
-<paramdef>const		struct s3d_evt *<parameter>event</parameter></paramdef>
+<funcdef>int <function>s3dw_object_info</function></funcdef>
+<paramdef>struct s3d_evt *<parameter>event</parameter></paramdef>
 </funcprototype>
 </funcsynopsis>
 <para>

Modified: trunk/libs3d/s3d.h
===================================================================
--- trunk/libs3d/s3d.h	2008-08-19 22:05:52 UTC (rev 962)
+++ trunk/libs3d/s3d.h	2008-08-20 08:23:20 UTC (rev 963)
@@ -141,7 +141,7 @@
 S3DEXPORT int s3d_pep_line(int object, int v1, int v2, int material);
 S3DEXPORT int s3d_pep_lines(int object, const uint32_t *lbuf, uint16_t n);
 S3DEXPORT int s3d_load_line_normals(int object, const float *nbuf, uint32_t start, uint16_t n);
-S3DEXPORT int s3d_load_polygon_normals(int object, const float *nbuf, uint32_t start, uint16_t n) ;
+S3DEXPORT int s3d_load_polygon_normals(int object, const float *nbuf, uint32_t start, uint16_t n);
 S3DEXPORT int s3d_load_polygon_tex_coords(int object, const float *tbuf, uint32_t start, uint16_t n);
 S3DEXPORT int s3d_load_texture(int object, uint32_t tex, uint16_t xpos, uint16_t ypos, uint16_t w, uint16_t h, const uint8_t *data);
 

Modified: trunk/libs3dw/s3dw.h
===================================================================
--- trunk/libs3dw/s3dw.h	2008-08-19 22:05:52 UTC (rev 962)
+++ trunk/libs3dw/s3dw.h	2008-08-20 08:23:20 UTC (rev 963)
@@ -193,9 +193,9 @@
 S3DWEXPORT void      s3dw_textbox_scrollto(s3dw_textbox *textbox, int x, int y);
 S3DWEXPORT void      s3dw_textbox_change_text(s3dw_textbox *textbox, const char *text);
 
-S3DWEXPORT int      s3dw_handle_click(const struct s3d_evt *evt);
-S3DWEXPORT int      s3dw_handle_key(const struct s3d_evt *evt);
-S3DWEXPORT int      s3dw_object_info(struct s3d_evt *evt);
+S3DWEXPORT int      s3dw_handle_click(const struct s3d_evt *event);
+S3DWEXPORT int      s3dw_handle_key(const struct s3d_evt *event);
+S3DWEXPORT int      s3dw_object_info(struct s3d_evt *event);
 
 S3DWEXPORT void      s3dw_ani_mate(void);
 



From lazhur at mail.berlios.de  Wed Aug 20 13:59:21 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Wed, 20 Aug 2008 13:59:21 +0200
Subject: [S3d-svn] r964 - trunk
Message-ID: <200808201159.m7KBxL4N023683@sheep.berlios.de>

Author: lazhur
Date: 2008-08-20 13:59:21 +0200 (Wed, 20 Aug 2008)
New Revision: 964

Modified:
   trunk/ChangeLog
   trunk/TODO
Log:
Updated changelog to reflect important changes in trunk

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-08-20 08:23:20 UTC (rev 963)
+++ trunk/ChangeLog	2008-08-20 11:59:21 UTC (rev 964)
@@ -1,7 +1,15 @@
 (detailed ChangeLog can be generated with "svn log" in a subversion
 Checkout. We will only give a brief summary of the changes here.)
 
-
+2008-??-?? ?? <??@??.??>
+	- GLUT specific parts were removed from server
+	- server will generate mipmaps for textures
+	- SHM connected server and clients will now share their texture buffers
+	  over shm. Clients will only send update notices to inform the
+	  server
+	- s3dosm is now OSM api 0.5 compatible
+	- C++ compatible api headers (no abi changes)
+	- of course: fixed various bugs
 2007-10-24 Simon Wunderlich - <dotslash at packetmixer.de>
 	- Released S3D Version 0.2
 	- now using cmake instead of autohell, which seems to be faster,

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-08-20 08:23:20 UTC (rev 963)
+++ trunk/TODO	2008-08-20 11:59:21 UTC (rev 964)
@@ -3,6 +3,4 @@
 dot_mcp:
 	* sane paths for applications
 cmake:
-	* Build the documentation (to html at least) if the user has
-	  docbook stuff installed.
 	* Apple todo: won't find -lX11 (for s3d_x11gate) while compiling



From lazhur at mail.berlios.de  Fri Aug 22 00:22:51 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 22 Aug 2008 00:22:51 +0200
Subject: [S3d-svn] r965 - trunk/server
Message-ID: <200808212222.m7LMMp09002091@sheep.berlios.de>

Author: lazhur
Date: 2008-08-22 00:22:49 +0200 (Fri, 22 Aug 2008)
New Revision: 965

Modified:
   trunk/server/object.c
Log:
Let the gpu/driver generate the mipmaps

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-20 11:59:21 UTC (rev 964)
+++ trunk/server/object.c	2008-08-21 22:22:49 UTC (rev 965)
@@ -1518,49 +1518,6 @@
 
 }
 
-static void tex_build_mipmaps(struct t_tex *tex)
-{
-	int     i, w, h, x, y, c;
-	unsigned char  *buf, *src;
-	w = tex->w;
-	h = tex->h;
-	glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
-	glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA,
-	             tex->w, tex->h, 0,  /*  no border. */
-	             GL_RGBA, GL_UNSIGNED_BYTE, tex->buf);
-	/* this is fairly hacky, but we only use one buffer and decrease the image left-top to right-bottom,
-	 * so we only read from elements AFTER the updated (written) elements. */
-	buf = (unsigned char*)malloc((w / 2) * (h / 2) * 4);
-	src = tex->buf;
-	i = 1;
-	while (w != 1 || h != 1) {
-		if (w != 1) {
-			w /= 2;
-		}
-
-		if (h != 1) {
-			h /= 2;
-		}
-
-		if ((w == 0) || (h == 0)) break;
-		/* TODO: handle texture borders which have not even width or height */
-		for (y = 0; y < h; y++)
-			for (x = 0; x < w; x++)
-				for (c = 0; c < 4; c++) {
-					buf[(y * w + x)*4 + c] = ((uint16_t)
-					                          src[(2  * y      * 2 * w + 2 * x)     * 4 + c] +
-					                          src[((2 * y + 1) * 2 * w + 2 * x)     * 4 + c] +
-					                          src[(2  * y      * 2 * w + 2 * x + 1) * 4 + c] +
-					                          src[((2 * y + 1) * 2 * w + 2 * x + 1) * 4 + c]) / 4;
-					/*     s3dprintf(MED,"texture: %d, x = %d, y = %d, c = %d, buf = %02x\n", i, x, y, c, buf[(y * w + x)*4 + c]);*/
-
-				}
-		glTexImage2D(GL_TEXTURE_2D, i, GL_RGBA, w, h, 0,   GL_RGBA, GL_UNSIGNED_BYTE, buf);
-		src = buf;
-		i++;
-	}
-	free(buf);
-}
 /* generate textures */
 static void texture_gen(struct t_obj *obj)
 {
@@ -1574,20 +1531,12 @@
 			glBindTexture(GL_TEXTURE_2D, t);
 			tex->gl_texnum = t;
 			s3dprintf(LOW, "generated texture %d [%dx%d, in memory %dx%d]", t, tex->tw, tex->th, tex->w, tex->h);
-			/*    for (j=0;j<tex->th;j++)
-			    for (i=0;i<tex->tw;i++)
-			    {
-			     s3dprintf(MED,"pixel[%d,%d], %d %d %d %d",i,j,
-			         tex->buf[(j*tex->w+i)*4+0],
-			         tex->buf[(j*tex->w+i)*4+1],
-			         tex->buf[(j*tex->w+i)*4+2],
-			         tex->buf[(j*tex->w+i)*4+3]);
-			    }*/
 			/*  texture has to be generated yet ... */
-			tex_build_mipmaps(tex);
-			/*   glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA,
-			                tex->w, tex->h, 0,  / *  no border. * /
-			                GL_RGBA, GL_UNSIGNED_BYTE, tex->buf);*/
+			glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
+			glTexParameteri(GL_TEXTURE_2D, GL_GENERATE_MIPMAP, GL_TRUE);
+			glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA,
+			             tex->w, tex->h, 0,  /*  no border. */
+			             GL_RGBA, GL_UNSIGNED_BYTE, tex->buf);
 
 		}
 	}



From lazhur at mail.berlios.de  Fri Aug 22 00:23:02 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 22 Aug 2008 00:23:02 +0200
Subject: [S3d-svn] r966 - trunk/server
Message-ID: <200808212223.m7LMN2hH002134@sheep.berlios.de>

Author: lazhur
Date: 2008-08-22 00:23:02 +0200 (Fri, 22 Aug 2008)
New Revision: 966

Modified:
   trunk/server/object.c
Log:
Only update textures when receiving new data

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-21 22:22:49 UTC (rev 965)
+++ trunk/server/object.c	2008-08-21 22:23:02 UTC (rev 966)
@@ -866,11 +866,12 @@
 
 	if ((tex->gl_texnum) != -1) {
 		t = tex->gl_texnum;
-		/* s3dprintf(MED,"updating texture %d at [%d %d] with a [%d %d] pixbuf",t,x,y,w,h); */
-		/*   glTexSubImage2D(t,0,x,y,w,h,GL_RGBA,GL_UNSIGNED_BYTE,pixbuf); */
+		s3dprintf(MED, "updating texture %d at [%d %d] with a [%d %d] pixbuf", t, x, y, w, h);
 
-		glDeleteTextures(1, &t);
-		tex->gl_texnum = -1;
+		glBindTexture(GL_TEXTURE_2D, t);
+		glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
+		glTexParameteri(GL_TEXTURE_2D, GL_GENERATE_MIPMAP, GL_TRUE);
+		glTexSubImage2D(GL_TEXTURE_2D, 0, 0, 0, tex->w, tex->h, GL_RGBA, GL_UNSIGNED_BYTE, tex->buf);
 	}
 	return(0);
 }



From lazhur at mail.berlios.de  Fri Aug 22 12:55:54 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 22 Aug 2008 12:55:54 +0200
Subject: [S3d-svn] r967 - trunk/server
Message-ID: <200808221055.m7MAtsDA022786@sheep.berlios.de>

Author: lazhur
Date: 2008-08-22 12:55:52 +0200 (Fri, 22 Aug 2008)
New Revision: 967

Modified:
   trunk/server/object.c
Log:
Don't mark used parameter of obj_load_tex as unused

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-21 22:23:02 UTC (rev 966)
+++ trunk/server/object.c	2008-08-22 10:55:52 UTC (rev 967)
@@ -45,7 +45,6 @@
 
 int texture_shm_register(struct t_tex *tex, int bufsize);
 void texture_delete(struct t_tex *tex);
-
 /*  debugging function for objects, prints out some stuff known about it... */
 int obj_debug(struct t_process *p, int32_t oid)
 {
@@ -840,7 +839,7 @@
 	return(0);
 }
 /* notify graphic system that the texture is updated */
-int obj_update_tex(struct t_process *p, int32_t oid, int32_t tid,uint16_t S3DUNUSED(x), uint16_t S3DUNUSED(y), uint16_t S3DUNUSED(w), uint16_t S3DUNUSED(h), uint8_t *S3DUNUSED(pixbuf))
+int obj_update_tex(struct t_process *p, int32_t oid, int32_t tid, uint16_t x, uint16_t y, uint16_t w, uint16_t h, uint8_t *S3DUNUSED(pixbuf))
 {
 	GLuint t;
 	struct t_obj *obj;



From lazhur at mail.berlios.de  Mon Aug 25 11:50:52 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 25 Aug 2008 11:50:52 +0200
Subject: [S3d-svn] r971 - trunk/libs3d
Message-ID: <200808250950.m7P9oq2L011797@sheep.berlios.de>

Author: lazhur
Date: 2008-08-25 11:50:51 +0200 (Mon, 25 Aug 2008)
New Revision: 971

Modified:
   trunk/libs3d/hash.c
   trunk/libs3d/hash.h
   trunk/libs3d/sei_construct.c
   trunk/libs3d/sei_interface.h
   trunk/libs3d/sei_misc.c
   trunk/libs3d/sei_monotone.c
   trunk/libs3d/sei_tri.c
   trunk/libs3d/sei_triangulate.h
Log:
Use rfc822 email addresses in copyright headers

Modified: trunk/libs3d/hash.c
===================================================================
--- trunk/libs3d/hash.c	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/hash.c	2008-08-25 09:50:51 UTC (rev 971)
@@ -2,7 +2,7 @@
  * hash.h
  *
  * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
- *          Marek Lindner
+ *                         Marek Lindner <lindner_marek at yahoo.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/hash.h
===================================================================
--- trunk/libs3d/hash.h	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/hash.h	2008-08-25 09:50:51 UTC (rev 971)
@@ -2,7 +2,7 @@
  * hash.h
  *
  * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
- *          Marek Lindner
+ *                         Marek Lindner <lindner_marek at yahoo.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/sei_construct.c
===================================================================
--- trunk/libs3d/sei_construct.c	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_construct.c	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_construct.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_interface.h
===================================================================
--- trunk/libs3d/sei_interface.h	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_interface.h	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_interface.h
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_misc.c
===================================================================
--- trunk/libs3d/sei_misc.c	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_misc.c	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_misc.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_monotone.c
===================================================================
--- trunk/libs3d/sei_monotone.c	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_monotone.c	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_monotone.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_tri.c
===================================================================
--- trunk/libs3d/sei_tri.c	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_tri.c	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_tri.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_triangulate.h
===================================================================
--- trunk/libs3d/sei_triangulate.h	2008-08-24 21:33:09 UTC (rev 970)
+++ trunk/libs3d/sei_triangulate.h	2008-08-25 09:50:51 UTC (rev 971)
@@ -1,7 +1,7 @@
 /*
  * sei_triangulate.h
  *
- * Copyright (C) 2006-2007 Simon Wunderlich
+ * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>



From lazhur at mail.berlios.de  Mon Aug 25 23:40:14 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 25 Aug 2008 23:40:14 +0200
Subject: [S3d-svn] r972 - trunk
Message-ID: <200808252140.m7PLeERS025770@sheep.berlios.de>

Author: lazhur
Date: 2008-08-25 23:40:13 +0200 (Mon, 25 Aug 2008)
New Revision: 972

Modified:
   trunk/README
Log:
Update my mail address

Modified: trunk/README
===================================================================
--- trunk/README	2008-08-25 09:50:51 UTC (rev 971)
+++ trunk/README	2008-08-25 21:40:13 UTC (rev 972)
@@ -84,7 +84,7 @@
 
 7. TEAM
 -------
-	Sven Eckelmann <ecsv at hrz.tu-chemnitz.de>
+	Sven Eckelmann <sven.eckelmann at gmx.de>
 	Mike Graenz <mog at users.berlios.de>
 	Andreas Kohn <andreas at syndrom23.de>
 	Andreas Langer <andreas_lbg at gmx.de>



From lazhur at mail.berlios.de  Mon Aug 25 23:40:19 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Mon, 25 Aug 2008 23:40:19 +0200
Subject: [S3d-svn] r973 - trunk
Message-ID: <200808252140.m7PLeJtu025811@sheep.berlios.de>

Author: lazhur
Date: 2008-08-25 23:40:19 +0200 (Mon, 25 Aug 2008)
New Revision: 973

Modified:
   trunk/CMakeLists.txt
Log:
Don't add project path to object search path in release mode

Modified: trunk/CMakeLists.txt
===================================================================
--- trunk/CMakeLists.txt	2008-08-25 21:40:13 UTC (rev 972)
+++ trunk/CMakeLists.txt	2008-08-25 21:40:19 UTC (rev 973)
@@ -13,7 +13,11 @@
 list(APPEND CMAKE_MODULE_PATH "${s3d_SOURCE_DIR}/cmake/modules")
 
 # set path to objects
-set(OBJECTPATH "${CMAKE_INSTALL_PREFIX}/share/s3d/objs:${s3d_SOURCE_DIR}/objs")
+set(OBJECTPATH "${CMAKE_INSTALL_PREFIX}/share/s3d/objs")
+STRING(TOUPPER "${CMAKE_BUILD_TYPE}" BUILD_TYPE)
+if (NOT BUILD_TYPE MATCHES "REL(WITHDEBINFO|EASE)")
+	set(OBJECTPATH "${OBJECTPATH}:${s3d_SOURCE_DIR}/objs")
+endif (NOT BUILD_TYPE MATCHES "REL(WITHDEBINFO|EASE)")
 
 # set debug level with -DDEBUG=level
 include(SetDebugLevel)



From dotslash at mail.berlios.de  Wed Aug 27 20:25:26 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Wed, 27 Aug 2008 20:25:26 +0200
Subject: [S3d-svn] r975 - in trunk: . apps/dot_mcp apps/meshs3d
	apps/s3d_x11gate apps/s3dfm apps/s3dosm apps/s3dvt libs3d
	libs3dw server
Message-ID: <200808271825.m7RIPQXe026170@sheep.berlios.de>

Author: dotslash
Date: 2008-08-27 20:25:21 +0200 (Wed, 27 Aug 2008)
New Revision: 975

Modified:
   trunk/ChangeLog
   trunk/apps/dot_mcp/dot_mcp.h
   trunk/apps/dot_mcp/main.c
   trunk/apps/dot_mcp/menu.c
   trunk/apps/meshs3d/main.c
   trunk/apps/meshs3d/meshs3d.h
   trunk/apps/meshs3d/net.c
   trunk/apps/meshs3d/process.c
   trunk/apps/s3d_x11gate/s3d_x11gate.c
   trunk/apps/s3dfm/animation.c
   trunk/apps/s3dfm/box.c
   trunk/apps/s3dfm/dialog.c
   trunk/apps/s3dfm/event.c
   trunk/apps/s3dfm/fly.c
   trunk/apps/s3dfm/focus.c
   trunk/apps/s3dfm/fs.c
   trunk/apps/s3dfm/icon.c
   trunk/apps/s3dfm/main.c
   trunk/apps/s3dfm/node.c
   trunk/apps/s3dfm/parse.c
   trunk/apps/s3dfm/s3dfm.h
   trunk/apps/s3dfm/string.c
   trunk/apps/s3dosm/bbbikepol_to_osm.pl
   trunk/apps/s3dosm/db.c
   trunk/apps/s3dosm/draw.c
   trunk/apps/s3dosm/gps.c
   trunk/apps/s3dosm/io.c
   trunk/apps/s3dosm/kismet.c
   trunk/apps/s3dosm/main.c
   trunk/apps/s3dosm/nav.c
   trunk/apps/s3dosm/object.c
   trunk/apps/s3dosm/olsrdump_convert.pl
   trunk/apps/s3dosm/olsrs3d.h
   trunk/apps/s3dosm/osm.c
   trunk/apps/s3dosm/s3dosm.h
   trunk/apps/s3dosm/search.h
   trunk/apps/s3dosm/structs.h
   trunk/apps/s3dosm/tag.c
   trunk/apps/s3dosm/ui.c
   trunk/apps/s3dvt/main.c
   trunk/apps/s3dvt/s3dvt.h
   trunk/apps/s3dvt/terminal.c
   trunk/libs3d/callback.c
   trunk/libs3d/config.h
   trunk/libs3d/error.c
   trunk/libs3d/event.c
   trunk/libs3d/fontselect.c
   trunk/libs3d/freetype.c
   trunk/libs3d/hash.c
   trunk/libs3d/hash.h
   trunk/libs3d/io.c
   trunk/libs3d/modelread.c
   trunk/libs3d/network.c
   trunk/libs3d/object_queue.c
   trunk/libs3d/proto_in.c
   trunk/libs3d/proto_out.c
   trunk/libs3d/s3d.h
   trunk/libs3d/s3d_keysym.h
   trunk/libs3d/s3dlib.h
   trunk/libs3d/sei_construct.c
   trunk/libs3d/sei_interface.h
   trunk/libs3d/sei_misc.c
   trunk/libs3d/sei_monotone.c
   trunk/libs3d/sei_tri.c
   trunk/libs3d/sei_triangulate.h
   trunk/libs3d/shm.c
   trunk/libs3d/shm_ringbuf.c
   trunk/libs3d/tcp.c
   trunk/libs3d/texture.c
   trunk/libs3d/vector.c
   trunk/libs3dw/animate.c
   trunk/libs3dw/arrange.c
   trunk/libs3dw/button.c
   trunk/libs3dw/event.c
   trunk/libs3dw/input.c
   trunk/libs3dw/label.c
   trunk/libs3dw/root.c
   trunk/libs3dw/s3dw.h
   trunk/libs3dw/s3dw_int.h
   trunk/libs3dw/scrollbar.c
   trunk/libs3dw/style.c
   trunk/libs3dw/surface.c
   trunk/libs3dw/textbox.c
   trunk/libs3dw/widget.c
   trunk/server/allocate.c
   trunk/server/allocate.h
   trunk/server/config.h
   trunk/server/cull.c
   trunk/server/error.c
   trunk/server/event.c
   trunk/server/global.h
   trunk/server/graphics.c
   trunk/server/graphics_sdl.c
   trunk/server/main.c
   trunk/server/matrix.c
   trunk/server/mcp.c
   trunk/server/navigation.c
   trunk/server/network.c
   trunk/server/object.c
   trunk/server/process.c
   trunk/server/proto.c
   trunk/server/proto.h
   trunk/server/shm.c
   trunk/server/shm_ringbuf.c
   trunk/server/tcp.c
   trunk/server/user.c
   trunk/server/user_sdl.c
Log:
Update Changelog, fix copyrights for release


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/ChangeLog	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 (detailed ChangeLog can be generated with "svn log" in a subversion
 Checkout. We will only give a brief summary of the changes here.)
 
-2008-??-?? ?? <??@??.??>
+2008-08-27 Simon Wunderlich <dotslash at packetmixer.de>
 	- GLUT specific parts were removed from server
 	- server will generate mipmaps for textures
 	- SHM connected server and clients will now share their texture buffers
@@ -9,7 +9,7 @@
 	  server
 	- s3dosm is now OSM api 0.5 compatible
 	- C++ compatible api headers (no abi changes)
-	- of course: fixed various bugs
+	- of course: fixed various bugs (Thanks Sven for your effort!!)
 2007-10-24 Simon Wunderlich - <dotslash at packetmixer.de>
 	- Released S3D Version 0.2
 	- now using cmake instead of autohell, which seems to be faster,

Modified: trunk/apps/dot_mcp/dot_mcp.h
===================================================================
--- trunk/apps/dot_mcp/dot_mcp.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/dot_mcp/dot_mcp.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * dot_mcp.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of dot_mcp, a mcp for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/dot_mcp/main.c
===================================================================
--- trunk/apps/dot_mcp/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/dot_mcp/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of dot_mcp, a mcp for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/dot_mcp/menu.c
===================================================================
--- trunk/apps/dot_mcp/menu.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/dot_mcp/menu.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * menu.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of dot_mcp, a mcp for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/meshs3d/main.c
===================================================================
--- trunk/apps/meshs3d/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/meshs3d/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/meshs3d/meshs3d.h
===================================================================
--- trunk/apps/meshs3d/meshs3d.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/meshs3d/meshs3d.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * meshs3d.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/meshs3d/net.c
===================================================================
--- trunk/apps/meshs3d/net.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/meshs3d/net.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * net.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/meshs3d/process.c
===================================================================
--- trunk/apps/meshs3d/process.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/meshs3d/process.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * process.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/s3d_x11gate/s3d_x11gate.c
===================================================================
--- trunk/apps/s3d_x11gate/s3d_x11gate.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3d_x11gate/s3d_x11gate.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3d_x11gate.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d_x11gate, a 3d gateway for x11 desktops.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/animation.c
===================================================================
--- trunk/apps/s3dfm/animation.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/animation.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * animation.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/box.c
===================================================================
--- trunk/apps/s3dfm/box.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/box.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * box.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/dialog.c
===================================================================
--- trunk/apps/s3dfm/dialog.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/dialog.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * dialog.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/event.c
===================================================================
--- trunk/apps/s3dfm/event.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/event.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * event.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/fly.c
===================================================================
--- trunk/apps/s3dfm/fly.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/fly.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * fly.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/focus.c
===================================================================
--- trunk/apps/s3dfm/focus.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/focus.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * focus.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/fs.c
===================================================================
--- trunk/apps/s3dfm/fs.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/fs.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,6 +1,6 @@
 /*
  * fs.c
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/icon.c
===================================================================
--- trunk/apps/s3dfm/icon.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/icon.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * icon.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/main.c
===================================================================
--- trunk/apps/s3dfm/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/node.c
===================================================================
--- trunk/apps/s3dfm/node.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/node.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * node.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/parse.c
===================================================================
--- trunk/apps/s3dfm/parse.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/parse.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/s3dfm.h
===================================================================
--- trunk/apps/s3dfm/s3dfm.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/s3dfm.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dfm.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dfm/string.c
===================================================================
--- trunk/apps/s3dfm/string.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dfm/string.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * string.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dfm, a s3d file manager.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/bbbikepol_to_osm.pl
===================================================================
--- trunk/apps/s3dosm/bbbikepol_to_osm.pl	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/bbbikepol_to_osm.pl	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 #!/usr/bin/env perl
 #
 #
-# Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+# Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
 #
 # This file is part of s3dosm, a gps card application for s3d.
 # See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/db.c
===================================================================
--- trunk/apps/s3dosm/db.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/db.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * db.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/draw.c
===================================================================
--- trunk/apps/s3dosm/draw.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/draw.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * draw.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/gps.c
===================================================================
--- trunk/apps/s3dosm/gps.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/gps.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * gps.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/io.c
===================================================================
--- trunk/apps/s3dosm/io.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/io.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * io.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/kismet.c
===================================================================
--- trunk/apps/s3dosm/kismet.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/kismet.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * kismet.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/main.c
===================================================================
--- trunk/apps/s3dosm/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/nav.c
===================================================================
--- trunk/apps/s3dosm/nav.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/nav.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * nav.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/object.c
===================================================================
--- trunk/apps/s3dosm/object.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/object.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * object.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/olsrdump_convert.pl
===================================================================
--- trunk/apps/s3dosm/olsrdump_convert.pl	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/olsrdump_convert.pl	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 #!/usr/bin/env perl
 #
 #
-# Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+# Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
 #
 # This file is part of s3dosm, a gps card application for s3d.
 # See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/olsrs3d.h
===================================================================
--- trunk/apps/s3dosm/olsrs3d.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/olsrs3d.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * olsrs3d.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/s3dosm/osm.c
===================================================================
--- trunk/apps/s3dosm/osm.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/osm.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,8 @@
 /*
  * osm.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>,
+ *                         Sven Eckelmann <sven.eckelmann at gmx.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/s3dosm.h
===================================================================
--- trunk/apps/s3dosm/s3dosm.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/s3dosm.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dosm.h
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/search.h
===================================================================
--- trunk/apps/s3dosm/search.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/search.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * search.h
  *
- * Copyright (C) 2006 Andreas Langer <andreas_lbg at gmx.de>
+ * Copyright (C) 2006-2008 Andreas Langer <andreas_lbg at gmx.de>
  *
  * This file is part of the olsrs3d, an olsr topology visualizer for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/structs.h
===================================================================
--- trunk/apps/s3dosm/structs.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/structs.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * structs.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/apps/s3dosm/tag.c
===================================================================
--- trunk/apps/s3dosm/tag.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/tag.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * tag.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dosm/ui.c
===================================================================
--- trunk/apps/s3dosm/ui.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dosm/ui.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * ui.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3dosm, a gps card application for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/apps/s3dvt/main.c
===================================================================
--- trunk/apps/s3dvt/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dvt/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 2002 Alexander Graf <helly at gmx.net>
  *
  * This file is part of s3dvt, a 3d terminal emulator for s3d.

Modified: trunk/apps/s3dvt/s3dvt.h
===================================================================
--- trunk/apps/s3dvt/s3dvt.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dvt/s3dvt.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dvt.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 2002 Alexander Graf <helly at gmx.net>
  *
  * This file is part of s3dvt, a 3d terminal emulator for s3d.

Modified: trunk/apps/s3dvt/terminal.c
===================================================================
--- trunk/apps/s3dvt/terminal.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/apps/s3dvt/terminal.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * terminal.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 2002 Alexander Graf <helly at gmx.net>
  *
  * This file is part of s3dvt, a 3d terminal emulator for s3d.

Modified: trunk/libs3d/callback.c
===================================================================
--- trunk/libs3d/callback.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/callback.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * callback.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/config.h
===================================================================
--- trunk/libs3d/config.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/config.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * config.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/error.c
===================================================================
--- trunk/libs3d/error.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/error.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * error.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/event.c
===================================================================
--- trunk/libs3d/event.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/event.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * event.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/fontselect.c
===================================================================
--- trunk/libs3d/fontselect.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/fontselect.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * fontselect.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/freetype.c
===================================================================
--- trunk/libs3d/freetype.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/freetype.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * freetype.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/hash.c
===================================================================
--- trunk/libs3d/hash.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/hash.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * hash.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).

Modified: trunk/libs3d/hash.h
===================================================================
--- trunk/libs3d/hash.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/hash.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * hash.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).

Modified: trunk/libs3d/io.c
===================================================================
--- trunk/libs3d/io.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/io.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * io.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/modelread.c
===================================================================
--- trunk/libs3d/modelread.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/modelread.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * modelread.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/network.c
===================================================================
--- trunk/libs3d/network.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/network.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * network.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/object_queue.c
===================================================================
--- trunk/libs3d/object_queue.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/object_queue.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * object_queue.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/proto_in.c
===================================================================
--- trunk/libs3d/proto_in.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/proto_in.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * proto_in.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/proto_out.c
===================================================================
--- trunk/libs3d/proto_out.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/proto_out.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * proto_out.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/s3d.h
===================================================================
--- trunk/libs3d/s3d.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/s3d.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,8 @@
 /*
  * s3d.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>,
+ *                         Sven Eckelmann <sven.eckelmann at gmx.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/s3d_keysym.h
===================================================================
--- trunk/libs3d/s3d_keysym.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/s3d_keysym.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3d_keysym.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1997-2004 Sam Lantinga <slouken at libsdl.org>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).

Modified: trunk/libs3d/s3dlib.h
===================================================================
--- trunk/libs3d/s3dlib.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/s3dlib.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dlib.h
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/sei_construct.c
===================================================================
--- trunk/libs3d/sei_construct.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_construct.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_construct.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_interface.h
===================================================================
--- trunk/libs3d/sei_interface.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_interface.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_interface.h
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_misc.c
===================================================================
--- trunk/libs3d/sei_misc.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_misc.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_misc.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_monotone.c
===================================================================
--- trunk/libs3d/sei_monotone.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_monotone.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_monotone.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_tri.c
===================================================================
--- trunk/libs3d/sei_tri.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_tri.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_tri.c
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/sei_triangulate.h
===================================================================
--- trunk/libs3d/sei_triangulate.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/sei_triangulate.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * sei_triangulate.h
  *
- * Copyright (C) 2006-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * Copyright (C) 1994 A. Narkhede and D .Manocha, who released their code
  * for public domain:
  * <snip>

Modified: trunk/libs3d/shm.c
===================================================================
--- trunk/libs3d/shm.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/shm.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * shm.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/shm_ringbuf.c
===================================================================
--- trunk/libs3d/shm_ringbuf.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/shm_ringbuf.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * shm_ringbuf.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/tcp.c
===================================================================
--- trunk/libs3d/tcp.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/tcp.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * tcp.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/texture.c
===================================================================
--- trunk/libs3d/texture.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/texture.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * texture.c
  *
- * Copyright (C) 2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2007-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d API, the API of s3d (the 3d network display server).
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3d/vector.c
===================================================================
--- trunk/libs3d/vector.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3d/vector.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * vector.c
  *
- * Copyright (C) 2004-2007 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *                         Marek Lindner <lindner_marek at yahoo.de>
  *                         Andreas Langer <andreas_lbg at gmx.de>
  *

Modified: trunk/libs3dw/animate.c
===================================================================
--- trunk/libs3dw/animate.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/animate.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * animate.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/arrange.c
===================================================================
--- trunk/libs3dw/arrange.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/arrange.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * arrange.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/button.c
===================================================================
--- trunk/libs3dw/button.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/button.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * button.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/event.c
===================================================================
--- trunk/libs3dw/event.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/event.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * event.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/input.c
===================================================================
--- trunk/libs3dw/input.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/input.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * input.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/label.c
===================================================================
--- trunk/libs3dw/label.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/label.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * label.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/root.c
===================================================================
--- trunk/libs3dw/root.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/root.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * root.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/s3dw.h
===================================================================
--- trunk/libs3dw/s3dw.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/s3dw.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dw.h
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/s3dw_int.h
===================================================================
--- trunk/libs3dw/s3dw_int.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/s3dw_int.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * s3dw_int.h
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/scrollbar.c
===================================================================
--- trunk/libs3dw/scrollbar.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/scrollbar.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * scrollbar.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/style.c
===================================================================
--- trunk/libs3dw/style.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/style.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * style.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/surface.c
===================================================================
--- trunk/libs3dw/surface.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/surface.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * surface.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/textbox.c
===================================================================
--- trunk/libs3dw/textbox.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/textbox.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * textbox.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/libs3dw/widget.c
===================================================================
--- trunk/libs3dw/widget.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/libs3dw/widget.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * widget.c
  *
- * Copyright (C) 2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2006-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of the s3d Widgets, a Widget Library for s3d.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/allocate.c
===================================================================
--- trunk/server/allocate.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/allocate.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * allocate.c
  *
- * Copyright (C) 2006  Marek Lindner <lindner_marek at yahoo.de>
+ * Copyright (C) 2006-2008  Marek Lindner <lindner_marek at yahoo.de>
  *       Thomas Lopatic
  *       Corinna 'Elektra' Aichele
  *       Axel Neumann

Modified: trunk/server/allocate.h
===================================================================
--- trunk/server/allocate.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/allocate.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * allocate.h
  *
- * Copyright (C) 2006  Marek Lindner <lindner_marek at yahoo.de>
+ * Copyright (C) 2006-2008  Marek Lindner <lindner_marek at yahoo.de>
  *      Thomas Lopatic
  *       Corinna 'Elektra' Aichele
  *       Axel Neumann

Modified: trunk/server/config.h
===================================================================
--- trunk/server/config.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/config.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * config.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/cull.c
===================================================================
--- trunk/server/cull.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/cull.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * cull.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  * code originated from  http://www.racer.nl/reference/vfc.htm
  * which is (C) Ruud van Gaal
  *

Modified: trunk/server/error.c
===================================================================
--- trunk/server/error.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/error.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * error.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/event.c
===================================================================
--- trunk/server/event.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/event.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * event.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/global.h
===================================================================
--- trunk/server/global.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/global.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * global.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/graphics.c
===================================================================
--- trunk/server/graphics.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/graphics.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * graphics.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/graphics_sdl.c
===================================================================
--- trunk/server/graphics_sdl.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/graphics_sdl.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * graphics_sdl.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/main.c
===================================================================
--- trunk/server/main.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/main.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * main.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/matrix.c
===================================================================
--- trunk/server/matrix.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/matrix.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * matrix.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/mcp.c
===================================================================
--- trunk/server/mcp.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/mcp.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * mcp.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/navigation.c
===================================================================
--- trunk/server/navigation.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/navigation.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * navigation.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/network.c
===================================================================
--- trunk/server/network.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/network.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * network.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/object.c
===================================================================
--- trunk/server/object.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/object.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,8 @@
 /*
  * object.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
+ *                         Sven Eckelmann <sven.eckelmann at gmx.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/process.c
===================================================================
--- trunk/server/process.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/process.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * process.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/proto.c
===================================================================
--- trunk/server/proto.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/proto.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * proto.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/proto.h
===================================================================
--- trunk/server/proto.h	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/proto.h	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * proto.h
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/shm.c
===================================================================
--- trunk/server/shm.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/shm.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * shm.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/shm_ringbuf.c
===================================================================
--- trunk/server/shm_ringbuf.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/shm_ringbuf.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * shm_ringbuf.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/tcp.c
===================================================================
--- trunk/server/tcp.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/tcp.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * tcp.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/user.c
===================================================================
--- trunk/server/user.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/user.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * user.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.

Modified: trunk/server/user_sdl.c
===================================================================
--- trunk/server/user_sdl.c	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/server/user_sdl.c	2008-08-27 18:25:21 UTC (rev 975)
@@ -1,7 +1,7 @@
 /*
  * user_sdl.c
  *
- * Copyright (C) 2004-2006 Simon Wunderlich <dotslash at packetmixer.de>
+ * Copyright (C) 2004-2008 Simon Wunderlich <dotslash at packetmixer.de>
  *
  * This file is part of s3d, a 3d network display server.
  * See http://s3d.berlios.de/ for more updates.



From dotslash at mail.berlios.de  Wed Aug 27 20:28:16 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Wed, 27 Aug 2008 20:28:16 +0200
Subject: [S3d-svn] r976 - tags
Message-ID: <200808271828.m7RISGim026802@sheep.berlios.de>

Author: dotslash
Date: 2008-08-27 20:28:16 +0200 (Wed, 27 Aug 2008)
New Revision: 976

Added:
   tags/s3d-0.2.1/
Log:
tag 0.2.1 release


Copied: tags/s3d-0.2.1 (from rev 975, trunk)



From dotslash at mail.berlios.de  Wed Aug 27 20:28:42 2008
From: dotslash at mail.berlios.de (dotslash at BerliOS)
Date: Wed, 27 Aug 2008 20:28:42 +0200
Subject: [S3d-svn] r977 - tags/s3d-0.2.1
Message-ID: <200808271828.m7RISg7a026869@sheep.berlios.de>

Author: dotslash
Date: 2008-08-27 20:28:42 +0200 (Wed, 27 Aug 2008)
New Revision: 977

Removed:
   tags/s3d-0.2.1/experimental/
Log:
remove experimental stuff from 0.2.1 release




From lazhur at mail.berlios.de  Fri Aug 29 18:42:34 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 29 Aug 2008 18:42:34 +0200
Subject: [S3d-svn] r978 - trunk/Documentation/manpages
Message-ID: <200808291642.m7TGgY3Q023901@sheep.berlios.de>

Author: lazhur
Date: 2008-08-29 18:42:32 +0200 (Fri, 29 Aug 2008)
New Revision: 978

Added:
   trunk/Documentation/manpages/build-manpages.sh
   trunk/Documentation/manpages/s3d_x11gatemanpage.sgml
Removed:
   trunk/Documentation/manpages/s3d_x11gate.sgml
Modified:
   trunk/Documentation/manpages/dot_mcp.1
   trunk/Documentation/manpages/kism3d.1
   trunk/Documentation/manpages/meshs3d.1
   trunk/Documentation/manpages/meshs3dmanpage.sgml
   trunk/Documentation/manpages/s3d.1
   trunk/Documentation/manpages/s3d_x11gate.1
   trunk/Documentation/manpages/s3dfm.1
   trunk/Documentation/manpages/s3dfmmanpage.sgml
   trunk/Documentation/manpages/s3dmanpage.sgml
   trunk/Documentation/manpages/s3dosm.1
   trunk/Documentation/manpages/s3dosmmanpage.sgml
   trunk/Documentation/manpages/s3dvt.1
   trunk/Documentation/manpages/s3dvtmanpage.sgml
Log:
Rebuild manpages with docbook-to-man

To fix the debian hyphen-used-as-minus-sign we can use docbook-to-man, but must
change some line breaks to fix its output slightly. To support an easy way to
recreate the man pages the script build-manpages.sh was added.

Added: trunk/Documentation/manpages/build-manpages.sh
===================================================================
--- trunk/Documentation/manpages/build-manpages.sh	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/build-manpages.sh	2008-08-29 16:42:32 UTC (rev 978)
@@ -0,0 +1,4 @@
+#! /bin/sh -e
+for man in dot_mcp.1  kism3d.1  meshs3d.1  s3d.1  s3dfm.1  s3dosm.1  s3dvt.1  s3d_x11gate.1; \
+               do docbook-to-man ${man%??}manpage.sgml >$man; \
+done


Property changes on: trunk/Documentation/manpages/build-manpages.sh
___________________________________________________________________
Name: svn:executable
   + *

Modified: trunk/Documentation/manpages/dot_mcp.1
===================================================================
--- trunk/Documentation/manpages/dot_mcp.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/dot_mcp.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,29 +1,25 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "DOT_MCP" "1" "24 August 2008" "" ""
-
-.SH NAME
-dot_mcp \- mcp for s3d
-.SH SYNOPSIS
-
-\fBdot_mcp\fR [ \fB--s3d-url \fIurl\fB\fR ]
-
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBdot_mcp\fR is below.
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "DESCRIPTION"
-.PP
-\fBdot_mcp(1)\fR is a mcp (which is the window manager in s3d-terms) for s3d.
-.PP
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "dot_mcp" "1" 
+.SH "NAME" 
+dot_mcp \(em  mcp for s3d  
+.SH "SYNOPSIS" 
+.PP 
+\fBdot_mcp\fR [\-\-s3d-url \fIurl\fR]  
+.SH "OPTIONS" 
+.PP 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBdot_mcp\fR is below. 
+ 
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "DESCRIPTION" 
+.PP 
+\fBdot_mcp(1)\fR is a mcp (which is the window manager in s3d-terms) for s3d. 
+ 
+.PP 
+ 
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/kism3d.1
===================================================================
--- trunk/Documentation/manpages/kism3d.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/kism3d.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,29 +1,26 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "KISM3D" "1" "24 August 2008" "" ""
-
-.SH NAME
-kism3d \- 802.11 visualizer for s3d
-.SH SYNOPSIS
-
-\fBkism3d\fR [ \fB--s3d-url \fIurl\fB\fR ] \fB\fIHOST\fB:\fIPORT\fB\fR
-
-.SH "DESCRIPTION"
-.PP
-\fBkism3d(1)\fR is a 3D 802.11 visualizer for kismet.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBkism3d\fR is below.
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1), \fBkismet\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "kism3d" "1" 
+.SH "NAME" 
+kism3d \(em  802.11 visualizer for s3d  
+.SH "SYNOPSIS" 
+.PP 
+\fBkism3d\fR [\-\-s3d-url \fIurl\fR] \fIHOST\fR:\fIPORT\fR  
+.SH "DESCRIPTION" 
+.PP 
+\fBkism3d(1)\fR is a 3D 802.11 visualizer for kismet. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+ 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBkism3d\fR is below. 
+ 
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1), \fBkismet\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/meshs3d.1
===================================================================
--- trunk/Documentation/manpages/meshs3d.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/meshs3d.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,38 +1,32 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "MESHS3D" "1" "24 August 2008" "" ""
-
-.SH NAME
-meshs3d \- olsr/batman topology visualizer for s3d
-.SH SYNOPSIS
-
-\fBmeshs3d\fR [ \fB-d\fR ] [ \fB-H \fInode\fB\fR ] [ \fB-h|--help\fR ] [ \fB--s3d-url \fIurl\fB\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBmeshs3d(1)\fR is a 3D topology visualizer for olsr/batman and compatible data.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBmeshs3d\fR is below.
-.TP
-\fB-h, --help \fR
-Show summary of options and exit. 
-.TP
-\fB-d\fR
-Enable debug mode 
-.TP
-\fB-H \fInode\fB\fR
-connect to olsr node. By default meshs3d uses localhost
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1), \fBolsrd\fR(8), \fBbatmand\fR (8).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "meshs3d" "1" 
+.SH "NAME" 
+meshs3d \(em  olsr/batman topology visualizer for s3d  
+.SH "SYNOPSIS" 
+.PP 
+\fBmeshs3d\fR [\-d]  [\-H \fInode\fR]  [\-h|\-\-help]  [\-\-s3d-url \fIurl\fR]  
+.SH "DESCRIPTION" 
+.PP 
+\fBmeshs3d(1)\fR is a 3D topology visualizer for olsr/batman and compatible data. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+ 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBmeshs3d\fR is below. 
+ 
+.IP "\fB-h\fP, \fB\-\-help\fP 				" 10 
+Show summary of options and exit.  
+.IP "\fB-d\fP" 10 
+Enable debug mode  
+.IP "\fB-H \fInode\fR\fP" 10 
+connect to olsr node. By default meshs3d uses localhost 
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1), \fBolsrd\fR(8), \fBbatmand\fR (8). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/meshs3dmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/meshs3dmanpage.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/meshs3dmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -41,8 +41,7 @@
 		</para>
 		<variablelist>
 			<varlistentry>
-				<term><option>-h</option>,
-					<option>--help</option>
+				<term><option>-h</option>, <option>--help</option>
 				</term>
 				<listitem> 
 					<para> Show summary of options and exit. </para> 

Modified: trunk/Documentation/manpages/s3d.1
===================================================================
--- trunk/Documentation/manpages/s3d.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3d.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,38 +1,34 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "S3D" "1" "09 August 2008" "" ""
-
-.SH NAME
-s3d \- network display server
-.SH SYNOPSIS
-
-\fBs3d\fR [ \fB-s|--use-sdl\fR ] [ \fB-r|--rc \fIrc-script\fB\fR ] [ \fB-n|--no-rc\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBs3d(1)\fR is a network display server which can be used as 3d desktop environment.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBs3d\fR is below.
-.TP
-\fB-s, --use-sdl\fR
-Tells s3d to use SDL as graphics framework system. 
-.TP
-\fB-r \fIrc-script\fB, --rc \fIrc-script\fB\fR
-Use the specified file as rc-script. By default s3d uses ~/.s3drc as
-per-user rc-script and /etc/s3drc as system-wide rc-script
-.TP
-\fB-n, --no-rc\fR
-Don't use rc-scripts even if the exist in the apropriate locations. 
-.SH "SEE ALSO"
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
-.SH "AUTHOR"
-.PP
-This manual page was written by Timo Schneider <timo.schneider at s2004.tu-chemnitz.de> 
-for the Debian project (but may be used by others).
+.TH "s3d" "1" 
+.SH "NAME" 
+s3d \(em  network display server  
+.SH "SYNOPSIS" 
+.PP 
+\fBs3d\fR [\-s|\-\-use-sdl]  [\-r|\-\-rc \fIrc-script\fR]  [\-n|\-\-no-rc]  
+.SH "DESCRIPTION" 
+.PP 
+\fBs3d(1)\fR is a network display server which can be used as 3d desktop environment. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+ 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBs3d\fR is below. 
+ 
+.IP "\fB-s\fP, \fB\-\-use-sdl\fP" 10 
+Tells s3d to use SDL as graphics framework system.  
+.IP "\fB-r \fIrc-script\fR\fP, \fB\-\-rc \fIrc-script\fR\fP" 10 
+Use the specified file as rc-script. By default s3d uses ~/.s3drc as 
+per-user rc-script and /etc/s3drc as system-wide rc-script 
+.IP "\fB-n\fP, \fB\-\-no-rc\fP" 10 
+Don't use rc-scripts even if the exist in the apropriate locations.  
+.SH "SEE ALSO" 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.SH "AUTHOR" 
+.PP 
+This manual page was written by Timo Schneider timo.schneider at s2004.tu-chemnitz.de  
+for the \fBDebian\fP project (but may be used by others). 
+ 
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/s3d_x11gate.1
===================================================================
--- trunk/Documentation/manpages/s3d_x11gate.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3d_x11gate.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,32 +1,27 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "S3D_X11GATE" "1" "24 August 2008" "" ""
-
-.SH NAME
-s3d_x11gate \- 3d gateway for x11 desktops
-.SH SYNOPSIS
-
-\fBs3d_x11gate\fR [ \fB-h|--help\fR ] [ \fB--s3d-url \fIurl\fB\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBs3d_x11gate(1)\fR is a 3D gateway for x11 desktops.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBs3d_x11gate\fR is below.
-.TP
-\fB-h, --help \fR
-Show summary of options and exit. 
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "s3d_x11gate" "1" 
+.SH "NAME" 
+s3d_x11gate \(em  3d gateway for x11 desktops  
+.SH "SYNOPSIS" 
+.PP 
+\fBs3d_x11gate\fR [\-h|\-\-help]  [\-\-s3d-url \fIurl\fR]  
+.SH "DESCRIPTION" 
+.PP 
+\fBs3d_x11gate(1)\fR is a 3D gateway for x11 desktops. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBs3d_x11gate\fR is below. 
+ 
+.IP "\fB-h\fP, \fB\-\-help\fP 				" 10 
+Show summary of options and exit.  
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Deleted: trunk/Documentation/manpages/s3d_x11gate.sgml
===================================================================
--- trunk/Documentation/manpages/s3d_x11gate.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3d_x11gate.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,67 +0,0 @@
-<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
-  <!ENTITY gnu         "<acronym>GNU</acronym>">
-
-  <!ENTITY program     "s3d_x11gate">
-]>
-<refentry id="s3dx11gate">
-
-	<refmeta>
-		<refentrytitle>&program;</refentrytitle>
-		<manvolnum>1</manvolnum>
-	</refmeta>
-
-	<refnamediv>
-		<refname>&program;</refname>
-		<refpurpose> 3d gateway for x11 desktops </refpurpose>
-	</refnamediv>
-
-	<refsynopsisdiv>
-		<cmdsynopsis>
-			<command>&program;</command>
-			<arg choice="opt">-h|--help</arg>
-			<arg choice="opt">--s3d-url <replaceable>url</replaceable></arg>
-		</cmdsynopsis>
-	</refsynopsisdiv>
-
-	<refsect1>
-		<title>DESCRIPTION</title>
-		<para>
-			<command>&program;(1)</command> is a 3D gateway for x11 desktops.
-		</para>
-		<para> </para>
-	</refsect1>
-
-	<refsect1>
-		<title>OPTIONS</title>
-		<para>
-			This program follows the usual &gnu; command line syntax. A summary of
-			the options supported by <command>&program;</command> is below.
-		</para>
-		<variablelist>
-			<varlistentry>
-				<term><option>-h</option>,
-					<option>--help</option>
-				</term>
-				<listitem>
-					<para> Show summary of options and exit. </para>
-				</listitem>
-			</varlistentry>
-			<varlistentry>
-				<term><option>--s3d-url <replaceable>url</replaceable></option></term>
-				<listitem>
-					<para> skip S3D environment and connect to this url </para>
-				</listitem>
-			</varlistentry>
-		</variablelist>
-	</refsect1>
-
-	<refsect1>
-		<title>SEE ALSO</title>
-		<para> <command>s3d</command>(1).</para>
-
-		<para> <ulink url="http://s3d.berlios.de/"> s3d project page on berlios </ulink> </para>
-		<!--TODO: ADD REFERENCE TO APPS AND /usr/share/doc/s3d/ -->
-	</refsect1>
-
-</refentry>
-

Copied: trunk/Documentation/manpages/s3d_x11gatemanpage.sgml (from rev 974, trunk/Documentation/manpages/s3d_x11gate.sgml)
===================================================================
--- trunk/Documentation/manpages/s3d_x11gate.sgml	2008-08-26 17:14:42 UTC (rev 974)
+++ trunk/Documentation/manpages/s3d_x11gatemanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -0,0 +1,66 @@
+<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
+  <!ENTITY gnu         "<acronym>GNU</acronym>">
+
+  <!ENTITY program     "s3d_x11gate">
+]>
+<refentry id="s3dx11gate">
+
+	<refmeta>
+		<refentrytitle>&program;</refentrytitle>
+		<manvolnum>1</manvolnum>
+	</refmeta>
+
+	<refnamediv>
+		<refname>&program;</refname>
+		<refpurpose> 3d gateway for x11 desktops </refpurpose>
+	</refnamediv>
+
+	<refsynopsisdiv>
+		<cmdsynopsis>
+			<command>&program;</command>
+			<arg choice="opt">-h|--help</arg>
+			<arg choice="opt">--s3d-url <replaceable>url</replaceable></arg>
+		</cmdsynopsis>
+	</refsynopsisdiv>
+
+	<refsect1>
+		<title>DESCRIPTION</title>
+		<para>
+			<command>&program;(1)</command> is a 3D gateway for x11 desktops.
+		</para>
+		<para> </para>
+	</refsect1>
+
+	<refsect1>
+		<title>OPTIONS</title>
+		<para>
+			This program follows the usual &gnu; command line syntax. A summary of
+			the options supported by <command>&program;</command> is below.
+		</para>
+		<variablelist>
+			<varlistentry>
+				<term><option>-h</option>, <option>--help</option>
+				</term>
+				<listitem>
+					<para>Show summary of options and exit. </para>
+				</listitem>
+			</varlistentry>
+			<varlistentry>
+				<term><option>--s3d-url <replaceable>url</replaceable></option></term>
+				<listitem>
+					<para> skip S3D environment and connect to this url </para>
+				</listitem>
+			</varlistentry>
+		</variablelist>
+	</refsect1>
+
+	<refsect1>
+		<title>SEE ALSO</title>
+		<para> <command>s3d</command>(1).</para>
+
+		<para> <ulink url="http://s3d.berlios.de/"> s3d project page on berlios </ulink> </para>
+		<!--TODO: ADD REFERENCE TO APPS AND /usr/share/doc/s3d/ -->
+	</refsect1>
+
+</refentry>
+

Modified: trunk/Documentation/manpages/s3dfm.1
===================================================================
--- trunk/Documentation/manpages/s3dfm.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dfm.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,32 +1,28 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "S3DFM" "1" "24 August 2008" "" ""
-
-.SH NAME
-s3dfm \- s3d file manager
-.SH SYNOPSIS
-
-\fBs3dfm\fR [ \fB-h|--help\fR ] [ \fB--s3d-url \fIurl\fB\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBs3dfm(1)\fR is a 3D file manager.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBs3dfm\fR is below.
-.TP
-\fB-h, --help \fR
-Show summary of options and exit. 
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "s3dfm" "1" 
+.SH "NAME" 
+s3dfm \(em  s3d file manager  
+.SH "SYNOPSIS" 
+.PP 
+\fBs3dfm\fR [\-h|\-\-help]  [\-\-s3d-url \fIurl\fR]  
+.SH "DESCRIPTION" 
+.PP 
+\fBs3dfm(1)\fR is a 3D file manager. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+ 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBs3dfm\fR is below. 
+ 
+.IP "\fB-h\fP, \fB\-\-help\fP 				" 10 
+Show summary of options and exit.  
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/s3dfmmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/s3dfmmanpage.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dfmmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -39,8 +39,7 @@
 		</para>
 		<variablelist>
 			<varlistentry>
-				<term><option>-h</option>,
-					<option>--help</option>
+				<term><option>-h</option>, <option>--help</option>
 				</term>
 				<listitem> 
 					<para> Show summary of options and exit. </para> 

Modified: trunk/Documentation/manpages/s3dmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/s3dmanpage.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -41,23 +41,20 @@
 		</para>
 		<variablelist>
 			<varlistentry> 
-				<term><option>-s</option>,
-					<option>--use-sdl</option></term>
+				<term><option>-s</option>, <option>--use-sdl</option></term>
 				<listitem> 
 					<para> Tells &program; to use SDL as graphics framework system. </para>
 				</listitem>
 			</varlistentry> 
 			<varlistentry> 
-				<term><option>-r <replaceable>rc-script</replaceable></option>,
-					<option>--rc <replaceable>rc-script</replaceable></option></term>
+				<term><option>-r <replaceable>rc-script</replaceable></option>, <option>--rc <replaceable>rc-script</replaceable></option></term>
 				<listitem> 
 					<para> Use the specified file as rc-script. By default &program; uses ~/.s3drc as
 						   per-user rc-script and /etc/s3drc as system-wide rc-script</para>
 				</listitem> 
 			</varlistentry>
 			<varlistentry> 
-				<term><option>-n</option>,
-					<option>--no-rc</option></term>
+				<term><option>-n</option>, <option>--no-rc</option></term>
 				<listitem> 
 					<para> Don't use rc-scripts even if the exist in the apropriate locations. </para>
 				</listitem> 

Modified: trunk/Documentation/manpages/s3dosm.1
===================================================================
--- trunk/Documentation/manpages/s3dosm.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dosm.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,42 +1,44 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "S3DOSM" "1" "24 August 2008" "" ""
-
-.SH NAME
-s3dosm \- gps card application for s3d
-.SH SYNOPSIS
-
-\fBs3dosm\fR [ \fB-o|--osm \fIMINLAT\fB,\fIMINLON\fB,\fIMAXLAT\fB,\fIMAXLON\fB\fR ] [ \fB-h|--help\fR ] [ \fB--s3d-url \fIurl\fB\fR ] [ \fB\fIfiles\fB\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBs3dosm(1)\fR is a 3D gps card application for openstreetmap/kismet xml card data.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBs3dosm\fR is below.
-.TP
-\fB-h, --help \fR
-Show summary of options and exit. 
-.TP
-\fB-o, --osm \fIMINLAT\fB,\fIMINLON\fB,\fIMAXLAT\fB,\fIMAXLON\fB \fR
-Load a map with the given bounding box from the openstreetmap server. 
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "EXAMPLES"
-.PP
-
-.nf
-$ \fBs3osm --osm \fI12.90142,50.82475,12.93352,50.84592\fB\fR
-$ \fBs3osm \fIosmdata\fB\&.xml\fR
-.fi
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "s3dosm" "1" 
+.SH "NAME" 
+s3dosm \(em  gps card application for s3d  
+.SH "SYNOPSIS" 
+.PP 
+\fBs3dosm\fR [\-o|\-\-osm \fIMINLAT\fR,\fIMINLON\fR,\fIMAXLAT\fR,\fIMAXLON\fR]  [\-h|\-\-help]  [\-\-s3d-url \fIurl\fR]  [\fIfiles\fR]  
+.SH "DESCRIPTION" 
+.PP 
+\fBs3dosm(1)\fR is a 3D gps card application for openstreetmap/kismet xml card data. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBs3dosm\fR is below. 
+ 
+.IP "\fB-h\fP, \fB\-\-help\fP 				" 10 
+Show summary of options and exit.  
+.IP "\fB-o\fP, \fB\-\-osm\fP \fIMINLAT\fR,\fIMINLON\fR,\fIMAXLAT\fR,\fIMAXLON\fR 				" 10 
+Load a map with the given bounding box from the openstreetmap server.  
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "EXAMPLES" 
+.PP 
+ 
+.PP 
+.nf 
+$  
+.ft B 
+s3osm \-\-osm \fI12.90142,50.82475,12.93352,50.84592\fR 
+.ft$  
+.ft B 
+s3osm \fIosmdata\fR.xml 
+.ft 
+.fi 
+ 
+ 
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/s3dosmmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/s3dosmmanpage.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dosmmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -41,17 +41,14 @@
 		</para>
 		<variablelist>
 			<varlistentry>
-				<term><option>-h</option>,
-					<option>--help</option>
+				<term><option>-h</option>, <option>--help</option>
 				</term>
 				<listitem>
 					<para> Show summary of options and exit. </para>
 				</listitem>
 			</varlistentry>
 			<varlistentry>
-				<term><option>-o</option>,
-					<option>--osm</option>
-					<replaceable>MINLAT</replaceable>,<replaceable>MINLON</replaceable>,<replaceable>MAXLAT</replaceable>,<replaceable>MAXLON</replaceable>
+				<term><option>-o</option>, <option>--osm</option> <replaceable>MINLAT</replaceable>,<replaceable>MINLON</replaceable>,<replaceable>MAXLAT</replaceable>,<replaceable>MAXLON</replaceable>
 				</term>
 				<listitem>
 					<para> Load a map with the given bounding box from the openstreetmap server. </para>

Modified: trunk/Documentation/manpages/s3dvt.1
===================================================================
--- trunk/Documentation/manpages/s3dvt.1	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dvt.1	2008-08-29 16:42:32 UTC (rev 978)
@@ -1,32 +1,27 @@
-.\" This manpage has been automatically generated by docbook2man 
-.\" from a DocBook document.  This tool can be found at:
-.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
-.\" Please send any bug reports, improvements, comments, patches, 
-.\" etc. to Steve Cheng <steve at ggi-project.org>.
-.TH "S3DVT" "1" "24 August 2008" "" ""
-
-.SH NAME
-s3dvt \- 3d terminal emulator for s3d
-.SH SYNOPSIS
-
-\fBs3dvt\fR [ \fB-h|--help\fR ] [ \fB--s3d-url \fIurl\fB\fR ]
-
-.SH "DESCRIPTION"
-.PP
-\fBs3dvt(1)\fR is a terminal emulator.
-.PP
-.SH "OPTIONS"
-.PP
-This program follows the usual GNU command line syntax. A summary of
-the options supported by \fBs3dvt\fR is below.
-.TP
-\fB-h, --help \fR
-Show summary of options and exit. 
-.TP
-\fB--s3d-url \fIurl\fB\fR
-skip S3D environment and connect to this url 
-.SH "SEE ALSO"
-.PP
-\fBs3d\fR(1).
-.PP
-s3d project page on berlios  <URL:http://s3d.berlios.de/> 
+.TH "s3dvt" "1" 
+.SH "NAME" 
+s3dvt \(em  3d terminal emulator for s3d  
+.SH "SYNOPSIS" 
+.PP 
+\fBs3dvt\fR [\-h|\-\-help]  [\-\-s3d-url \fIurl\fR]  
+.SH "DESCRIPTION" 
+.PP 
+\fBs3dvt(1)\fR is a terminal emulator. 
+ 
+.PP 
+ 
+.SH "OPTIONS" 
+.PP 
+This program follows the usual GNU command line syntax. A summary of 
+the options supported by \fBs3dvt\fR is below. 
+ 
+.IP "\fB-h\fP, \fB\-\-help\fP 				" 10 
+Show summary of options and exit.  
+.IP "\fB\-\-s3d-url \fIurl\fR\fP" 10 
+skip S3D environment and connect to this url  
+.SH "SEE ALSO" 
+.PP 
+\fBs3d\fR(1). 
+.PP 
+\fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 

Modified: trunk/Documentation/manpages/s3dvtmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/s3dvtmanpage.sgml	2008-08-27 18:28:42 UTC (rev 977)
+++ trunk/Documentation/manpages/s3dvtmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
@@ -39,8 +39,7 @@
 		</para>
 		<variablelist>
 			<varlistentry>
-				<term><option>-h</option>,
-					<option>--help</option>
+				<term><option>-h</option>, <option>--help</option>
 				</term>
 				<listitem>
 					<para> Show summary of options and exit. </para>



From lazhur at mail.berlios.de  Fri Aug 29 19:00:27 2008
From: lazhur at mail.berlios.de (lazhur at BerliOS)
Date: Fri, 29 Aug 2008 19:00:27 +0200
Subject: [S3d-svn] r979 - trunk/Documentation/manpages
Message-ID: <200808291700.m7TH0R14017085@sheep.berlios.de>

Author: lazhur
Date: 2008-08-29 19:00:25 +0200 (Fri, 29 Aug 2008)
New Revision: 979

Modified:
   trunk/Documentation/manpages/s3dosm.1
   trunk/Documentation/manpages/s3dosmmanpage.sgml
Log:
Fix missing line break introduced by docbook-to-man

Modified: trunk/Documentation/manpages/s3dosm.1
===================================================================
--- trunk/Documentation/manpages/s3dosm.1	2008-08-29 16:42:32 UTC (rev 978)
+++ trunk/Documentation/manpages/s3dosm.1	2008-08-29 17:00:25 UTC (rev 979)
@@ -29,7 +29,8 @@
 $  
 .ft B 
 s3osm \-\-osm \fI12.90142,50.82475,12.93352,50.84592\fR 
-.ft$  
+.ft  
+$  
 .ft B 
 s3osm \fIosmdata\fR.xml 
 .ft 
@@ -41,4 +42,4 @@
 \fBs3d\fR(1). 
 .PP 
 \fI s3d project page on berlios  (link to URL http://s3d.berlios.de/) \fR  
-.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:39 
+.\" created by instant / docbook-to-man, Fri 29 Aug 2008, 18:58 

Modified: trunk/Documentation/manpages/s3dosmmanpage.sgml
===================================================================
--- trunk/Documentation/manpages/s3dosmmanpage.sgml	2008-08-29 16:42:32 UTC (rev 978)
+++ trunk/Documentation/manpages/s3dosmmanpage.sgml	2008-08-29 17:00:25 UTC (rev 979)
@@ -68,6 +68,7 @@
 		<para>
 		<screen
 ><prompt>$ </prompt><userinput>s3osm --osm <replaceable>12.90142,50.82475,12.93352,50.84592</replaceable></userinput>
+
 <prompt>$ </prompt><userinput>s3osm <replaceable>osmdata</replaceable>.xml</userinput>
 </screen>
 



